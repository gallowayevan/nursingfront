var app=function(){"use strict";function t(){}const e=t=>t;function n(t,e){for(const n in e)t[n]=e[n];return t}function r(t){return t()}function o(){return Object.create(null)}function i(t){t.forEach(r)}function a(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let s;function c(t,e){return s||(s=document.createElement("a")),s.href=e,t===s.href}function u(e,n,r){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}(n,r))}function f(t,e,r,o){return t[1]&&o?n(r.ctx.slice(),t[1](o(e))):r.ctx}const d="undefined"!=typeof window;let h=d?()=>window.performance.now():()=>Date.now(),p=d?t=>requestAnimationFrame(t):t;const g=new Set;function m(t){g.forEach(e=>{e.c(t)||(g.delete(e),e.f())}),0!==g.size&&p(m)}function y(t){let e;return 0===g.size&&p(m),{promise:new Promise(n=>{g.add(e={c:t,f:n})}),abort(){g.delete(e)}}}function v(t,e){t.appendChild(e)}function b(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function w(t){const e=k("style");return function(t,e){v(t.head||t,e)}(b(t),e),e}function $(t,e,n){t.insertBefore(e,n||null)}function x(t){t.parentNode.removeChild(t)}function S(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function k(t){return document.createElement(t)}function M(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function _(t){return document.createTextNode(t)}function N(){return _(" ")}function T(){return _("")}function E(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function A(t){return function(e){return e.preventDefault(),t.call(this,e)}}function C(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function j(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function O(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function L(t,e){t.value=null==e?"":e}function P(t,e,n,r){t.style.setProperty(e,n,r?"important":"")}function R(t,e,n){t.classList[n?"add":"remove"](e)}function H(t,e,n=!1){const r=document.createEvent("CustomEvent");return r.initCustomEvent(t,n,!1,e),r}const D=new Set;let z,B=0;function Y(t,e,n,r,o,i,a,l=0){const s=16.666/r;let c="{\n";for(let t=0;t<=1;t+=s){const r=e+(n-e)*i(t);c+=100*t+`%{${a(r,1-r)}}\n`}const u=c+`100% {${a(n,1-n)}}\n}`,f=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(u)}_${l}`,d=b(t);D.add(d);const h=d.__svelte_stylesheet||(d.__svelte_stylesheet=w(t).sheet),p=d.__svelte_rules||(d.__svelte_rules={});p[f]||(p[f]=!0,h.insertRule(`@keyframes ${f} ${u}`,h.cssRules.length));const g=t.style.animation||"";return t.style.animation=`${g?g+", ":""}${f} ${r}ms linear ${o}ms 1 both`,B+=1,f}function F(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),o=n.length-r.length;o&&(t.style.animation=r.join(", "),B-=o,B||p(()=>{B||(D.forEach(t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}}),D.clear())}))}function I(t){z=t}function q(){if(!z)throw new Error("Function called outside component initialization");return z}function U(t){q().$$.on_mount.push(t)}function W(){const t=q();return(e,n)=>{const r=t.$$.callbacks[e];if(r){const o=H(e,n);r.slice().forEach(e=>{e.call(t,o)})}}}function V(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(t=>t.call(this,e))}const G=[],X=[],Z=[],J=[],K=Promise.resolve();let Q=!1;function tt(){Q||(Q=!0,K.then(it))}function et(){return tt(),K}function nt(t){Z.push(t)}let rt=!1;const ot=new Set;function it(){if(!rt){rt=!0;do{for(let t=0;t<G.length;t+=1){const e=G[t];I(e),at(e.$$)}for(I(null),G.length=0;X.length;)X.pop()();for(let t=0;t<Z.length;t+=1){const e=Z[t];ot.has(e)||(ot.add(e),e())}Z.length=0}while(G.length);for(;J.length;)J.pop()();Q=!1,rt=!1,ot.clear()}}function at(t){if(null!==t.fragment){t.update(),i(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(nt)}}let lt;function st(t,e,n){t.dispatchEvent(H(`${e?"intro":"outro"}${n}`))}const ct=new Set;let ut;function ft(){ut={r:0,c:[],p:ut}}function dt(){ut.r||i(ut.c),ut=ut.p}function ht(t,e){t&&t.i&&(ct.delete(t),t.i(e))}function pt(t,e,n,r){if(t&&t.o){if(ct.has(t))return;ct.add(t),ut.c.push(()=>{ct.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}}const gt={duration:0};function mt(n,r,o,l){let s=r(n,o),c=l?0:1,u=null,f=null,d=null;function p(){d&&F(n,d)}function g(t,e){const n=t.b-c;return e*=Math.abs(n),{a:c,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function m(r){const{delay:o=0,duration:a=300,easing:l=e,tick:m=t,css:v}=s||gt,b={start:h()+o,b:r};r||(b.group=ut,ut.r+=1),u||f?f=b:(v&&(p(),d=Y(n,c,r,a,o,l,v)),r&&m(0,1),u=g(b,a),nt(()=>st(n,r,"start")),y(t=>{if(f&&t>f.start&&(u=g(f,a),f=null,st(n,u.b,"start"),v&&(p(),d=Y(n,c,u.b,u.duration,0,l,s.css))),u)if(t>=u.end)m(c=u.b,1-c),st(n,u.b,"end"),f||(u.b?p():--u.group.r||i(u.group.c)),u=null;else if(t>=u.start){const e=t-u.start;c=u.a+u.d*l(e/u.duration),m(c,1-c)}return!(!u&&!f)}))}return{run(t){a(s)?(lt||(lt=Promise.resolve(),lt.then(()=>{lt=null})),lt).then(()=>{s=s(),m(t)}):m(t)},end(){p(),u=f=null}}}const yt="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function vt(t,e){pt(t,1,1,()=>{e.delete(t.key)})}function bt(t,e,n,r,o,i,a,l,s,c,u,f){let d=t.length,h=i.length,p=d;const g={};for(;p--;)g[t[p].key]=p;const m=[],y=new Map,v=new Map;for(p=h;p--;){const t=f(o,i,p),l=n(t);let s=a.get(l);s?r&&s.p(t,e):(s=c(l,t),s.c()),y.set(l,m[p]=s),l in g&&v.set(l,Math.abs(p-g[l]))}const b=new Set,w=new Set;function $(t){ht(t,1),t.m(l,u),a.set(t.key,t),u=t.first,h--}for(;d&&h;){const e=m[h-1],n=t[d-1],r=e.key,o=n.key;e===n?(u=e.first,d--,h--):y.has(o)?!a.has(r)||b.has(r)?$(e):w.has(o)?d--:v.get(r)>v.get(o)?(w.add(r),$(e)):(b.add(o),d--):(s(n,a),d--)}for(;d--;){const e=t[d];y.has(e.key)||s(e,a)}for(;h;)$(m[h-1]);return m}function wt(t,e){const n={},r={},o={$$scope:1};let i=t.length;for(;i--;){const a=t[i],l=e[i];if(l){for(const t in a)t in l||(r[t]=1);for(const t in l)o[t]||(n[t]=l[t],o[t]=1);t[i]=l}else for(const t in a)o[t]=1}for(const t in r)t in n||(n[t]=void 0);return n}function $t(t){return"object"==typeof t&&null!==t?t:{}}function xt(t){t&&t.c()}function St(t,e,n,o){const{fragment:l,on_mount:s,on_destroy:c,after_update:u}=t.$$;l&&l.m(e,n),o||nt(()=>{const e=s.map(r).filter(a);c?c.push(...e):i(e),t.$$.on_mount=[]}),u.forEach(nt)}function kt(t,e){const n=t.$$;null!==n.fragment&&(i(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Mt(e,n,r,a,l,s,c,u=[-1]){const f=z;I(e);const d=e.$$={fragment:null,ctx:null,props:s,update:t,not_equal:l,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(f?f.$$.context:[])),callbacks:o(),dirty:u,skip_bound:!1,root:n.target||f.$$.root};c&&c(d.root);let h=!1;if(d.ctx=r?r(e,n.props||{},(t,n,...r)=>{const o=r.length?r[0]:n;return d.ctx&&l(d.ctx[t],d.ctx[t]=o)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](o),h&&function(t,e){-1===t.$$.dirty[0]&&(G.push(t),tt(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(e,t)),n}):[],d.update(),h=!0,i(d.before_update),d.fragment=!!a&&a(d.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);d.fragment&&d.fragment.l(t),t.forEach(x)}else d.fragment&&d.fragment.c();n.intro&&ht(e.$$.fragment),St(e,n.target,n.anchor,n.customElement),it()}I(f)}class _t{$destroy(){kt(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Nt=[];function Tt(t){return t<.5?4*t*t*t:.5*Math.pow(2*t-2,3)+1}function Et(t){return"[object Date]"===Object.prototype.toString.call(t)}function At(t,e){if(t===e||t!=t)return()=>t;const n=typeof t;if(n!==typeof e||Array.isArray(t)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const n=e.map((e,n)=>At(t[n],e));return t=>n.map(e=>e(t))}if("object"===n){if(!t||!e)throw new Error("Object cannot be null");if(Et(t)&&Et(e)){t=t.getTime();const n=(e=e.getTime())-t;return e=>new Date(t+e*n)}const n=Object.keys(e),r={};return n.forEach(n=>{r[n]=At(t[n],e[n])}),t=>{const e={};return n.forEach(n=>{e[n]=r[n](t)}),e}}if("number"===n){const n=e-t;return e=>t+e*n}throw new Error(`Cannot interpolate ${n} values`)}function Ct(r,o={}){const i=function(e,n=t){let r;const o=new Set;function i(t){if(l(e,t)&&(e=t,r)){const t=!Nt.length;for(const t of o)t[1](),Nt.push(t,e);if(t){for(let t=0;t<Nt.length;t+=2)Nt[t][0](Nt[t+1]);Nt.length=0}}}return{set:i,update:function(t){i(t(e))},subscribe:function(a,l=t){const s=[a,l];return o.add(s),1===o.size&&(r=n(i)||t),a(e),()=>{o.delete(s),0===o.size&&(r(),r=null)}}}}(r);let a,s=r;function c(t,l){if(null==r)return i.set(r=t),Promise.resolve();s=t;let c=a,u=!1,{delay:f=0,duration:d=400,easing:p=e,interpolate:g=At}=n(n({},o),l);if(0===d)return c&&(c.abort(),c=null),i.set(r=s),Promise.resolve();const m=h()+f;let v;return a=y(e=>{if(e<m)return!0;u||(v=g(r,t),"function"==typeof d&&(d=d(r,t)),u=!0),c&&(c.abort(),c=null);const n=e-m;return n>d?(i.set(r=t),!1):(i.set(r=v(p(n/d))),!0)}),a.promise}return{set:c,update:(t,e)=>c(t(s,r),e),subscribe:i.subscribe}}function jt(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Ot(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Lt(){}var Pt="\\s*([+-]?\\d+)\\s*",Rt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ht="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Dt=/^#([0-9a-f]{3,8})$/,zt=new RegExp("^rgb\\("+[Pt,Pt,Pt]+"\\)$"),Bt=new RegExp("^rgb\\("+[Ht,Ht,Ht]+"\\)$"),Yt=new RegExp("^rgba\\("+[Pt,Pt,Pt,Rt]+"\\)$"),Ft=new RegExp("^rgba\\("+[Ht,Ht,Ht,Rt]+"\\)$"),It=new RegExp("^hsl\\("+[Rt,Ht,Ht]+"\\)$"),qt=new RegExp("^hsla\\("+[Rt,Ht,Ht,Rt]+"\\)$"),Ut={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Wt(){return this.rgb().formatHex()}function Vt(){return this.rgb().formatRgb()}function Gt(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Dt.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Xt(e):3===n?new Qt(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Zt(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Zt(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=zt.exec(t))?new Qt(e[1],e[2],e[3],1):(e=Bt.exec(t))?new Qt(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Yt.exec(t))?Zt(e[1],e[2],e[3],e[4]):(e=Ft.exec(t))?Zt(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=It.exec(t))?re(e[1],e[2]/100,e[3]/100,1):(e=qt.exec(t))?re(e[1],e[2]/100,e[3]/100,e[4]):Ut.hasOwnProperty(t)?Xt(Ut[t]):"transparent"===t?new Qt(NaN,NaN,NaN,0):null}function Xt(t){return new Qt(t>>16&255,t>>8&255,255&t,1)}function Zt(t,e,n,r){return r<=0&&(t=e=n=NaN),new Qt(t,e,n,r)}function Jt(t){return t instanceof Lt||(t=Gt(t)),t?new Qt((t=t.rgb()).r,t.g,t.b,t.opacity):new Qt}function Kt(t,e,n,r){return 1===arguments.length?Jt(t):new Qt(t,e,n,null==r?1:r)}function Qt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function te(){return"#"+ne(this.r)+ne(this.g)+ne(this.b)}function ee(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function ne(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function re(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ie(t,e,n,r)}function oe(t){if(t instanceof ie)return new ie(t.h,t.s,t.l,t.opacity);if(t instanceof Lt||(t=Gt(t)),!t)return new ie;if(t instanceof ie)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,o=Math.min(e,n,r),i=Math.max(e,n,r),a=NaN,l=i-o,s=(i+o)/2;return l?(a=e===i?(n-r)/l+6*(n<r):n===i?(r-e)/l+2:(e-n)/l+4,l/=s<.5?i+o:2-i-o,a*=60):l=s>0&&s<1?0:a,new ie(a,l,s,t.opacity)}function ie(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function ae(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function le(t){return function(){return t}}function se(t){return 1==(t=+t)?ce:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):le(isNaN(e)?n:e)}}function ce(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):le(isNaN(t)?e:t)}jt(Lt,Gt,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Wt,formatHex:Wt,formatHsl:function(){return oe(this).formatHsl()},formatRgb:Vt,toString:Vt}),jt(Qt,Kt,Ot(Lt,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Qt(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Qt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:te,formatHex:te,formatRgb:ee,toString:ee})),jt(ie,(function(t,e,n,r){return 1===arguments.length?oe(t):new ie(t,e,n,null==r?1:r)}),Ot(Lt,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new ie(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new ie(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,o=2*n-r;return new Qt(ae(t>=240?t-240:t+120,o,r),ae(t,o,r),ae(t<120?t+240:t-120,o,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var ue=function t(e){var n=se(e);function r(t,e){var r=n((t=Kt(t)).r,(e=Kt(e)).r),o=n(t.g,e.g),i=n(t.b,e.b),a=ce(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=o(e),t.b=i(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);var fe,de=(fe=function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),o=t[r],i=t[r+1],a=r>0?t[r-1]:2*o-i,l=r<e-1?t[r+2]:2*i-o;return function(t,e,n,r,o){var i=t*t,a=i*t;return((1-3*t+3*i-a)*e+(4-6*i+3*a)*n+(1+3*t+3*i-3*a)*r+a*o)/6}((n-r/e)*e,a,o,i,l)}},function(t){var e,n,r=t.length,o=new Array(r),i=new Array(r),a=new Array(r);for(e=0;e<r;++e)n=Kt(t[e]),o[e]=n.r||0,i[e]=n.g||0,a[e]=n.b||0;return o=fe(o),i=fe(i),a=fe(a),n.opacity=1,function(t){return n.r=o(t),n.g=i(t),n.b=a(t),n+""}});function he(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,o=e.slice();return function(i){for(n=0;n<r;++n)o[n]=t[n]*(1-i)+e[n]*i;return o}}function pe(t,e){var n,r=e?e.length:0,o=t?Math.min(r,t.length):0,i=new Array(o),a=new Array(r);for(n=0;n<o;++n)i[n]=$e(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<o;++n)a[n]=i[n](t);return a}}function ge(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function me(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function ye(t,e){var n,r={},o={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=$e(t[n],e[n]):o[n]=e[n];return function(t){for(n in r)o[n]=r[n](t);return o}}var ve=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,be=new RegExp(ve.source,"g");function we(t,e){var n,r,o,i=ve.lastIndex=be.lastIndex=0,a=-1,l=[],s=[];for(t+="",e+="";(n=ve.exec(t))&&(r=be.exec(e));)(o=r.index)>i&&(o=e.slice(i,o),l[a]?l[a]+=o:l[++a]=o),(n=n[0])===(r=r[0])?l[a]?l[a]+=r:l[++a]=r:(l[++a]=null,s.push({i:a,x:me(n,r)})),i=be.lastIndex;return i<e.length&&(o=e.slice(i),l[a]?l[a]+=o:l[++a]=o),l.length<2?s[0]?function(t){return function(e){return t(e)+""}}(s[0].x):function(t){return function(){return t}}(e):(e=s.length,function(t){for(var n,r=0;r<e;++r)l[(n=s[r]).i]=n.x(t);return l.join("")})}function $e(t,e){var n,r=typeof e;return null==e||"boolean"===r?le(e):("number"===r?me:"string"===r?(n=Gt(e))?(e=n,ue):we:e instanceof Gt?ue:e instanceof Date?ge:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(e)?he:Array.isArray(e)?pe:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?ye:me)(t,e)}function xe(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Se(t,e){for(var n=0,r=e.length-1,o=e[0],i=new Array(r<0?0:r);n<r;)i[n]=t(o,o=e[++n]);return function(t){var e=Math.max(0,Math.min(r-1,Math.floor(t*=r)));return i[e](t-e)}}function ke(t,{delay:n=0,duration:r=400,easing:o=e}={}){const i=+getComputedStyle(t).opacity;return{delay:n,duration:r,easing:o,css:t=>"opacity: "+t*i}}function Me(e){let n,r,o;return{c(){n=M("g"),r=M("path"),o=M("path"),j(r,"class","lines"),j(r,"fill","none"),j(r,"stroke",e[0]),j(r,"stroke-width",e[3]),j(r,"stroke-dasharray",e[2]),j(r,"d",e[4]),j(o,"class","areas"),j(o,"fill",e[0]),j(o,"opacity",e[1]),j(o,"d",e[5])},m(t,e){$(t,n,e),v(n,r),v(n,o)},p(t,[e]){1&e&&j(r,"stroke",t[0]),8&e&&j(r,"stroke-width",t[3]),4&e&&j(r,"stroke-dasharray",t[2]),16&e&&j(r,"d",t[4]),1&e&&j(o,"fill",t[0]),2&e&&j(o,"opacity",t[1]),32&e&&j(o,"d",t[5])},i:t,o:t,d(t){t&&x(n)}}}function _e(t,e,n){let r,o,{color:i}=e,{linePath:a}=e,{areaPath:l}=e,{areaOpacity:s=.7}=e,{duration:c}=e,{dashArray:f=""}=e,{strokeWidth:d=2}=e;const h={duration:c,easing:Tt,interpolate:we},p=Ct(void 0,h);u(t,p,t=>n(4,r=t));const g=Ct(void 0,h);return u(t,g,t=>n(5,o=t)),t.$$set=t=>{"color"in t&&n(0,i=t.color),"linePath"in t&&n(8,a=t.linePath),"areaPath"in t&&n(9,l=t.areaPath),"areaOpacity"in t&&n(1,s=t.areaOpacity),"duration"in t&&n(10,c=t.duration),"dashArray"in t&&n(2,f=t.dashArray),"strokeWidth"in t&&n(3,d=t.strokeWidth)},t.$$.update=()=>{256&t.$$.dirty&&p.set(a),512&t.$$.dirty&&g.set(l)},[i,s,f,d,r,o,p,g,a,l,c]}class Ne extends _t{constructor(t){super(),Mt(this,t,_e,Me,l,{color:0,linePath:8,areaPath:9,areaOpacity:1,duration:10,dashArray:2,strokeWidth:3})}}function Te(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Ee(t){let e=t,n=t;function r(t,e,r,o){for(null==r&&(r=0),null==o&&(o=t.length);r<o;){const i=r+o>>>1;n(t[i],e)<0?r=i+1:o=i}return r}return 1===t.length&&(e=(e,n)=>t(e)-n,n=function(t){return(e,n)=>Te(t(e),n)}(t)),{left:r,center:function(t,n,o,i){null==o&&(o=0),null==i&&(i=t.length);const a=r(t,n,o,i-1);return a>o&&e(t[a-1],n)>-e(t[a],n)?a-1:a},right:function(t,e,r,o){for(null==r&&(r=0),null==o&&(o=t.length);r<o;){const i=r+o>>>1;n(t[i],e)>0?o=i:r=i+1}return r}}}const Ae=Ee(Te).right;Ee((function(t){return null===t?NaN:+t})).center;var Ce=Ae;function je(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function Oe(t,e){let n,r;if(void 0===e)for(const e of t)null!=e&&(void 0===n?e>=e&&(n=r=e):(n>e&&(n=e),r<e&&(r=e)));else{let o=-1;for(let i of t)null!=(i=e(i,++o,t))&&(void 0===n?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)))}return[n,r]}class Le extends Map{constructor(t,e=Re){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(const[e,n]of t)this.set(e,n)}get(t){return super.get(Pe(this,t))}has(t){return super.has(Pe(this,t))}set(t,e){return super.set(function({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}(this,t),e)}delete(t){return super.delete(function({_intern:t,_key:e},n){const r=e(n);t.has(r)&&(n=t.get(n),t.delete(r));return n}(this,t))}}function Pe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Re(t){return null!==t&&"object"==typeof t?t.valueOf():t}function He(t){return t}function De(t,...e){return ze(t,He,He,e)}function ze(t,e,n,r){return function t(o,i){if(i>=r.length)return n(o);const a=new Le,l=r[i++];let s=-1;for(const t of o){const e=l(t,++s,o),n=a.get(e);n?n.push(t):a.set(e,[t])}for(const[e,n]of a)a.set(e,t(n,i));return e(a)}(t,0)}function Be(t,e){return Array.from(e,e=>t[e])}var Ye=Math.sqrt(50),Fe=Math.sqrt(10),Ie=Math.sqrt(2);function qe(t,e,n){var r=(e-t)/Math.max(0,n),o=Math.floor(Math.log(r)/Math.LN10),i=r/Math.pow(10,o);return o>=0?(i>=Ye?10:i>=Fe?5:i>=Ie?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(i>=Ye?10:i>=Fe?5:i>=Ie?2:1)}function Ue(t,e){let n;if(void 0===e)for(const e of t)null!=e&&(n<e||void 0===n&&e>=e)&&(n=e);else{let r=-1;for(let o of t)null!=(o=e(o,++r,t))&&(n<o||void 0===n&&o>=o)&&(n=o)}return n}function We(t,e){let n=0,r=0;if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&(++n,r+=e);else{let o=-1;for(let i of t)null!=(i=e(i,++o,t))&&(i=+i)>=i&&(++n,r+=i)}if(n)return r/n}function Ve(t,e,n){t=+t,e=+e,n=(o=arguments.length)<2?(e=t,t=0,1):o<3?1:+n;for(var r=-1,o=0|Math.max(0,Math.ceil((e-t)/n)),i=new Array(o);++r<o;)i[r]=t+r*n;return i}var Ge=new Map([{options:[{label:"All Settings (Combined)",value:0},{label:"All Settings (Separately)",value:-9},{label:"Ambulatory Care",value:2},{label:"Correctional Facility",value:8},{label:"Home Health/Hospice",value:4},{label:"Hospital",value:1},{label:"Mental Health Hospital/Facility",value:7},{label:"Nursing Education",value:6},{label:"Nursing Home/Extended Care/Assisted Living",value:3},{label:"Community and Population Health",value:5}],label:"Setting",name:"setting"},{options:[{value:0,label:"State"},{value:8,label:"Medicaid Region"},{value:5,label:"AHEC"},{value:7,label:"Metro/Nonmetro"}],label:"Location Type",name:"locationType"},{options:[{value:"difference",label:"Supply - Demand"},{value:"percentage",label:"% Surplus or Shortage"},{value:"supply",label:"Supply"},{value:"demand",label:"Demand"}],label:"Calculation",name:"calculation"},{options:[{value:0,label:"All NC"},{value:800,label:"Western NC (1)"},{value:801,label:"Northwest / Triad (2)"},{value:802,label:"Southcentral / Charlotte (3)"},{value:803,label:"Piedmont / Triangle (4)"},{value:804,label:"Southeast / Wilmington (5)"},{value:805,label:"Eastern NC (6)"},{value:500,label:"Area L"},{value:501,label:"Charlotte AHEC"},{value:503,label:"Eastern"},{value:504,label:"Greensboro"},{value:505,label:"Mountain"},{value:506,label:"Northwest"},{value:502,label:"South East"},{value:507,label:"Southern Regional"},{value:508,label:"Wake AHEC"},{value:700,label:"Metropolitan"},{value:701,label:"Nonmetropolitan"}],label:"Location",name:"location"},{options:[{value:52,label:"Baseline Supply"},{value:56,label:"Early Exit (2 years early, so everyone retires by 68)"},{value:57,label:"Early Exit (5 years early, so everyone retires by 65)"},{value:58,label:"Delayed Exit (delayed by 2 years, but everyone retires by 70)"},{value:59,label:"Reduction in Out-of-State Supply by 2.5%"},{value:62,label:"10% Increase in Graduate Supply"},{value:71,label:"Early Exit (5 years) & 10% Increase in Graduates & 2.5% Reduction in Out-of-State"}],label:"Supply Scenario",name:"supplyScenario"},{options:[{value:1,label:"Baseline Demand"}],label:"Demand Scenario",name:"demandScenario"},{options:[{value:0,label:"LPN & RN"},{value:1,label:"LPN"},{value:2,label:"RN"}],name:"type",label:"Nurse Type"},{options:[{value:0,label:"All Education"},{value:4,label:"BS & MS"},{value:5,label:"ADN & Diploma"}],name:"education",label:"Education"},{options:[{value:0,label:"Rate per 10K population"},{value:1,label:"Total"}],name:"rateOrTotal",label:"Rate Or Total"},{options:[{value:0,label:"Headcount"},{value:1,label:"FTE"}],name:"fteOrHeadcount",label:"FTE or Headcount"}].map(t=>[t.name,Object.assign({optionsMap:new Map(t.options.map(t=>[t.value,t.label]))},t)]));function Xe(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Ze(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Je(){}var Ke="\\s*([+-]?\\d+)\\s*",Qe="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",tn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",en=/^#([0-9a-f]{3,8})$/,nn=new RegExp("^rgb\\("+[Ke,Ke,Ke]+"\\)$"),rn=new RegExp("^rgb\\("+[tn,tn,tn]+"\\)$"),on=new RegExp("^rgba\\("+[Ke,Ke,Ke,Qe]+"\\)$"),an=new RegExp("^rgba\\("+[tn,tn,tn,Qe]+"\\)$"),ln=new RegExp("^hsl\\("+[Qe,tn,tn]+"\\)$"),sn=new RegExp("^hsla\\("+[Qe,tn,tn,Qe]+"\\)$"),cn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function un(){return this.rgb().formatHex()}function fn(){return this.rgb().formatRgb()}function dn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=en.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?hn(e):3===n?new mn(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?pn(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?pn(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=nn.exec(t))?new mn(e[1],e[2],e[3],1):(e=rn.exec(t))?new mn(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=on.exec(t))?pn(e[1],e[2],e[3],e[4]):(e=an.exec(t))?pn(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=ln.exec(t))?wn(e[1],e[2]/100,e[3]/100,1):(e=sn.exec(t))?wn(e[1],e[2]/100,e[3]/100,e[4]):cn.hasOwnProperty(t)?hn(cn[t]):"transparent"===t?new mn(NaN,NaN,NaN,0):null}function hn(t){return new mn(t>>16&255,t>>8&255,255&t,1)}function pn(t,e,n,r){return r<=0&&(t=e=n=NaN),new mn(t,e,n,r)}function gn(t){return t instanceof Je||(t=dn(t)),t?new mn((t=t.rgb()).r,t.g,t.b,t.opacity):new mn}function mn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function yn(){return"#"+bn(this.r)+bn(this.g)+bn(this.b)}function vn(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function bn(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function wn(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new xn(t,e,n,r)}function $n(t){if(t instanceof xn)return new xn(t.h,t.s,t.l,t.opacity);if(t instanceof Je||(t=dn(t)),!t)return new xn;if(t instanceof xn)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,o=Math.min(e,n,r),i=Math.max(e,n,r),a=NaN,l=i-o,s=(i+o)/2;return l?(a=e===i?(n-r)/l+6*(n<r):n===i?(r-e)/l+2:(e-n)/l+4,l/=s<.5?i+o:2-i-o,a*=60):l=s>0&&s<1?0:a,new xn(a,l,s,t.opacity)}function xn(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Sn(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function kn(t){const e=dn(t).rgb();return.299*e.r+.587*e.g+.114*e.b>186?"#000000":"#ffffff"}function Mn(t){const e=dn(t).rgb();return.299*e.r+.587*e.g+.114*e.b>186?e.darker(2):e.brighter(2)}function _n(t=1){return e=>t?Math.round(e).toLocaleString():e.toLocaleString(void 0,{minimumSignificantDigits:3,maximumSignificantDigits:3})}async function Nn(t){return await fetch(t).then(t=>{if(!t.ok)throw new Error("Network response was not ok");return t.json()}).then(t=>{if(0==t.length)throw new Error("No data.");return t}).catch(t=>{console.error("There has been a problem with your fetch operation:",t)})}Xe(Je,dn,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:un,formatHex:un,formatHsl:function(){return $n(this).formatHsl()},formatRgb:fn,toString:fn}),Xe(mn,(function(t,e,n,r){return 1===arguments.length?gn(t):new mn(t,e,n,null==r?1:r)}),Ze(Je,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new mn(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new mn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:yn,formatHex:yn,formatRgb:vn,toString:vn})),Xe(xn,(function(t,e,n,r){return 1===arguments.length?$n(t):new xn(t,e,n,null==r?1:r)}),Ze(Je,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new xn(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new xn(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,o=2*n-r;return new mn(Sn(t>=240?t-240:t+120,o,r),Sn(t,o,r),Sn(t<120?t+240:t-120,o,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));function Tn(t={}){let{text:e,x:n=0,y:r=0,fontSize:o=14,fill:i="#333",textAnchor:a="left",maxCharsPerLine:l=65,lineHeight:s=1.3}=t;"string"==typeof t&&(e=t);let c=document.createElementNS("http://www.w3.org/2000/svg","text");c.setAttributeNS(null,"x",n),c.setAttributeNS(null,"y",r),c.setAttributeNS(null,"font-size",o),c.setAttributeNS(null,"fill",i),c.setAttributeNS(null,"text-anchor",a);let u,f=e.trim().split(/\s+/).reverse(),d=0,h=[];for(;u=f.pop();){if(h.push(u),h.join(" ").length>l){h.pop();let t=document.createElementNS("http://www.w3.org/2000/svg","tspan");t.setAttributeNS(null,"x",n),t.setAttributeNS(null,"dy",d+"em");let e=document.createTextNode(h.join(" "));t.appendChild(e),c.appendChild(t),h=[u],d=s}}let p=document.createElementNS("http://www.w3.org/2000/svg","tspan");p.setAttributeNS(null,"x",n),p.setAttributeNS(null,"dy",d+"em");let g=document.createTextNode(h.join(" "));return p.appendChild(g),c.appendChild(p),c}function En(t,e,n){const r=t.slice();return r[6]=e[n],r}function An(t,e,n){const r=t.slice();return r[9]=e[n],r}function Cn(t,e,n){const r=t.slice();return r[9]=e[n],r}function jn(t){let e,n,r=Ge.get(t[9]).label+"";return{c(){e=k("th"),n=_(r)},m(t,r){$(t,e,r),v(e,n)},p(t,e){4&e&&r!==(r=Ge.get(t[9]).label+"")&&O(n,r)},d(t){t&&x(e)}}}function On(t){let e,n,r=Ge.get(t[9]).optionsMap.get(t[6].paramsMap.get(t[9]))+"";return{c(){e=k("td"),n=_(r),R(e,"has-text-weight-bold",t[0].get(t[9])),R(e,"has-text-black-bis",t[0].get(t[9]))},m(t,r){$(t,e,r),v(e,n)},p(t,o){6&o&&r!==(r=Ge.get(t[9]).optionsMap.get(t[6].paramsMap.get(t[9]))+"")&&O(n,r),5&o&&R(e,"has-text-weight-bold",t[0].get(t[9])),5&o&&R(e,"has-text-black-bis",t[0].get(t[9]))},d(t){t&&x(e)}}}function Ln(t){let e,n,r,o,i,a,l,s,c=t[2],u=[];for(let e=0;e<c.length;e+=1)u[e]=On(An(t,c,e));return{c(){e=k("tr"),n=k("td"),r=k("button"),i=N();for(let t=0;t<u.length;t+=1)u[t].c();a=N(),j(r,"class","delete"),j(r,"data-id",o=t[6].id),j(r,"aria-label","delete"),P(n,"background-color",t[6].color),P(n,"vertical-align","middle")},m(o,c){$(o,e,c),v(e,n),v(n,r),v(e,i);for(let t=0;t<u.length;t+=1)u[t].m(e,null);v(e,a),l||(s=E(r,"click",t[3]),l=!0)},p(t,i){if(2&i&&o!==(o=t[6].id)&&j(r,"data-id",o),2&i&&P(n,"background-color",t[6].color),7&i){let n;for(c=t[2],n=0;n<c.length;n+=1){const r=An(t,c,n);u[n]?u[n].p(r,i):(u[n]=On(r),u[n].c(),u[n].m(e,a))}for(;n<u.length;n+=1)u[n].d(1);u.length=c.length}},d(t){t&&x(e),S(u,t),l=!1,s()}}}function Pn(e){let n,r,o,i,a,l,s,c,u=e[2],f=[];for(let t=0;t<u.length;t+=1)f[t]=jn(Cn(e,u,t));let d=e[1],h=[];for(let t=0;t<d.length;t+=1)h[t]=Ln(En(e,d,t));return{c(){n=k("div"),r=k("table"),o=k("thead"),i=k("tr"),a=k("th"),l=N();for(let t=0;t<f.length;t+=1)f[t].c();s=N(),c=k("tbody");for(let t=0;t<h.length;t+=1)h[t].c();j(r,"class","table is-narrow"),j(r,"id","line-chart-table"),j(n,"class","table-container")},m(t,e){$(t,n,e),v(n,r),v(r,o),v(o,i),v(i,a),v(i,l);for(let t=0;t<f.length;t+=1)f[t].m(i,null);v(r,s),v(r,c);for(let t=0;t<h.length;t+=1)h[t].m(c,null)},p(t,[e]){if(4&e){let n;for(u=t[2],n=0;n<u.length;n+=1){const r=Cn(t,u,n);f[n]?f[n].p(r,e):(f[n]=jn(r),f[n].c(),f[n].m(i,null))}for(;n<f.length;n+=1)f[n].d(1);f.length=u.length}if(15&e){let n;for(d=t[1],n=0;n<d.length;n+=1){const r=En(t,d,n);h[n]?h[n].p(r,e):(h[n]=Ln(r),h[n].c(),h[n].m(c,null))}for(;n<h.length;n+=1)h[n].d(1);h.length=d.length}},i:t,o:t,d(t){t&&x(n),S(f,t),S(h,t)}}}function Rn(t,e,n){let r,o,i;const a=W();let{legendData:l}=e;return t.$$set=t=>{"legendData"in t&&n(4,l=t.legendData)},t.$$.update=()=>{16&t.$$.dirty&&n(2,r=["type","education","rateOrTotal","fteOrHeadcount","location","setting",...l[0].params.filter(t=>t[0].includes("Scenario")).map(t=>t[0])]),16&t.$$.dirty&&n(1,o=l.map(t=>Object.assign({paramsMap:new Map(t.params)},t))),16&t.$$.dirty&&n(0,i=function(t,e,...n){return ze(t,He,e,n)}(l.map(t=>t.params).flat(),t=>new Set(t.map(t=>t[1])).size>1,t=>t[0]))},[i,o,r,function(t){a("deleteProjection",t.target.getAttribute("data-id"))},l]}!function(t,e){e=null==e?t.length-1:+e}((function(t,e,n){return setTimeout((function(){return t.apply(null,n)}),e)}));class Hn extends _t{constructor(t){super(),Mt(this,t,Rn,Pn,l,{legendData:4})}}function Dn(t,e,n){const r=t.slice();return r[1]=e[n].supplyMean,r[2]=e[n].demandMean,r[3]=e[n].value,r[4]=e[n].color,r[5]=e[n].rateOrTotal,r[6]=e[n].percentage,r[7]=e[n].difference,r}function zn(t){let e,n,r,o,i,a,l,s,c,u,f,d,h,p=_n(t[5])(t[1])+"",g=_n(t[5])(t[2])+"",m=_n(t[5])(void 0===t[7]?t[3]:t[7])+"",y=(void 0===t[6]?t[3]:t[6]).toLocaleString(void 0,{style:"percent",maximumFractionDigits:1})+"";return{c(){e=k("tr"),n=k("td"),r=_(p),o=N(),i=k("td"),a=_(g),l=N(),s=k("td"),c=_(m),u=N(),f=k("td"),d=_(y),h=N(),P(n,"color",t[4]),P(n,"text-align","right"),j(n,"class","svelte-1rn85a9"),P(i,"color",t[4]),P(i,"text-align","right"),j(i,"class","svelte-1rn85a9"),P(s,"color",t[4]),P(s,"text-align","right"),j(s,"class","svelte-1rn85a9"),P(f,"color",t[4]),P(f,"text-align","right"),j(f,"class","svelte-1rn85a9")},m(t,p){$(t,e,p),v(e,n),v(n,r),v(e,o),v(e,i),v(i,a),v(e,l),v(e,s),v(s,c),v(e,u),v(e,f),v(f,d),v(e,h)},p(t,e){1&e&&p!==(p=_n(t[5])(t[1])+"")&&O(r,p),1&e&&P(n,"color",t[4]),1&e&&g!==(g=_n(t[5])(t[2])+"")&&O(a,g),1&e&&P(i,"color",t[4]),1&e&&m!==(m=_n(t[5])(void 0===t[7]?t[3]:t[7])+"")&&O(c,m),1&e&&P(s,"color",t[4]),1&e&&y!==(y=(void 0===t[6]?t[3]:t[6]).toLocaleString(void 0,{style:"percent",maximumFractionDigits:1})+"")&&O(d,y),1&e&&P(f,"color",t[4])},d(t){t&&x(e)}}}function Bn(e){let n,r,o,i,a,l=e[0],s=[];for(let t=0;t<l.length;t+=1)s[t]=zn(Dn(e,l,t));return{c(){n=k("div"),r=k("table"),o=k("thead"),o.innerHTML='<tr><th style="text-align:right;">Supply</th> \n        <th style="text-align:right;">Demand</th> \n        <th style="text-align:right;">Difference</th> \n        <th style="text-align:right;">%</th></tr>',i=N(),a=k("tbody");for(let t=0;t<s.length;t+=1)s[t].c();j(r,"class","table is-narrow"),j(n,"class","table-container")},m(t,e){$(t,n,e),v(n,r),v(r,o),v(r,i),v(r,a);for(let t=0;t<s.length;t+=1)s[t].m(a,null)},p(t,[e]){if(1&e){let n;for(l=t[0],n=0;n<l.length;n+=1){const r=Dn(t,l,n);s[n]?s[n].p(r,e):(s[n]=zn(r),s[n].c(),s[n].m(a,null))}for(;n<s.length;n+=1)s[n].d(1);s.length=l.length}},i:t,o:t,d(t){t&&x(n),S(s,t)}}}function Yn(t,e,n){let{rows:r}=e;return t.$$set=t=>{"rows"in t&&n(0,r=t.rows)},[r]}class Fn extends _t{constructor(t){super(),Mt(this,t,Yn,Bn,l,{rows:0})}}function In(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function qn(t,e){switch(arguments.length){case 0:break;case 1:"function"==typeof t?this.interpolator(t):this.range(t);break;default:this.domain(t),"function"==typeof e?this.interpolator(e):this.range(e)}return this}const Un=Symbol("implicit");function Wn(){var t=new Map,e=[],n=[],r=Un;function o(o){var i=o+"",a=t.get(i);if(!a){if(r!==Un)return r;t.set(i,a=e.push(o))}return n[(a-1)%n.length]}return o.domain=function(n){if(!arguments.length)return e.slice();e=[],t=new Map;for(const r of n){const n=r+"";t.has(n)||t.set(n,e.push(r))}return o},o.range=function(t){return arguments.length?(n=Array.from(t),o):n.slice()},o.unknown=function(t){return arguments.length?(r=t,o):r},o.copy=function(){return Wn(e,n).unknown(r)},In.apply(o,arguments),o}function Vn(t){return+t}var Gn=[0,1];function Xn(t){return t}function Zn(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:function(t){return function(){return t}}(isNaN(e)?NaN:.5)}function Jn(t,e,n){var r=t[0],o=t[1],i=e[0],a=e[1];return o<r?(r=Zn(o,r),i=n(a,i)):(r=Zn(r,o),i=n(i,a)),function(t){return i(r(t))}}function Kn(t,e,n){var r=Math.min(t.length,e.length)-1,o=new Array(r),i=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)o[a]=Zn(t[a],t[a+1]),i[a]=n(e[a],e[a+1]);return function(e){var n=Ce(t,e,1,r)-1;return i[n](o[n](e))}}function Qn(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function tr(){var t,e,n,r,o,i,a=Gn,l=Gn,s=$e,c=Xn;function u(){var t,e,n,s=Math.min(a.length,l.length);return c!==Xn&&(t=a[0],e=a[s-1],t>e&&(n=t,t=e,e=n),c=function(n){return Math.max(t,Math.min(e,n))}),r=s>2?Kn:Jn,o=i=null,f}function f(e){return null==e||isNaN(e=+e)?n:(o||(o=r(a.map(t),l,s)))(t(c(e)))}return f.invert=function(n){return c(e((i||(i=r(l,a.map(t),me)))(n)))},f.domain=function(t){return arguments.length?(a=Array.from(t,Vn),u()):a.slice()},f.range=function(t){return arguments.length?(l=Array.from(t),u()):l.slice()},f.rangeRound=function(t){return l=Array.from(t),s=xe,u()},f.clamp=function(t){return arguments.length?(c=!!t||Xn,u()):c!==Xn},f.interpolate=function(t){return arguments.length?(s=t,u()):s},f.unknown=function(t){return arguments.length?(n=t,f):n},function(n,r){return t=n,e=r,u()}}function er(){return tr()(Xn,Xn)}function nr(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function rr(t){return(t=nr(Math.abs(t)))?t[1]:NaN}var or,ir=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ar(t){if(!(e=ir.exec(t)))throw new Error("invalid format: "+t);var e;return new lr({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function lr(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function sr(t,e){var n=nr(t,e);if(!n)return t+"";var r=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+new Array(o-r.length+2).join("0")}ar.prototype=lr.prototype,lr.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var cr={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return sr(100*t,e)},r:sr,s:function(t,e){var n=nr(t,e);if(!n)return t+"";var r=n[0],o=n[1],i=o-(or=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,a=r.length;return i===a?r:i>a?r+new Array(i-a+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+nr(t,Math.max(0,e+i-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function ur(t){return t}var fr,dr,hr,pr=Array.prototype.map,gr=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];function mr(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?ur:(e=pr.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var o=t.length,i=[],a=0,l=e[0],s=0;o>0&&l>0&&(s+l+1>r&&(l=Math.max(1,r-s)),i.push(t.substring(o-=l,o+l)),!((s+=l+1)>r));)l=e[a=(a+1)%e.length];return i.reverse().join(n)}),o=void 0===t.currency?"":t.currency[0]+"",i=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",l=void 0===t.numerals?ur:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(pr.call(t.numerals,String)),s=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"-":t.minus+"",u=void 0===t.nan?"NaN":t.nan+"";function f(t){var e=(t=ar(t)).fill,n=t.align,f=t.sign,d=t.symbol,h=t.zero,p=t.width,g=t.comma,m=t.precision,y=t.trim,v=t.type;"n"===v?(g=!0,v="g"):cr[v]||(void 0===m&&(m=12),y=!0,v="g"),(h||"0"===e&&"="===n)&&(h=!0,e="0",n="=");var b="$"===d?o:"#"===d&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",w="$"===d?i:/[%p]/.test(v)?s:"",$=cr[v],x=/[defgprs%]/.test(v);function S(t){var o,i,s,d=b,S=w;if("c"===v)S=$(t)+S,t="";else{var k=(t=+t)<0||1/t<0;if(t=isNaN(t)?u:$(Math.abs(t),m),y&&(t=function(t){t:for(var e,n=t.length,r=1,o=-1;r<n;++r)switch(t[r]){case".":o=e=r;break;case"0":0===o&&(o=r),e=r;break;default:if(!+t[r])break t;o>0&&(o=0)}return o>0?t.slice(0,o)+t.slice(e+1):t}(t)),k&&0==+t&&"+"!==f&&(k=!1),d=(k?"("===f?f:c:"-"===f||"("===f?"":f)+d,S=("s"===v?gr[8+or/3]:"")+S+(k&&"("===f?")":""),x)for(o=-1,i=t.length;++o<i;)if(48>(s=t.charCodeAt(o))||s>57){S=(46===s?a+t.slice(o+1):t.slice(o))+S,t=t.slice(0,o);break}}g&&!h&&(t=r(t,1/0));var M=d.length+t.length+S.length,_=M<p?new Array(p-M+1).join(e):"";switch(g&&h&&(t=r(_+t,_.length?p-S.length:1/0),_=""),n){case"<":t=d+t+S+_;break;case"=":t=d+_+t+S;break;case"^":t=_.slice(0,M=_.length>>1)+d+t+S+_.slice(M);break;default:t=_+d+t+S}return l(t)}return m=void 0===m?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),S.toString=function(){return t+""},S}return{format:f,formatPrefix:function(t,e){var n=f(((t=ar(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(rr(e)/3))),o=Math.pow(10,-r),i=gr[8+r/3];return function(t){return n(o*t)+i}}}}function yr(t,e,n,r){var o,i=function(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),o=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),i=r/o;return i>=Ye?o*=10:i>=Fe?o*=5:i>=Ie&&(o*=2),e<t?-o:o}(t,e,n);switch((r=ar(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(o=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(rr(e)/3)))-rr(Math.abs(t)))}(i,a))||(r.precision=o),hr(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(o=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,rr(e)-rr(t))+1}(i,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=o-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(o=function(t){return Math.max(0,-rr(Math.abs(t)))}(i))||(r.precision=o-2*("%"===r.type))}return dr(r)}function vr(t){var e=t.domain;return t.ticks=function(t){var n=e();return function(t,e,n){var r,o,i,a,l=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];if((r=e<t)&&(o=t,t=e,e=o),0===(a=qe(t,e,n))||!isFinite(a))return[];if(a>0){let n=Math.round(t/a),r=Math.round(e/a);for(n*a<t&&++n,r*a>e&&--r,i=new Array(o=r-n+1);++l<o;)i[l]=(n+l)*a}else{a=-a;let n=Math.round(t*a),r=Math.round(e*a);for(n/a<t&&++n,r/a>e&&--r,i=new Array(o=r-n+1);++l<o;)i[l]=(n+l)/a}return r&&i.reverse(),i}(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return yr(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,o,i=e(),a=0,l=i.length-1,s=i[a],c=i[l],u=10;for(c<s&&(o=s,s=c,c=o,o=a,a=l,l=o);u-- >0;){if((o=qe(s,c,n))===r)return i[a]=s,i[l]=c,e(i);if(o>0)s=Math.floor(s/o)*o,c=Math.ceil(c/o)*o;else{if(!(o<0))break;s=Math.ceil(s*o)/o,c=Math.floor(c*o)/o}r=o}return t},t}function br(){var t=er();return t.copy=function(){return Qn(t,br())},In.apply(t,arguments),vr(t)}function wr(){var t,e,n,r,o,i=0,a=1,l=Xn,s=!1;function c(e){return null==e||isNaN(e=+e)?o:l(0===n?.5:(e=(r(e)-t)*n,s?Math.max(0,Math.min(1,e)):e))}function u(t){return function(e){var n,r;return arguments.length?([n,r]=e,l=t(n,r),c):[l(0),l(1)]}}return c.domain=function(o){return arguments.length?([i,a]=o,t=r(i=+i),e=r(a=+a),n=t===e?0:1/(e-t),c):[i,a]},c.clamp=function(t){return arguments.length?(s=!!t,c):s},c.interpolator=function(t){return arguments.length?(l=t,c):l},c.range=u($e),c.rangeRound=u(xe),c.unknown=function(t){return arguments.length?(o=t,c):o},function(o){return r=o,t=o(i),e=o(a),n=t===e?0:1/(e-t),c}}function $r(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function xr(){var t,e,n,r,o,i,a,l=0,s=.5,c=1,u=1,f=Xn,d=!1;function h(t){return isNaN(t=+t)?a:(t=.5+((t=+i(t))-e)*(u*t<u*e?r:o),f(d?Math.max(0,Math.min(1,t)):t))}function p(t){return function(e){var n,r,o;return arguments.length?([n,r,o]=e,f=Se(t,[n,r,o]),h):[f(0),f(.5),f(1)]}}return h.domain=function(a){return arguments.length?([l,s,c]=a,t=i(l=+l),e=i(s=+s),n=i(c=+c),r=t===e?0:.5/(e-t),o=e===n?0:.5/(n-e),u=e<t?-1:1,h):[l,s,c]},h.clamp=function(t){return arguments.length?(d=!!t,h):d},h.interpolator=function(t){return arguments.length?(f=t,h):f},h.range=p($e),h.rangeRound=p(xe),h.unknown=function(t){return arguments.length?(a=t,h):a},function(a){return i=a,t=a(l),e=a(s),n=a(c),r=t===e?0:.5/(e-t),o=e===n?0:.5/(n-e),u=e<t?-1:1,h}}fr=mr({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),dr=fr.format,hr=fr.formatPrefix;var Sr=Math.PI,kr=2*Sr,Mr=kr-1e-6;function _r(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Nr(){return new _r}function Tr(t){return function(){return t}}function Er(t){this._context=t}function Ar(t){return new Er(t)}function Cr(t){return t[0]}function jr(t){return t[1]}function Or(){var t=Cr,e=jr,n=Tr(!0),r=null,o=Ar,i=null;function a(a){var l,s,c,u=a.length,f=!1;for(null==r&&(i=o(c=Nr())),l=0;l<=u;++l)!(l<u&&n(s=a[l],l,a))===f&&((f=!f)?i.lineStart():i.lineEnd()),f&&i.point(+t(s,l,a),+e(s,l,a));if(c)return i=null,c+""||null}return a.x=function(e){return arguments.length?(t="function"==typeof e?e:Tr(+e),a):t},a.y=function(t){return arguments.length?(e="function"==typeof t?t:Tr(+t),a):e},a.defined=function(t){return arguments.length?(n="function"==typeof t?t:Tr(!!t),a):n},a.curve=function(t){return arguments.length?(o=t,null!=r&&(i=o(r)),a):o},a.context=function(t){return arguments.length?(null==t?r=i=null:i=o(r=t),a):r},a}function Lr(){var t=Cr,e=null,n=Tr(0),r=jr,o=Tr(!0),i=null,a=Ar,l=null;function s(s){var c,u,f,d,h,p=s.length,g=!1,m=new Array(p),y=new Array(p);for(null==i&&(l=a(h=Nr())),c=0;c<=p;++c){if(!(c<p&&o(d=s[c],c,s))===g)if(g=!g)u=c,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),f=c-1;f>=u;--f)l.point(m[f],y[f]);l.lineEnd(),l.areaEnd()}g&&(m[c]=+t(d,c,s),y[c]=+n(d,c,s),l.point(e?+e(d,c,s):m[c],r?+r(d,c,s):y[c]))}if(h)return l=null,h+""||null}function c(){return Or().defined(o).curve(a).context(i)}return s.x=function(n){return arguments.length?(t="function"==typeof n?n:Tr(+n),e=null,s):t},s.x0=function(e){return arguments.length?(t="function"==typeof e?e:Tr(+e),s):t},s.x1=function(t){return arguments.length?(e=null==t?null:"function"==typeof t?t:Tr(+t),s):e},s.y=function(t){return arguments.length?(n="function"==typeof t?t:Tr(+t),r=null,s):n},s.y0=function(t){return arguments.length?(n="function"==typeof t?t:Tr(+t),s):n},s.y1=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:Tr(+t),s):r},s.lineX0=s.lineY0=function(){return c().x(t).y(n)},s.lineY1=function(){return c().x(t).y(r)},s.lineX1=function(){return c().x(e).y(n)},s.defined=function(t){return arguments.length?(o="function"==typeof t?t:Tr(!!t),s):o},s.curve=function(t){return arguments.length?(a=t,null!=i&&(l=a(i)),s):a},s.context=function(t){return arguments.length?(null==t?i=l=null:l=a(i=t),s):i},s}function Pr(t){return t<0?-1:1}function Rr(t,e,n){var r=t._x1-t._x0,o=e-t._x1,i=(t._y1-t._y0)/(r||o<0&&-0),a=(n-t._y1)/(o||r<0&&-0),l=(i*o+a*r)/(r+o);return(Pr(i)+Pr(a))*Math.min(Math.abs(i),Math.abs(a),.5*Math.abs(l))||0}function Hr(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Dr(t,e,n){var r=t._x0,o=t._y0,i=t._x1,a=t._y1,l=(i-r)/3;t._context.bezierCurveTo(r+l,o+l*e,i-l,a-l*n,i,a)}function zr(t){this._context=t}function Br(t){return new zr(t)}function Yr(e){let n,r,o,i,a;return{c(){n=M("g"),r=M("line"),o=M("text"),i=_(e[0]),j(r,"y2","6"),j(o,"y","9"),j(o,"dy",".9em"),j(n,"class","tick"),j(n,"transform",a="translate("+e[1]+")")},m(t,e){$(t,n,e),v(n,r),v(n,o),v(o,i)},p(t,[e]){1&e&&O(i,t[0]),2&e&&a!==(a="translate("+t[1]+")")&&j(n,"transform",a)},i:t,o:t,d(t){t&&x(n)}}}function Fr(t,e,n){let r,{duration:o}=e,{position:i}=e,{value:a}=e;const l=Ct(void 0,{duration:o,easing:Tt});return u(t,l,t=>n(1,r=t)),t.$$set=t=>{"duration"in t&&n(3,o=t.duration),"position"in t&&n(4,i=t.position),"value"in t&&n(0,a=t.value)},t.$$.update=()=>{16&t.$$.dirty&&l.set(i)},[a,r,l,o,i]}_r.prototype=Nr.prototype={constructor:_r,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,o,i){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+o)+","+(this._y1=+i)},arcTo:function(t,e,n,r,o){t=+t,e=+e,n=+n,r=+r,o=+o;var i=this._x1,a=this._y1,l=n-t,s=r-e,c=i-t,u=a-e,f=c*c+u*u;if(o<0)throw new Error("negative radius: "+o);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(f>1e-6)if(Math.abs(u*l-s*c)>1e-6&&o){var d=n-i,h=r-a,p=l*l+s*s,g=d*d+h*h,m=Math.sqrt(p),y=Math.sqrt(f),v=o*Math.tan((Sr-Math.acos((p+f-g)/(2*m*y)))/2),b=v/y,w=v/m;Math.abs(b-1)>1e-6&&(this._+="L"+(t+b*c)+","+(e+b*u)),this._+="A"+o+","+o+",0,0,"+ +(u*d>c*h)+","+(this._x1=t+w*l)+","+(this._y1=e+w*s)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,r,o,i){t=+t,e=+e,i=!!i;var a=(n=+n)*Math.cos(r),l=n*Math.sin(r),s=t+a,c=e+l,u=1^i,f=i?r-o:o-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+s+","+c:(Math.abs(this._x1-s)>1e-6||Math.abs(this._y1-c)>1e-6)&&(this._+="L"+s+","+c),n&&(f<0&&(f=f%kr+kr),f>Mr?this._+="A"+n+","+n+",0,1,"+u+","+(t-a)+","+(e-l)+"A"+n+","+n+",0,1,"+u+","+(this._x1=s)+","+(this._y1=c):f>1e-6&&(this._+="A"+n+","+n+",0,"+ +(f>=Sr)+","+u+","+(this._x1=t+n*Math.cos(o))+","+(this._y1=e+n*Math.sin(o))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}},Er.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}},zr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Dr(this,this._t0,Hr(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Dr(this,Hr(this,n=Rr(this,t,e)),n);break;default:Dr(this,this._t0,n=Rr(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},Object.create(zr.prototype).point=function(t,e){zr.prototype.point.call(this,e,t)};class Ir extends _t{constructor(t){super(),Mt(this,t,Fr,Yr,l,{duration:3,position:4,value:0})}}function qr(e){let n,r,o,i,a,l=e[2](e[0])+"";return{c(){n=M("g"),r=M("line"),o=M("text"),i=_(l),j(r,"x2",e[1]),j(o,"x","-5"),j(o,"dy","0.32em"),j(n,"class","tick"),j(n,"opacity","1"),j(n,"transform",a="translate("+e[3]+")")},m(t,e){$(t,n,e),v(n,r),v(n,o),v(o,i)},p(t,[e]){2&e&&j(r,"x2",t[1]),5&e&&l!==(l=t[2](t[0])+"")&&O(i,l),8&e&&a!==(a="translate("+t[3]+")")&&j(n,"transform",a)},i:t,o:t,d(t){t&&x(n)}}}function Ur(t,e,n){let r,{duration:o}=e,{y:i}=e,{value:a}=e,{chartWidth:l}=e,{format:s=(t=>t.toLocaleString())}=e;const c=Ct(void 0,{duration:o,easing:Tt});return u(t,c,t=>n(3,r=t)),t.$$set=t=>{"duration"in t&&n(5,o=t.duration),"y"in t&&n(6,i=t.y),"value"in t&&n(0,a=t.value),"chartWidth"in t&&n(1,l=t.chartWidth),"format"in t&&n(2,s=t.format)},t.$$.update=()=>{65&t.$$.dirty&&c.set([0,i(a)])},[a,l,s,r,c,o,i]}class Wr extends _t{constructor(t){super(),Mt(this,t,Ur,qr,l,{duration:5,y:6,value:0,chartWidth:1,format:2})}}Array.prototype.flat||Object.defineProperty(Array.prototype,"flat",{configurable:!0,value:function t(){var e=isNaN(arguments[0])?1:Number(arguments[0]);return e?Array.prototype.reduce.call(this,(function(n,r){return Array.isArray(r)?n.push.apply(n,t.call(r,e-1)):n.push(r),n}),[]):Array.prototype.slice.call(this)},writable:!0}),Array.prototype.flatMap||Object.defineProperty(Array.prototype,"flatMap",{configurable:!0,value:function(t){return Array.prototype.map.apply(this,arguments).flat()},writable:!0});const{Map:Vr}=yt;function Gr(t,e,n){const r=t.slice();return r[23]=e[n],r}function Xr(t,e,n){const r=t.slice();return r[23]=e[n],r}function Zr(t,e,n){const r=t.slice();return r[28]=e[n],r}function Jr(t,e,n){const r=t.slice();return r[31]=e[n],r}function Kr(t,e,n){const r=t.slice();return r[31]=e[n],r}function Qr(e){let n;return{c(){n=k("div"),n.textContent='Select model options and click "Show".',j(n,"class","notification")},m(t,e){$(t,n,e)},p:t,i:t,o:t,d(t){t&&x(n)}}}function to(t){let e,n,r,o,a,l,s,c,u,f,d,h,p,g,m,y,b,w,S,A,C,L,R,H,D=("percentage"==t[1]?"% Surplus or Shortage":t[1].slice(0,1).toUpperCase()+t[1].slice(1))+"",z=t[2][0]+"",B=t[2][1]+"",Y=[],F=new Vr,I=[],q=new Vr,U=[],W=new Vr,V=t[9];const G=t=>t[31];for(let e=0;e<V.length;e+=1){let n=Kr(t,V,e),r=G(n);F.set(r,Y[e]=eo(r,n))}let X=t[8];const Z=t=>t[31];for(let e=0;e<X.length;e+=1){let n=Jr(t,X,e),r=Z(n);q.set(r,I[e]=no(r,n))}let J=t[0];const K=t=>t[28].id;for(let e=0;e<J.length;e+=1){let n=Zr(t,J,e),r=K(n);W.set(r,U[e]=ro(r,n))}let Q=t[5]&&t[0].length>0&&oo(t),tt=t[5]&&ao(t);return{c(){e=k("h1"),n=_("Projection of Nurse Workforce, "),r=_(D),o=N(),a=k("h2"),l=_("North Carolina, "),s=_(z),c=_(" - "),u=_(B),f=N(),d=M("svg"),h=M("g"),p=M("g");for(let t=0;t<Y.length;t+=1)Y[t].c();g=M("g");for(let t=0;t<I.length;t+=1)I[t].c();for(let t=0;t<U.length;t+=1)U[t].c();m=M("text"),y=_("Nurse FTE or Head Count\r\n        "),b=M("text"),w=_("Year\r\n        "),Q&&Q.c(),S=M("rect"),A=N(),tt&&tt.c(),C=T(),j(e,"class","title"),j(a,"class","subtitle"),j(p,"class","xAxis is-size-6 svelte-ynia07"),j(p,"transform","translate(0,"+(ho-t[13].bottom)+")"),j(g,"class","yAxis is-size-6 svelte-ynia07"),j(g,"transform","translate("+t[13].left+",0)"),j(m,"class","is-size-5 svelte-ynia07"),j(m,"transform","translate("+(t[13].left-70)+","+ho/1.5+") rotate(270)"),j(b,"class","is-size-5 svelte-ynia07"),j(b,"text-anchor","middle"),j(b,"transform","translate("+((fo-t[13].left-t[13].right)/2+t[13].left)+","+(ho-10)+")"),j(S,"width",fo),j(S,"height",ho),j(S,"fill","none"),P(S,"pointer-events","all"),j(h,"class","chart-container"),j(d,"id","line-chart-svg"),j(d,"viewBox","0 0 "+fo+" "+ho)},m(i,x){$(i,e,x),v(e,n),v(e,r),$(i,o,x),$(i,a,x),v(a,l),v(a,s),v(a,c),v(a,u),$(i,f,x),$(i,d,x),v(d,h),v(h,p);for(let t=0;t<Y.length;t+=1)Y[t].m(p,null);v(h,g);for(let t=0;t<I.length;t+=1)I[t].m(g,null);for(let t=0;t<U.length;t+=1)U[t].m(h,null);v(h,m),v(m,y),v(h,b),v(b,w),Q&&Q.m(h,null),v(h,S),$(i,A,x),tt&&tt.m(i,x),$(i,C,x),L=!0,R||(H=[E(S,"mousemove",t[15]),E(S,"mouseleave",t[16])],R=!0)},p(t,e){(!L||2&e[0])&&D!==(D=("percentage"==t[1]?"% Surplus or Shortage":t[1].slice(0,1).toUpperCase()+t[1].slice(1))+"")&&O(r,D),(!L||4&e[0])&&z!==(z=t[2][0]+"")&&O(s,z),(!L||4&e[0])&&B!==(B=t[2][1]+"")&&O(u,B),520&e[0]&&(V=t[9],ft(),Y=bt(Y,e,G,1,t,V,F,p,vt,eo,null,Kr),dt()),8592&e[0]&&(X=t[8],ft(),I=bt(I,e,Z,1,t,X,q,g,vt,no,null,Jr),dt()),22529&e[0]&&(J=t[0],ft(),U=bt(U,e,K,1,t,J,W,h,vt,ro,m,Zr),dt()),t[5]&&t[0].length>0?Q?Q.p(t,e):(Q=oo(t),Q.c(),Q.m(h,S)):Q&&(Q.d(1),Q=null),t[5]?tt?(tt.p(t,e),32&e[0]&&ht(tt,1)):(tt=ao(t),tt.c(),ht(tt,1),tt.m(C.parentNode,C)):tt&&(ft(),pt(tt,1,1,()=>{tt=null}),dt())},i(t){if(!L){for(let t=0;t<V.length;t+=1)ht(Y[t]);for(let t=0;t<X.length;t+=1)ht(I[t]);for(let t=0;t<J.length;t+=1)ht(U[t]);ht(tt),L=!0}},o(t){for(let t=0;t<Y.length;t+=1)pt(Y[t]);for(let t=0;t<I.length;t+=1)pt(I[t]);for(let t=0;t<U.length;t+=1)pt(U[t]);pt(tt),L=!1},d(t){t&&x(e),t&&x(o),t&&x(a),t&&x(f),t&&x(d);for(let t=0;t<Y.length;t+=1)Y[t].d();for(let t=0;t<I.length;t+=1)I[t].d();for(let t=0;t<U.length;t+=1)U[t].d();Q&&Q.d(),t&&x(A),tt&&tt.d(t),t&&x(C),R=!1,i(H)}}}function eo(t,e){let n,r,o;return r=new Ir({props:{position:[e[3](e[31]),0],value:e[31],duration:po}}),{key:t,first:null,c(){n=T(),xt(r.$$.fragment),this.first=n},m(t,e){$(t,n,e),St(r,t,e),o=!0},p(t,n){e=t;const o={};520&n[0]&&(o.position=[e[3](e[31]),0]),512&n[0]&&(o.value=e[31]),r.$set(o)},i(t){o||(ht(r.$$.fragment,t),o=!0)},o(t){pt(r.$$.fragment,t),o=!1},d(t){t&&x(n),kt(r,t)}}}function no(t,e){let n,r,o;return r=new Wr({props:{y:e[4],value:e[31],duration:po,chartWidth:fo-e[13].right-e[13].left,format:e[7]}}),{key:t,first:null,c(){n=T(),xt(r.$$.fragment),this.first=n},m(t,e){$(t,n,e),St(r,t,e),o=!0},p(t,n){e=t;const o={};16&n[0]&&(o.y=e[4]),256&n[0]&&(o.value=e[31]),128&n[0]&&(o.format=e[7]),r.$set(o)},i(t){o||(ht(r.$$.fragment,t),o=!0)},o(t){pt(r.$$.fragment,t),o=!1},d(t){t&&x(n),kt(r,t)}}}function ro(t,e){let n,r,o;return r=new Ne({props:{areaPath:e[11](e[28].values),linePath:e[12](e[28].values),color:e[14].get(e[28].id),duration:po}}),{key:t,first:null,c(){n=T(),xt(r.$$.fragment),this.first=n},m(t,e){$(t,n,e),St(r,t,e),o=!0},p(t,n){e=t;const o={};2049&n[0]&&(o.areaPath=e[11](e[28].values)),4097&n[0]&&(o.linePath=e[12](e[28].values)),1&n[0]&&(o.color=e[14].get(e[28].id)),r.$set(o)},i(t){o||(ht(r.$$.fragment,t),o=!0)},o(t){pt(r.$$.fragment,t),o=!1},d(t){t&&x(n),kt(r,t)}}}function oo(t){let e,n,r,o,i,a,l=t[5].values,s=[];for(let e=0;e<l.length;e+=1)s[e]=io(Xr(t,l,e));return{c(){e=M("line");for(let t=0;t<s.length;t+=1)s[t].c();a=T(),j(e,"x1",n=t[3](t[5].year)),j(e,"x2",r=t[3](t[5].year)),j(e,"y1",o=t[13].top),j(e,"y2",i=ho-t[13].bottom),j(e,"stroke","#333"),j(e,"stroke-width","2")},m(t,n){$(t,e,n);for(let e=0;e<s.length;e+=1)s[e].m(t,n);$(t,a,n)},p(t,o){if(40&o[0]&&n!==(n=t[3](t[5].year))&&j(e,"x1",n),40&o[0]&&r!==(r=t[3](t[5].year))&&j(e,"x2",r),56&o[0]){let e;for(l=t[5].values,e=0;e<l.length;e+=1){const n=Xr(t,l,e);s[e]?s[e].p(n,o):(s[e]=io(n),s[e].c(),s[e].m(a.parentNode,a))}for(;e<s.length;e+=1)s[e].d(1);s.length=l.length}},d(t){t&&x(e),S(s,t),t&&x(a)}}}function io(t){let e,n,r;return{c(){e=M("g"),n=M("circle"),j(n,"cx","0"),j(n,"cy","0"),j(n,"r","5"),j(n,"stroke","#333"),j(n,"fill","none"),j(e,"transform",r="translate("+t[3](t[5].year)+" "+t[4](t[23].value)+")")},m(t,r){$(t,e,r),v(e,n)},p(t,n){56&n[0]&&r!==(r="translate("+t[3](t[5].year)+" "+t[4](t[23].value)+")")&&j(e,"transform",r)},d(t){t&&x(e)}}}function ao(t){let e,n,r,o;const i=[so,lo],a=[];function l(t,e){return"percentage"===t[1]?0:1}return e=l(t),n=a[e]=i[e](t),{c(){n.c(),r=T()},m(t,n){a[e].m(t,n),$(t,r,n),o=!0},p(t,o){let s=e;e=l(t),e===s?a[e].p(t,o):(ft(),pt(a[s],1,1,()=>{a[s]=null}),dt(),n=a[e],n?n.p(t,o):(n=a[e]=i[e](t),n.c()),ht(n,1),n.m(r.parentNode,r))},i(t){o||(ht(n),o=!0)},o(t){pt(n),o=!1},d(t){a[e].d(t),t&&x(r)}}}function lo(e){let n,r,o,i,a,l,s,c,u,f=e[5].year+"",d=e[5].values,h=[];for(let t=0;t<d.length;t+=1)h[t]=co(Gr(e,d,t));return{c(){n=k("div"),r=k("div"),o=k("table"),i=k("thead"),a=k("tr"),l=k("th"),s=_(f),c=N(),u=k("tbody");for(let t=0;t<h.length;t+=1)h[t].c();j(o,"class","table is-narrow"),j(r,"class","table-container"),P(n,"position","fixed"),P(n,"top",e[6].clientY+"px"),P(n,"left",e[6].left+e[6].scaling*(e[3](e[5].year)+8)+"px"),P(n,"background","rgba(255, 255, 255, 0.9)"),P(n,"border-radius","5px"),P(n,"border","1px solid #333333"),P(n,"padding","3px 3px"),P(n,"z-index","200"),P(n,"font-weight","600"),P(n,"pointer-events","none")},m(t,e){$(t,n,e),v(n,r),v(r,o),v(o,i),v(i,a),v(a,l),v(l,s),v(o,c),v(o,u);for(let t=0;t<h.length;t+=1)h[t].m(u,null)},p(t,e){if(32&e[0]&&f!==(f=t[5].year+"")&&O(s,f),16416&e[0]){let n;for(d=t[5].values,n=0;n<d.length;n+=1){const r=Gr(t,d,n);h[n]?h[n].p(r,e):(h[n]=co(r),h[n].c(),h[n].m(u,null))}for(;n<h.length;n+=1)h[n].d(1);h.length=d.length}64&e[0]&&P(n,"top",t[6].clientY+"px"),104&e[0]&&P(n,"left",t[6].left+t[6].scaling*(t[3](t[5].year)+8)+"px")},i:t,o:t,d(t){t&&x(n),S(h,t)}}}function so(t){let e,n,r;return n=new Fn({props:{rows:t[5].values}}),{c(){e=k("div"),xt(n.$$.fragment),j(e,"class","tooltip"),P(e,"position","fixed"),P(e,"top",t[6].clientY+"px"),P(e,"left",(t[5].year<t[10]?t[6].left+t[6].scaling*t[3](t[5].year)+8:t[6].left+t[6].scaling*t[3](t[5].year)-318)+"px"),P(e,"background","rgba(255, 255, 255, 0.9)"),P(e,"border-radius","5px"),P(e,"border","1px solid #333333"),P(e,"padding","3px 3px"),P(e,"z-index","200"),P(e,"font-weight","600"),P(e,"width","310px"),P(e,"pointer-events","none")},m(t,o){$(t,e,o),St(n,e,null),r=!0},p(t,o){const i={};32&o[0]&&(i.rows=t[5].values),n.$set(i),(!r||64&o[0])&&P(e,"top",t[6].clientY+"px"),(!r||1128&o[0])&&P(e,"left",(t[5].year<t[10]?t[6].left+t[6].scaling*t[3](t[5].year)+8:t[6].left+t[6].scaling*t[3](t[5].year)-318)+"px")},i(t){r||(ht(n.$$.fragment,t),r=!0)},o(t){pt(n.$$.fragment,t),r=!1},d(t){t&&x(e),kt(n)}}}function co(t){let e,n,r,o,i=_n(t[23].rateOrTotal)(t[23].value)+"";return{c(){e=k("tr"),n=k("td"),r=_(i),o=N(),P(n,"color",t[14].get(t[23].id)),P(n,"text-align","right")},m(t,i){$(t,e,i),v(e,n),v(n,r),v(e,o)},p(t,e){32&e[0]&&i!==(i=_n(t[23].rateOrTotal)(t[23].value)+"")&&O(r,i),32&e[0]&&P(n,"color",t[14].get(t[23].id))},d(t){t&&x(e)}}}function uo(t){let e,n,r,o,i,a;const l=[to,Qr],s=[];function c(t,e){return t[0].length>0?0:1}return n=c(t),r=s[n]=l[n](t),i=new Hn({props:{legendData:t[0].map(t[19])}}),i.$on("deleteProjection",t[20]),{c(){e=k("div"),r.c(),o=N(),xt(i.$$.fragment),j(e,"id","line-chart-div")},m(t,r){$(t,e,r),s[n].m(e,null),v(e,o),St(i,e,null),a=!0},p(t,a){let u=n;n=c(t),n===u?s[n].p(t,a):(ft(),pt(s[u],1,1,()=>{s[u]=null}),dt(),r=s[n],r?r.p(t,a):(r=s[n]=l[n](t),r.c()),ht(r,1),r.m(e,o));const f={};1&a[0]&&(f.legendData=t[0].map(t[19])),i.$set(f)},i(t){a||(ht(r),ht(i.$$.fragment,t),a=!0)},o(t){pt(r),pt(i.$$.fragment,t),a=!1},d(t){t&&x(e),s[n].d(),kt(i)}}}const fo=800,ho=475,po=400;function go(t,e,n){let r,o,i,a,l,s,c,u,f,d,h,p,{data:g}=e,{calculation:m}=e;const y={top:20,right:60,bottom:65,left:90},v=["rgb(31, 119, 180)","rgb(255, 127, 14)","rgb(44, 160, 44)","rgb(214, 39, 40)","rgb(148, 103, 189)","rgb(140, 86, 75)","rgb(227, 119, 194)","rgb(127, 127, 127)","rgb(188, 189, 34)","rgb(23, 190, 207)","rgb(174, 199, 232)","rgb(255, 187, 120)","rgb(152, 223, 138)","rgb(255, 152, 150)","rgb(197, 176, 213)","rgb(196, 156, 148)","rgb(247, 182, 210)","rgb(199, 199, 199)","rgb(219, 219, 141)","rgb(158, 218, 229)"];let b,w=new Map,$=[];return t.$$set=t=>{"data"in t&&n(0,g=t.data),"calculation"in t&&n(1,m=t.calculation)},t.$$.update=()=>{1&t.$$.dirty[0]&&(w.forEach((function(t,e){g.map(t=>t.id).includes(+e)||w.delete(e)})),g.forEach((function(t){if(!w.has(t.id)){const e=v.filter(t=>!Array.from(w.values()).includes(t));w.set(t.id,e[0])}}))),1&t.$$.dirty[0]&&n(18,i=g.map(t=>t.values.map(e=>Object.assign({id:t.id,rateOrTotal:t.params.find(t=>"rateOrTotal"==t[0])[1],color:w.get(t.id)},e))).flat()),262144&t.$$.dirty[0]&&n(2,l=i.length>0?Oe(i,t=>t.year):[2015,2032]),4&t.$$.dirty[0]&&n(3,u=br().domain(l).range([y.left,fo-y.right])),262144&t.$$.dirty[0]&&n(17,c=i.length>0?Oe(i,t=>t.value):[0,50]),131072&t.$$.dirty[0]&&n(4,d=br().domain([c[0]>=0?0:c[0],c[1]]).nice().range([ho-y.bottom,y.top])),24&t.$$.dirty[0]&&n(12,r=Or().curve(Br).defined(t=>!isNaN(t.value)).x(t=>u(t.year)).y(t=>d(t.value))),24&t.$$.dirty[0]&&n(11,o=Lr().x(t=>u(t.year)).y0(t=>d(t.uci)).y1(t=>d(t.lci)).curve(Br)),262144&t.$$.dirty[0]&&console.log(i),262144&t.$$.dirty[0]&&(a=De(i,t=>t.year)),4&t.$$.dirty[0]&&n(10,s=Math.round((l[1]-l[0])/2+l[0])),8&t.$$.dirty[0]&&n(9,f=u.ticks()),16&t.$$.dirty[0]&&n(8,h=d.ticks()),2&t.$$.dirty[0]&&n(7,p=t=>"percentage"===m?t.toLocaleString(void 0,{style:"percent",signDisplay:"exceptZero",maximumFractionDigits:2}):t.toLocaleString())},[g,m,l,u,d,b,$,p,h,f,s,o,r,y,w,function(t){const{clientY:e}=t;let r=Math.round(u.invert(function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}(this,t)[0]));const o=t.target.getBoundingClientRect(),i=o.width/fo;n(6,$={left:o.left,top:o.top,scaling:i,clientY:e}),r<l[0]?r=l[0]:r>l[1]&&(r=l[1]),n(5,b={year:r,values:a.get(r).sort((function(t,e){return je(t.value,e.value)}))})},function(){n(5,b=void 0)},c,i,(t,e)=>({params:t.params,color:w.get(t.id),id:t.id}),function(e){V.call(this,t,e)}]}class mo extends _t{constructor(t){super(),Mt(this,t,go,uo,l,{data:0,calculation:1},null,[-1,-1])}}function yo(e){let n,r,o,i,a,l,s,c,u;return{c(){n=M("g"),r=M("g"),o=M("text"),i=_("Supply"),a=M("line"),l=M("g"),s=M("text"),c=_("Demand"),u=M("line"),j(o,"class","is-size-5 svelte-c0cuwi"),j(a,"x1","-75"),j(a,"stroke-width",e[1]),j(a,"x2","-5"),j(a,"y1","-7"),j(a,"y2","-7"),j(a,"stroke","black"),j(s,"class","is-size-5 svelte-c0cuwi"),j(u,"x1","-75"),j(u,"stroke-dasharray",e[0]),j(u,"stroke-width",e[1]),j(u,"x2","-5"),j(u,"y1","-7"),j(u,"y2","-7"),j(u,"stroke","black"),j(l,"transform","translate(150)"),j(n,"transform",e[2])},m(t,e){$(t,n,e),v(n,r),v(r,o),v(o,i),v(r,a),v(n,l),v(l,s),v(s,c),v(l,u)},p(t,[e]){2&e&&j(a,"stroke-width",t[1]),1&e&&j(u,"stroke-dasharray",t[0]),2&e&&j(u,"stroke-width",t[1]),4&e&&j(n,"transform",t[2])},i:t,o:t,d(t){t&&x(n)}}}function vo(t,e,n){let{dashArray:r=""}=e,{strokeWidth:o}=e,{transform:i}=e;return t.$$set=t=>{"dashArray"in t&&n(0,r=t.dashArray),"strokeWidth"in t&&n(1,o=t.strokeWidth),"transform"in t&&n(2,i=t.transform)},[r,o,i]}class bo extends _t{constructor(t){super(),Mt(this,t,vo,yo,l,{dashArray:0,strokeWidth:1,transform:2})}}const{Map:wo}=yt;function $o(t,e,n){const r=t.slice();return r[23]=e[n],r}function xo(t,e,n){const r=t.slice();return r[26]=e[n],r}function So(t,e,n){const r=t.slice();return r[29]=e[n],r}function ko(t,e,n){const r=t.slice();return r[29]=e[n],r}function Mo(e){let n;return{c(){n=k("div"),n.textContent='Select model options and click "Show".',j(n,"class","notification")},m(t,e){$(t,n,e)},p:t,i:t,o:t,d(t){t&&x(n)}}}function _o(t){let e,n,r,o,a,l,s,c,u,f,d,h,p,g,m,y,b,w,S,A,C,L,R,H=t[1][0]+"",D=t[1][1]+"",z=[],B=new wo,Y=[],F=new wo,I=[],q=new wo;d=new bo({props:{dashArray:Ho,strokeWidth:Do,transform:"translate("+(Lo-285)+","+(t[11].top-10)+")"}});let U=t[7];const W=t=>t[29];for(let e=0;e<U.length;e+=1){let n=ko(t,U,e),r=W(n);B.set(r,z[e]=No(r,n))}let V=t[6];const G=t=>t[29];for(let e=0;e<V.length;e+=1){let n=So(t,V,e),r=G(n);F.set(r,Y[e]=To(r,n))}let X=t[0];const Z=t=>t[26].id;for(let e=0;e<X.length;e+=1){let n=xo(t,X,e),r=Z(n);q.set(r,I[e]=Eo(r,n))}let J=t[5]&&t[0].length>0&&Ao(t),K=t[5]&&jo(t);return{c(){e=k("h1"),e.textContent="Projection of Nurse Workforce, Supply - Demand",n=N(),r=k("h2"),o=_("North Carolina, "),a=_(H),l=_(" - "),s=_(D),c=N(),u=M("svg"),f=M("g"),xt(d.$$.fragment),h=M("g");for(let t=0;t<z.length;t+=1)z[t].c();p=M("g");for(let t=0;t<Y.length;t+=1)Y[t].c();for(let t=0;t<I.length;t+=1)I[t].c();g=M("text"),m=_("Nurse FTE or Head Count\r\n                "),y=M("text"),b=_("Year\r\n                "),J&&J.c(),w=M("rect"),S=N(),K&&K.c(),A=T(),j(e,"class","title"),j(r,"class","subtitle"),j(h,"class","xAxis is-size-6 svelte-j6aox3"),j(h,"transform","translate(0,"+(Po-t[11].bottom)+")"),j(p,"class","yAxis is-size-6 svelte-j6aox3"),j(p,"transform","translate("+t[11].left+",0)"),j(g,"class","is-size-5 svelte-j6aox3"),j(g,"transform","translate("+(t[11].left-70)+","+Po/1.5+") rotate(270)"),j(y,"class","is-size-5 svelte-j6aox3"),j(y,"text-anchor","middle"),j(y,"transform","translate("+((Lo-t[11].left-t[11].right)/2+t[11].left)+","+(Po-10)+")"),j(w,"width",Lo),j(w,"height",Po),j(w,"fill","none"),P(w,"pointer-events","all"),j(f,"class","chart-container"),j(u,"id","line-chart-svg"),j(u,"viewBox","0 0 "+Lo+" "+Po)},m(i,x){$(i,e,x),$(i,n,x),$(i,r,x),v(r,o),v(r,a),v(r,l),v(r,s),$(i,c,x),$(i,u,x),v(u,f),St(d,f,null),v(f,h);for(let t=0;t<z.length;t+=1)z[t].m(h,null);v(f,p);for(let t=0;t<Y.length;t+=1)Y[t].m(p,null);for(let t=0;t<I.length;t+=1)I[t].m(f,null);v(f,g),v(g,m),v(f,y),v(y,b),J&&J.m(f,null),v(f,w),$(i,S,x),K&&K.m(i,x),$(i,A,x),C=!0,L||(R=[E(w,"mousemove",t[13]),E(w,"mouseleave",t[14])],L=!0)},p(t,e){(!C||2&e[0])&&H!==(H=t[1][0]+"")&&O(a,H),(!C||2&e[0])&&D!==(D=t[1][1]+"")&&O(s,D),132&e[0]&&(U=t[7],ft(),z=bt(z,e,W,1,t,U,B,h,vt,No,null,ko),dt()),2120&e[0]&&(V=t[6],ft(),Y=bt(Y,e,G,1,t,V,F,p,vt,To,null,So),dt()),5633&e[0]&&(X=t[0],ft(),I=bt(I,e,Z,1,t,X,q,f,vt,Eo,g,xo),dt()),t[5]&&t[0].length>0?J?J.p(t,e):(J=Ao(t),J.c(),J.m(f,w)):J&&(J.d(1),J=null),t[5]?K?(K.p(t,e),32&e[0]&&ht(K,1)):(K=jo(t),K.c(),ht(K,1),K.m(A.parentNode,A)):K&&(ft(),pt(K,1,1,()=>{K=null}),dt())},i(t){if(!C){ht(d.$$.fragment,t);for(let t=0;t<U.length;t+=1)ht(z[t]);for(let t=0;t<V.length;t+=1)ht(Y[t]);for(let t=0;t<X.length;t+=1)ht(I[t]);ht(K),C=!0}},o(t){pt(d.$$.fragment,t);for(let t=0;t<z.length;t+=1)pt(z[t]);for(let t=0;t<Y.length;t+=1)pt(Y[t]);for(let t=0;t<I.length;t+=1)pt(I[t]);pt(K),C=!1},d(t){t&&x(e),t&&x(n),t&&x(r),t&&x(c),t&&x(u),kt(d);for(let t=0;t<z.length;t+=1)z[t].d();for(let t=0;t<Y.length;t+=1)Y[t].d();for(let t=0;t<I.length;t+=1)I[t].d();J&&J.d(),t&&x(S),K&&K.d(t),t&&x(A),L=!1,i(R)}}}function No(t,e){let n,r,o;return r=new Ir({props:{position:[e[2](e[29]),0],value:e[29],duration:Ro}}),{key:t,first:null,c(){n=T(),xt(r.$$.fragment),this.first=n},m(t,e){$(t,n,e),St(r,t,e),o=!0},p(t,n){e=t;const o={};132&n[0]&&(o.position=[e[2](e[29]),0]),128&n[0]&&(o.value=e[29]),r.$set(o)},i(t){o||(ht(r.$$.fragment,t),o=!0)},o(t){pt(r.$$.fragment,t),o=!1},d(t){t&&x(n),kt(r,t)}}}function To(t,e){let n,r,o;return r=new Wr({props:{y:e[3],value:e[29],duration:Ro,chartWidth:Lo-e[11].right-e[11].left}}),{key:t,first:null,c(){n=T(),xt(r.$$.fragment),this.first=n},m(t,e){$(t,n,e),St(r,t,e),o=!0},p(t,n){e=t;const o={};8&n[0]&&(o.y=e[3]),64&n[0]&&(o.value=e[29]),r.$set(o)},i(t){o||(ht(r.$$.fragment,t),o=!0)},o(t){pt(r.$$.fragment,t),o=!1},d(t){t&&x(n),kt(r,t)}}}function Eo(t,e){let n,r,o,i;return r=new Ne({props:{linePath:e[10](e[26].values.map(zo)),color:e[12].get(e[26].id),duration:Ro,strokeWidth:Do,areaPath:e[9](e[26].values),areaOpacity:.2}}),o=new Ne({props:{linePath:e[10](e[26].values.map(Bo)),dashArray:Ho,color:e[12].get(e[26].id),duration:Ro,strokeWidth:Do}}),{key:t,first:null,c(){n=T(),xt(r.$$.fragment),xt(o.$$.fragment),this.first=n},m(t,e){$(t,n,e),St(r,t,e),St(o,t,e),i=!0},p(t,n){e=t;const i={};1025&n[0]&&(i.linePath=e[10](e[26].values.map(zo))),1&n[0]&&(i.color=e[12].get(e[26].id)),513&n[0]&&(i.areaPath=e[9](e[26].values)),r.$set(i);const a={};1025&n[0]&&(a.linePath=e[10](e[26].values.map(Bo))),1&n[0]&&(a.color=e[12].get(e[26].id)),o.$set(a)},i(t){i||(ht(r.$$.fragment,t),ht(o.$$.fragment,t),i=!0)},o(t){pt(r.$$.fragment,t),pt(o.$$.fragment,t),i=!1},d(t){t&&x(n),kt(r,t),kt(o,t)}}}function Ao(t){let e,n,r,o,i,a,l=t[5].values,s=[];for(let e=0;e<l.length;e+=1)s[e]=Co($o(t,l,e));return{c(){e=M("line");for(let t=0;t<s.length;t+=1)s[t].c();a=T(),j(e,"x1",n=t[2](t[5].year)),j(e,"x2",r=t[2](t[5].year)),j(e,"y1",o=t[11].top),j(e,"y2",i=Po-t[11].bottom),j(e,"stroke","#333"),j(e,"stroke-width","2")},m(t,n){$(t,e,n);for(let e=0;e<s.length;e+=1)s[e].m(t,n);$(t,a,n)},p(t,o){if(36&o[0]&&n!==(n=t[2](t[5].year))&&j(e,"x1",n),36&o[0]&&r!==(r=t[2](t[5].year))&&j(e,"x2",r),44&o[0]){let e;for(l=t[5].values,e=0;e<l.length;e+=1){const n=$o(t,l,e);s[e]?s[e].p(n,o):(s[e]=Co(n),s[e].c(),s[e].m(a.parentNode,a))}for(;e<s.length;e+=1)s[e].d(1);s.length=l.length}},d(t){t&&x(e),S(s,t),t&&x(a)}}}function Co(t){let e,n,r,o,i,a;return{c(){e=M("g"),n=M("circle"),o=M("g"),i=M("circle"),j(n,"cx","0"),j(n,"cy","0"),j(n,"r","5"),j(n,"stroke","#333"),j(n,"fill","none"),j(e,"transform",r="translate("+t[2](t[5].year)+" "+t[3](t[23].demandMean)+")"),j(i,"cx","0"),j(i,"cy","0"),j(i,"r","5"),j(i,"stroke","#333"),j(i,"fill","none"),j(o,"transform",a="translate("+t[2](t[5].year)+" "+t[3](t[23].supplyMean)+")")},m(t,r){$(t,e,r),v(e,n),$(t,o,r),v(o,i)},p(t,n){44&n[0]&&r!==(r="translate("+t[2](t[5].year)+" "+t[3](t[23].demandMean)+")")&&j(e,"transform",r),44&n[0]&&a!==(a="translate("+t[2](t[5].year)+" "+t[3](t[23].supplyMean)+")")&&j(o,"transform",a)},d(t){t&&x(e),t&&x(o)}}}function jo(t){let e,n,r;return n=new Fn({props:{rows:t[5].values}}),{c(){e=k("div"),xt(n.$$.fragment),j(e,"class","tooltip"),P(e,"position","fixed"),P(e,"top",t[4].clientY+"px"),P(e,"left",(t[5].year<t[8]?t[4].left+t[4].scaling*t[2](t[5].year)+4:t[4].left+t[4].scaling*t[2](t[5].year)-324)+"px"),P(e,"background","rgba(255, 255, 255, 0.9)"),P(e,"border-radius","5px"),P(e,"border","1px solid #333333"),P(e,"padding","3px 3px"),P(e,"z-index","200"),P(e,"font-weight","600"),P(e,"width","320px"),P(e,"pointer-events","none")},m(t,o){$(t,e,o),St(n,e,null),r=!0},p(t,o){const i={};32&o[0]&&(i.rows=t[5].values),n.$set(i),(!r||16&o[0])&&P(e,"top",t[4].clientY+"px"),(!r||308&o[0])&&P(e,"left",(t[5].year<t[8]?t[4].left+t[4].scaling*t[2](t[5].year)+4:t[4].left+t[4].scaling*t[2](t[5].year)-324)+"px")},i(t){r||(ht(n.$$.fragment,t),r=!0)},o(t){pt(n.$$.fragment,t),r=!1},d(t){t&&x(e),kt(n)}}}function Oo(t){let e,n,r,o,i,a;const l=[_o,Mo],s=[];function c(t,e){return t[0].length>0?0:1}return n=c(t),r=s[n]=l[n](t),i=new Hn({props:{legendData:t[0].map(t[17])}}),i.$on("deleteProjection",t[18]),{c(){e=k("div"),r.c(),o=N(),xt(i.$$.fragment),j(e,"id","line-chart-div")},m(t,r){$(t,e,r),s[n].m(e,null),v(e,o),St(i,e,null),a=!0},p(t,a){let u=n;n=c(t),n===u?s[n].p(t,a):(ft(),pt(s[u],1,1,()=>{s[u]=null}),dt(),r=s[n],r?r.p(t,a):(r=s[n]=l[n](t),r.c()),ht(r,1),r.m(e,o));const f={};1&a[0]&&(f.legendData=t[0].map(t[17])),i.$set(f)},i(t){a||(ht(r),ht(i.$$.fragment,t),a=!0)},o(t){pt(r),pt(i.$$.fragment,t),a=!1},d(t){t&&x(e),s[n].d(),kt(i)}}}const Lo=800,Po=475,Ro=400,Ho="4",Do=2;const zo=({year:t,supplyMean:e})=>({year:t,value:e}),Bo=({year:t,demandMean:e})=>({year:t,value:e});function Yo(t,e,n){let r,o,i,a,l,s,c,u,f,d,h,{data:p}=e;const g={top:30,right:60,bottom:65,left:90},m=["rgb(31, 119, 180)","rgb(255, 127, 14)","rgb(44, 160, 44)","rgb(214, 39, 40)","rgb(148, 103, 189)","rgb(140, 86, 75)","rgb(227, 119, 194)","rgb(127, 127, 127)","rgb(188, 189, 34)","rgb(23, 190, 207)","rgb(174, 199, 232)","rgb(255, 187, 120)","rgb(152, 223, 138)","rgb(255, 152, 150)","rgb(197, 176, 213)","rgb(196, 156, 148)","rgb(247, 182, 210)","rgb(199, 199, 199)","rgb(219, 219, 141)","rgb(158, 218, 229)"];let y=new Map;const v=Br;let b,w=[];return t.$$set=t=>{"data"in t&&n(0,p=t.data)},t.$$.update=()=>{1&t.$$.dirty[0]&&(y.forEach((function(t,e){p.map(t=>t.id).includes(+e)||y.delete(e)})),p.forEach((function(t){if(!y.has(t.id)){const e=m.filter(t=>!Array.from(y.values()).includes(t));y.set(t.id,e[0])}}))),1&t.$$.dirty[0]&&n(16,i=p.map(t=>t.values.map(e=>Object.assign({id:t.id,rateOrTotal:t.params.find(t=>"rateOrTotal"==t[0])[1],color:y.get(t.id)},e))).flat()),65536&t.$$.dirty[0]&&n(1,l=i.length>0?Oe(i,t=>t.year):[2015,2032]),2&t.$$.dirty[0]&&n(2,u=br().domain(l).range([g.left,Lo-g.right])),65536&t.$$.dirty[0]&&n(15,c=i.length>0?Ue(i.flatMap(t=>[t.supplyMean,t.demandMean])):50),32768&t.$$.dirty[0]&&n(3,d=br().domain([0,c]).nice().range([Po-g.bottom,g.top])),12&t.$$.dirty[0]&&n(10,r=Or().curve(v).defined(t=>!isNaN(t.value)).x(t=>u(t.year)).y(t=>d(t.value))),12&t.$$.dirty[0]&&n(9,o=Lr().curve(v).x(t=>u(t.year)).y0(t=>d(t.supplyMean)).y1(t=>d(t.demandMean))),65536&t.$$.dirty[0]&&(a=De(i,t=>t.year)),2&t.$$.dirty[0]&&n(8,s=Math.round((l[1]+l[0])/2)),4&t.$$.dirty[0]&&n(7,f=u.ticks()),8&t.$$.dirty[0]&&n(6,h=d.ticks())},[p,l,u,d,w,b,h,f,s,o,r,g,y,function(t){const{clientY:e}=t;let r=Math.round(u.invert(function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}(this,t)[0]));const o=t.target.getBoundingClientRect(),i=o.width/Lo;n(4,w={left:o.left,right:o.right,top:o.top,scaling:i,clientY:e}),r<l[0]?r=l[0]:r>l[1]&&(r=l[1]),n(5,b={year:r,values:a.get(r).sort((function(t,e){return je(We([t.supplyMean,t.demandMean]),We([e.supplyMean,e.demandMean]))}))})},function(){n(5,b=void 0)},c,i,(t,e)=>({params:t.params,color:y.get(t.id),id:t.id}),function(e){V.call(this,t,e)}]}class Fo extends _t{constructor(t){super(),Mt(this,t,Yo,Oo,l,{data:0},null,[-1,-1])}}function Io(){return new qo}function qo(){this.reset()}qo.prototype={constructor:qo,reset:function(){this.s=this.t=0},add:function(t){Wo(Uo,t,this.t),Wo(this,Uo.s,this.s),this.s?this.t+=Uo.t:this.s=Uo.t},valueOf:function(){return this.s}};var Uo=new qo;function Wo(t,e,n){var r=t.s=e+n,o=r-e,i=r-o;t.t=e-i+(n-o)}var Vo=1e-6,Go=Math.PI,Xo=Go/2,Zo=Go/4,Jo=2*Go,Ko=180/Go,Qo=Go/180,ti=Math.abs,ei=Math.atan,ni=Math.atan2,ri=Math.cos,oi=Math.sin,ii=Math.sign||function(t){return t>0?1:t<0?-1:0},ai=Math.sqrt;function li(t){return t>1?Xo:t<-1?-Xo:Math.asin(t)}function si(){}function ci(t,e){t&&fi.hasOwnProperty(t.type)&&fi[t.type](t,e)}var ui={Feature:function(t,e){ci(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,o=n.length;++r<o;)ci(n[r].geometry,e)}},fi={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){di(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)di(n[r],e,0)},Polygon:function(t,e){hi(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)hi(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,o=n.length;++r<o;)ci(n[r],e)}};function di(t,e,n){var r,o=-1,i=t.length-n;for(e.lineStart();++o<i;)r=t[o],e.point(r[0],r[1],r[2]);e.lineEnd()}function hi(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)di(t[n],e,1);e.polygonEnd()}function pi(t,e){t&&ui.hasOwnProperty(t.type)?ui[t.type](t,e):ci(t,e)}function gi(t){return[ni(t[1],t[0]),li(t[2])]}function mi(t){var e=t[0],n=t[1],r=ri(n);return[r*ri(e),r*oi(e),oi(n)]}function yi(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function vi(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function bi(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function wi(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function $i(t){var e=ai(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function xi(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n}function Si(t,e){return[ti(t)>Go?t+Math.round(-t/Jo)*Jo:t,e]}function ki(t){return function(e,n){return[(e+=t)>Go?e-Jo:e<-Go?e+Jo:e,n]}}function Mi(t){var e=ki(t);return e.invert=ki(-t),e}function _i(t,e){var n=ri(t),r=oi(t),o=ri(e),i=oi(e);function a(t,e){var a=ri(e),l=ri(t)*a,s=oi(t)*a,c=oi(e),u=c*n+l*r;return[ni(s*o-u*i,l*n-c*r),li(u*o+s*i)]}return a.invert=function(t,e){var a=ri(e),l=ri(t)*a,s=oi(t)*a,c=oi(e),u=c*o-s*i;return[ni(s*o+c*i,l*n+u*r),li(u*n-l*r)]},a}function Ni(t,e){(e=mi(e))[0]-=t,$i(e);var n=function(t){return t>1?0:t<-1?Go:Math.acos(t)}(-e[1]);return((-e[2]<0?-n:n)+Jo-Vo)%Jo}function Ti(){var t,e=[];return{point:function(e,n,r){t.push([e,n,r])},lineStart:function(){e.push(t=[])},lineEnd:si,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function Ei(t,e){return ti(t[0]-e[0])<Vo&&ti(t[1]-e[1])<Vo}function Ai(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Ci(t,e,n,r,o){var i,a,l=[],s=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],a=t[e];if(Ei(r,a)){if(!r[2]&&!a[2]){for(o.lineStart(),i=0;i<e;++i)o.point((r=t[i])[0],r[1]);return void o.lineEnd()}a[0]+=2*Vo}l.push(n=new Ai(r,t,null,!0)),s.push(n.o=new Ai(r,null,n,!1)),l.push(n=new Ai(a,t,null,!1)),s.push(n.o=new Ai(a,null,n,!0))}})),l.length){for(s.sort(e),ji(l),ji(s),i=0,a=s.length;i<a;++i)s[i].e=n=!n;for(var c,u,f=l[0];;){for(var d=f,h=!0;d.v;)if((d=d.n)===f)return;c=d.z,o.lineStart();do{if(d.v=d.o.v=!0,d.e){if(h)for(i=0,a=c.length;i<a;++i)o.point((u=c[i])[0],u[1]);else r(d.x,d.n.x,1,o);d=d.n}else{if(h)for(c=d.p.z,i=c.length-1;i>=0;--i)o.point((u=c[i])[0],u[1]);else r(d.x,d.p.x,-1,o);d=d.p}c=(d=d.o).z,h=!h}while(!d.v);o.lineEnd()}}}function ji(t){if(e=t.length){for(var e,n,r=0,o=t[0];++r<e;)o.n=n=t[r],n.p=o,o=n;o.n=n=t[0],n.p=o}}Si.invert=Si;var Oi,Li,Pi=Io();function Ri(t){return ti(t[0])<=Go?t[0]:ii(t[0])*((ti(t[0])+Go)%Jo-Go)}function Hi(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Di(t){for(var e,n,r,o=t.length,i=-1,a=0;++i<o;)a+=t[i].length;for(n=new Array(a);--o>=0;)for(e=(r=t[o]).length;--e>=0;)n[--a]=r[e];return n}function zi(t,e,n,r){return function(o){var i,a,l,s=e(o),c=Ti(),u=e(c),f=!1,d={point:h,lineStart:g,lineEnd:m,polygonStart:function(){d.point=y,d.lineStart=v,d.lineEnd=b,a=[],i=[]},polygonEnd:function(){d.point=h,d.lineStart=g,d.lineEnd=m,a=Di(a);var t=function(t,e){var n=Ri(e),r=e[1],o=oi(r),i=[oi(n),-ri(n),0],a=0,l=0;Pi.reset(),1===o?r=Xo+Vo:-1===o&&(r=-Xo-Vo);for(var s=0,c=t.length;s<c;++s)if(f=(u=t[s]).length)for(var u,f,d=u[f-1],h=Ri(d),p=d[1]/2+Zo,g=oi(p),m=ri(p),y=0;y<f;++y,h=b,g=$,m=x,d=v){var v=u[y],b=Ri(v),w=v[1]/2+Zo,$=oi(w),x=ri(w),S=b-h,k=S>=0?1:-1,M=k*S,_=M>Go,N=g*$;if(Pi.add(ni(N*k*oi(M),m*x+N*ri(M))),a+=_?S+k*Jo:S,_^h>=n^b>=n){var T=vi(mi(d),mi(v));$i(T);var E=vi(i,T);$i(E);var A=(_^S>=0?-1:1)*li(E[2]);(r>A||r===A&&(T[0]||T[1]))&&(l+=_^S>=0?1:-1)}}return(a<-Vo||a<Vo&&Pi<-Vo)^1&l}(i,r);a.length?(f||(o.polygonStart(),f=!0),Ci(a,Yi,t,n,o)):t&&(f||(o.polygonStart(),f=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),f&&(o.polygonEnd(),f=!1),a=i=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function h(e,n){t(e,n)&&o.point(e,n)}function p(t,e){s.point(t,e)}function g(){d.point=p,s.lineStart()}function m(){d.point=h,s.lineEnd()}function y(t,e){l.push([t,e]),u.point(t,e)}function v(){u.lineStart(),l=[]}function b(){y(l[0][0],l[0][1]),u.lineEnd();var t,e,n,r,s=u.clean(),d=c.result(),h=d.length;if(l.pop(),i.push(l),l=null,h)if(1&s){if((e=(n=d[0]).length-1)>0){for(f||(o.polygonStart(),f=!0),o.lineStart(),t=0;t<e;++t)o.point((r=n[t])[0],r[1]);o.lineEnd()}}else h>1&&2&s&&d.push(d.pop().concat(d.shift())),a.push(d.filter(Bi))}return d}}function Bi(t){return t.length>1}function Yi(t,e){return((t=t.x)[0]<0?t[1]-Xo-Vo:Xo-t[1])-((e=e.x)[0]<0?e[1]-Xo-Vo:Xo-e[1])}1===(Oi=Hi).length&&(Li=Oi,Oi=function(t,e){return Hi(Li(t),e)});var Fi=zi((function(){return!0}),(function(t){var e,n=NaN,r=NaN,o=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(i,a){var l=i>0?Go:-Go,s=ti(i-n);ti(s-Go)<Vo?(t.point(n,r=(r+a)/2>0?Xo:-Xo),t.point(o,r),t.lineEnd(),t.lineStart(),t.point(l,r),t.point(i,r),e=0):o!==l&&s>=Go&&(ti(n-o)<Vo&&(n-=o*Vo),ti(i-l)<Vo&&(i-=l*Vo),r=function(t,e,n,r){var o,i,a=oi(t-n);return ti(a)>Vo?ei((oi(e)*(i=ri(r))*oi(n)-oi(r)*(o=ri(e))*oi(t))/(o*i*a)):(e+r)/2}(n,r,i,a),t.point(o,r),t.lineEnd(),t.lineStart(),t.point(l,r),e=0),t.point(n=i,r=a),o=l},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}}),(function(t,e,n,r){var o;if(null==t)o=n*Xo,r.point(-Go,o),r.point(0,o),r.point(Go,o),r.point(Go,0),r.point(Go,-o),r.point(0,-o),r.point(-Go,-o),r.point(-Go,0),r.point(-Go,o);else if(ti(t[0]-e[0])>Vo){var i=t[0]<e[0]?Go:-Go;o=n*i/2,r.point(-i,o),r.point(0,o),r.point(i,o)}else r.point(e[0],e[1])}),[-Go,-Xo]);function Ii(t){var e=ri(t),n=6*Qo,r=e>0,o=ti(e)>Vo;function i(t,n){return ri(t)*ri(n)>e}function a(t,n,r){var o=[1,0,0],i=vi(mi(t),mi(n)),a=yi(i,i),l=i[0],s=a-l*l;if(!s)return!r&&t;var c=e*a/s,u=-e*l/s,f=vi(o,i),d=wi(o,c);bi(d,wi(i,u));var h=f,p=yi(d,h),g=yi(h,h),m=p*p-g*(yi(d,d)-1);if(!(m<0)){var y=ai(m),v=wi(h,(-p-y)/g);if(bi(v,d),v=gi(v),!r)return v;var b,w=t[0],$=n[0],x=t[1],S=n[1];$<w&&(b=w,w=$,$=b);var k=$-w,M=ti(k-Go)<Vo;if(!M&&S<x&&(b=x,x=S,S=b),M||k<Vo?M?x+S>0^v[1]<(ti(v[0]-w)<Vo?x:S):x<=v[1]&&v[1]<=S:k>Go^(w<=v[0]&&v[0]<=$)){var _=wi(h,(-p+y)/g);return bi(_,d),[v,gi(_)]}}}function l(e,n){var o=r?t:Go-t,i=0;return e<-o?i|=1:e>o&&(i|=2),n<-o?i|=4:n>o&&(i|=8),i}return zi(i,(function(t){var e,n,s,c,u;return{lineStart:function(){c=s=!1,u=1},point:function(f,d){var h,p=[f,d],g=i(f,d),m=r?g?0:l(f,d):g?l(f+(f<0?Go:-Go),d):0;if(!e&&(c=s=g)&&t.lineStart(),g!==s&&(!(h=a(e,p))||Ei(e,h)||Ei(p,h))&&(p[2]=1),g!==s)u=0,g?(t.lineStart(),h=a(p,e),t.point(h[0],h[1])):(h=a(e,p),t.point(h[0],h[1],2),t.lineEnd()),e=h;else if(o&&e&&r^g){var y;m&n||!(y=a(p,e,!0))||(u=0,r?(t.lineStart(),t.point(y[0][0],y[0][1]),t.point(y[1][0],y[1][1]),t.lineEnd()):(t.point(y[1][0],y[1][1]),t.lineEnd(),t.lineStart(),t.point(y[0][0],y[0][1],3)))}!g||e&&Ei(e,p)||t.point(p[0],p[1]),e=p,s=g,n=m},lineEnd:function(){s&&t.lineEnd(),e=null},clean:function(){return u|(c&&s)<<1}}}),(function(e,r,o,i){!function(t,e,n,r,o,i){if(n){var a=ri(e),l=oi(e),s=r*n;null==o?(o=e+r*Jo,i=e-s/2):(o=Ni(a,o),i=Ni(a,i),(r>0?o<i:o>i)&&(o+=r*Jo));for(var c,u=o;r>0?u>i:u<i;u-=s)c=gi([a,-l*ri(u),-l*oi(u)]),t.point(c[0],c[1])}}(i,t,n,o,e,r)}),r?[0,-t]:[-Go,t-Go])}function qi(t,e,n,r){function o(o,i){return t<=o&&o<=n&&e<=i&&i<=r}function i(o,i,l,c){var u=0,f=0;if(null==o||(u=a(o,l))!==(f=a(i,l))||s(o,i)<0^l>0)do{c.point(0===u||3===u?t:n,u>1?r:e)}while((u=(u+l+4)%4)!==f);else c.point(i[0],i[1])}function a(r,o){return ti(r[0]-t)<Vo?o>0?0:3:ti(r[0]-n)<Vo?o>0?2:1:ti(r[1]-e)<Vo?o>0?1:0:o>0?3:2}function l(t,e){return s(t.x,e.x)}function s(t,e){var n=a(t,1),r=a(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(a){var s,c,u,f,d,h,p,g,m,y,v,b=a,w=Ti(),$={point:x,lineStart:function(){$.point=S,c&&c.push(u=[]);y=!0,m=!1,p=g=NaN},lineEnd:function(){s&&(S(f,d),h&&m&&w.rejoin(),s.push(w.result()));$.point=x,m&&b.lineEnd()},polygonStart:function(){b=w,s=[],c=[],v=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,o=c.length;n<o;++n)for(var i,a,l=c[n],s=1,u=l.length,f=l[0],d=f[0],h=f[1];s<u;++s)i=d,a=h,f=l[s],d=f[0],h=f[1],a<=r?h>r&&(d-i)*(r-a)>(h-a)*(t-i)&&++e:h<=r&&(d-i)*(r-a)<(h-a)*(t-i)&&--e;return e}(),n=v&&e,o=(s=Di(s)).length;(n||o)&&(a.polygonStart(),n&&(a.lineStart(),i(null,null,1,a),a.lineEnd()),o&&Ci(s,l,e,i,a),a.polygonEnd());b=a,s=c=u=null}};function x(t,e){o(t,e)&&b.point(t,e)}function S(i,a){var l=o(i,a);if(c&&u.push([i,a]),y)f=i,d=a,h=l,y=!1,l&&(b.lineStart(),b.point(i,a));else if(l&&m)b.point(i,a);else{var s=[p=Math.max(-1e9,Math.min(1e9,p)),g=Math.max(-1e9,Math.min(1e9,g))],w=[i=Math.max(-1e9,Math.min(1e9,i)),a=Math.max(-1e9,Math.min(1e9,a))];!function(t,e,n,r,o,i){var a,l=t[0],s=t[1],c=0,u=1,f=e[0]-l,d=e[1]-s;if(a=n-l,f||!(a>0)){if(a/=f,f<0){if(a<c)return;a<u&&(u=a)}else if(f>0){if(a>u)return;a>c&&(c=a)}if(a=o-l,f||!(a<0)){if(a/=f,f<0){if(a>u)return;a>c&&(c=a)}else if(f>0){if(a<c)return;a<u&&(u=a)}if(a=r-s,d||!(a>0)){if(a/=d,d<0){if(a<c)return;a<u&&(u=a)}else if(d>0){if(a>u)return;a>c&&(c=a)}if(a=i-s,d||!(a<0)){if(a/=d,d<0){if(a>u)return;a>c&&(c=a)}else if(d>0){if(a<c)return;a<u&&(u=a)}return c>0&&(t[0]=l+c*f,t[1]=s+c*d),u<1&&(e[0]=l+u*f,e[1]=s+u*d),!0}}}}}(s,w,t,e,n,r)?l&&(b.lineStart(),b.point(i,a),v=!1):(m||(b.lineStart(),b.point(s[0],s[1])),b.point(w[0],w[1]),l||b.lineEnd(),v=!1)}p=i,g=a,m=l}return $}}function Ui(t){return t}var Wi,Vi,Gi,Xi,Zi=Io(),Ji=Io(),Ki={point:si,lineStart:si,lineEnd:si,polygonStart:function(){Ki.lineStart=Qi,Ki.lineEnd=na},polygonEnd:function(){Ki.lineStart=Ki.lineEnd=Ki.point=si,Zi.add(ti(Ji)),Ji.reset()},result:function(){var t=Zi/2;return Zi.reset(),t}};function Qi(){Ki.point=ta}function ta(t,e){Ki.point=ea,Wi=Gi=t,Vi=Xi=e}function ea(t,e){Ji.add(Xi*t-Gi*e),Gi=t,Xi=e}function na(){ea(Wi,Vi)}var ra=Ki,oa=1/0,ia=oa,aa=-oa,la=aa;var sa,ca,ua,fa,da={point:function(t,e){t<oa&&(oa=t);t>aa&&(aa=t);e<ia&&(ia=e);e>la&&(la=e)},lineStart:si,lineEnd:si,polygonStart:si,polygonEnd:si,result:function(){var t=[[oa,ia],[aa,la]];return aa=la=-(ia=oa=1/0),t}},ha=0,pa=0,ga=0,ma=0,ya=0,va=0,ba=0,wa=0,$a=0,xa={point:Sa,lineStart:ka,lineEnd:Na,polygonStart:function(){xa.lineStart=Ta,xa.lineEnd=Ea},polygonEnd:function(){xa.point=Sa,xa.lineStart=ka,xa.lineEnd=Na},result:function(){var t=$a?[ba/$a,wa/$a]:va?[ma/va,ya/va]:ga?[ha/ga,pa/ga]:[NaN,NaN];return ha=pa=ga=ma=ya=va=ba=wa=$a=0,t}};function Sa(t,e){ha+=t,pa+=e,++ga}function ka(){xa.point=Ma}function Ma(t,e){xa.point=_a,Sa(ua=t,fa=e)}function _a(t,e){var n=t-ua,r=e-fa,o=ai(n*n+r*r);ma+=o*(ua+t)/2,ya+=o*(fa+e)/2,va+=o,Sa(ua=t,fa=e)}function Na(){xa.point=Sa}function Ta(){xa.point=Aa}function Ea(){Ca(sa,ca)}function Aa(t,e){xa.point=Ca,Sa(sa=ua=t,ca=fa=e)}function Ca(t,e){var n=t-ua,r=e-fa,o=ai(n*n+r*r);ma+=o*(ua+t)/2,ya+=o*(fa+e)/2,va+=o,ba+=(o=fa*t-ua*e)*(ua+t),wa+=o*(fa+e),$a+=3*o,Sa(ua=t,fa=e)}var ja=xa;function Oa(t){this._context=t}Oa.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Jo)}},result:si};var La,Pa,Ra,Ha,Da,za=Io(),Ba={point:si,lineStart:function(){Ba.point=Ya},lineEnd:function(){La&&Fa(Pa,Ra),Ba.point=si},polygonStart:function(){La=!0},polygonEnd:function(){La=null},result:function(){var t=+za;return za.reset(),t}};function Ya(t,e){Ba.point=Fa,Pa=Ha=t,Ra=Da=e}function Fa(t,e){Ha-=t,Da-=e,za.add(ai(Ha*Ha+Da*Da)),Ha=t,Da=e}var Ia=Ba;function qa(){this._string=[]}function Ua(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Wa(t){return function(e){var n=new Va;for(var r in t)n[r]=t[r];return n.stream=e,n}}function Va(){}function Ga(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),pi(n,t.stream(da)),e(da.result()),null!=r&&t.clipExtent(r),t}function Xa(t,e,n){return Ga(t,(function(n){var r=e[1][0]-e[0][0],o=e[1][1]-e[0][1],i=Math.min(r/(n[1][0]-n[0][0]),o/(n[1][1]-n[0][1])),a=+e[0][0]+(r-i*(n[1][0]+n[0][0]))/2,l=+e[0][1]+(o-i*(n[1][1]+n[0][1]))/2;t.scale(150*i).translate([a,l])}),n)}qa.prototype={_radius:4.5,_circle:Ua(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=Ua(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}},Va.prototype={constructor:Va,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Za=ri(30*Qo);function Ja(t,e){return+e?function(t,e){function n(r,o,i,a,l,s,c,u,f,d,h,p,g,m){var y=c-r,v=u-o,b=y*y+v*v;if(b>4*e&&g--){var w=a+d,$=l+h,x=s+p,S=ai(w*w+$*$+x*x),k=li(x/=S),M=ti(ti(x)-1)<Vo||ti(i-f)<Vo?(i+f)/2:ni($,w),_=t(M,k),N=_[0],T=_[1],E=N-r,A=T-o,C=v*E-y*A;(C*C/b>e||ti((y*E+v*A)/b-.5)>.3||a*d+l*h+s*p<Za)&&(n(r,o,i,a,l,s,N,T,M,w/=S,$/=S,x,g,m),m.point(N,T),n(N,T,M,w,$,x,c,u,f,d,h,p,g,m))}}return function(e){var r,o,i,a,l,s,c,u,f,d,h,p,g={point:m,lineStart:y,lineEnd:b,polygonStart:function(){e.polygonStart(),g.lineStart=w},polygonEnd:function(){e.polygonEnd(),g.lineStart=y}};function m(n,r){n=t(n,r),e.point(n[0],n[1])}function y(){u=NaN,g.point=v,e.lineStart()}function v(r,o){var i=mi([r,o]),a=t(r,o);n(u,f,c,d,h,p,u=a[0],f=a[1],c=r,d=i[0],h=i[1],p=i[2],16,e),e.point(u,f)}function b(){g.point=m,e.lineEnd()}function w(){y(),g.point=$,g.lineEnd=x}function $(t,e){v(r=t,e),o=u,i=f,a=d,l=h,s=p,g.point=v}function x(){n(u,f,c,d,h,p,o,i,r,a,l,s,16,e),g.lineEnd=b,b()}return g}}(t,e):function(t){return Wa({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)}var Ka=Wa({point:function(t,e){this.stream.point(t*Qo,e*Qo)}});function Qa(t,e,n,r,o){function i(i,a){return[e+t*(i*=r),n-t*(a*=o)]}return i.invert=function(i,a){return[(i-e)/t*r,(n-a)/t*o]},i}function tl(t,e,n,r,o,i){var a=ri(i),l=oi(i),s=a*t,c=l*t,u=a/t,f=l/t,d=(l*n-a*e)/t,h=(l*e+a*n)/t;function p(t,i){return[s*(t*=r)-c*(i*=o)+e,n-c*t-s*i]}return p.invert=function(t,e){return[r*(u*t-f*e+d),o*(h-f*t-u*e)]},p}function el(t){var e,n,r,o,i,a,l,s,c,u,f=150,d=480,h=250,p=0,g=0,m=0,y=0,v=0,b=0,w=1,$=1,x=null,S=Fi,k=null,M=Ui,_=.5;function N(t){return s(t[0]*Qo,t[1]*Qo)}function T(t){return(t=s.invert(t[0],t[1]))&&[t[0]*Ko,t[1]*Ko]}function E(){var t=tl(f,0,0,w,$,b).apply(null,e(p,g)),r=(b?tl:Qa)(f,d-t[0],h-t[1],w,$,b);return n=function(t,e,n){return(t%=Jo)?e||n?xi(Mi(t),_i(e,n)):Mi(t):e||n?_i(e,n):Si}(m,y,v),l=xi(e,r),s=xi(n,l),a=Ja(l,_),A()}function A(){return c=u=null,N}return N.stream=function(t){return c&&u===t?c:c=Ka(function(t){return Wa({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}(n)(S(a(M(u=t)))))},N.preclip=function(t){return arguments.length?(S=t,x=void 0,A()):S},N.postclip=function(t){return arguments.length?(M=t,k=r=o=i=null,A()):M},N.clipAngle=function(t){return arguments.length?(S=+t?Ii(x=t*Qo):(x=null,Fi),A()):x*Ko},N.clipExtent=function(t){return arguments.length?(M=null==t?(k=r=o=i=null,Ui):qi(k=+t[0][0],r=+t[0][1],o=+t[1][0],i=+t[1][1]),A()):null==k?null:[[k,r],[o,i]]},N.scale=function(t){return arguments.length?(f=+t,E()):f},N.translate=function(t){return arguments.length?(d=+t[0],h=+t[1],E()):[d,h]},N.center=function(t){return arguments.length?(p=t[0]%360*Qo,g=t[1]%360*Qo,E()):[p*Ko,g*Ko]},N.rotate=function(t){return arguments.length?(m=t[0]%360*Qo,y=t[1]%360*Qo,v=t.length>2?t[2]%360*Qo:0,E()):[m*Ko,y*Ko,v*Ko]},N.angle=function(t){return arguments.length?(b=t%360*Qo,E()):b*Ko},N.reflectX=function(t){return arguments.length?(w=t?-1:1,E()):w<0},N.reflectY=function(t){return arguments.length?($=t?-1:1,E()):$<0},N.precision=function(t){return arguments.length?(a=Ja(l,_=t*t),A()):ai(_)},N.fitExtent=function(t,e){return Xa(N,t,e)},N.fitSize=function(t,e){return function(t,e,n){return Xa(t,[[0,0],e],n)}(N,t,e)},N.fitWidth=function(t,e){return function(t,e,n){return Ga(t,(function(n){var r=+e,o=r/(n[1][0]-n[0][0]),i=(r-o*(n[1][0]+n[0][0]))/2,a=-o*n[0][1];t.scale(150*o).translate([i,a])}),n)}(N,t,e)},N.fitHeight=function(t,e){return function(t,e,n){return Ga(t,(function(n){var r=+e,o=r/(n[1][1]-n[0][1]),i=-o*n[0][0],a=(r-o*(n[1][1]+n[0][1]))/2;t.scale(150*o).translate([i,a])}),n)}(N,t,e)},function(){return e=t.apply(this,arguments),N.invert=e.invert&&T,E()}}function nl(t,e){var n=oi(t),r=(n+oi(e))/2;if(ti(r)<Vo)return function(t){var e=ri(t);function n(t,n){return[t*e,oi(n)/e]}return n.invert=function(t,n){return[t/e,li(n*e)]},n}(t);var o=1+n*(2*r-n),i=ai(o)/r;function a(t,e){var n=ai(o-2*r*oi(e))/r;return[n*oi(t*=r),i-n*ri(t)]}return a.invert=function(t,e){var n=i-e,a=ni(t,ti(n))*ii(n);return n*r<0&&(a-=Go*ii(t)*ii(n)),[a/r,li((o-(t*t+n*n)*r*r)/(2*r))]},a}function rl(){return(t=nl,e=0,n=Go/3,r=el(t),o=r(e,n),o.parallels=function(t){return arguments.length?r(e=t[0]*Qo,n=t[1]*Qo):[e*Ko,n*Ko]},o).scale(155.424).center([0,33.6442]);var t,e,n,r,o}function ol(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(6*r,6*++r);return n}function il(t){return de(t[t.length-1])}var al=il(new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(ol)),ll=il(new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(ol));function sl(t,e,n){const r=t.slice();return r[17]=e[n],r}function cl(t,e,n){const r=t.slice();return r[20]=e[n],r}function ul(t){let e,n,r,o,a,l,s,c,u,f,d,h,p,g,m,y,b,w=t[20][1].name+"",S=t[20][1].value+"",k=t[20][1].name+"";function N(){return t[15](t[20])}return{c(){e=M("g"),n=M("rect"),r=M("title"),o=_(w),a=_(": "),l=_(S),h=M("text"),p=_(k),j(n,"width",s=Math.abs(t[9](t[20][1].value)-t[9](0))||1),j(n,"x",c=t[9](Math.min(t[20][1].value,0))),j(n,"height",u=t[8].bandwidth()),j(n,"fill",f=t[1]==t[20][0]?t[2]:t[20][1].fill),j(n,"stroke-width","1"),j(n,"stroke",d=dn(t[1]==t[20][0]?t[2]:t[20][1].fill).darker(2)),j(h,"class","yAxis svelte-1jz9hor"),j(h,"transform",g="translate("+t[6].left+")"),j(h,"dy","1em"),j(h,"dx","-3"),j(e,"transform",m="translate(0 "+t[8](t[20][0])+")")},m(i,s){$(i,e,s),v(e,n),v(n,r),v(r,o),v(r,a),v(r,l),v(e,h),v(h,p),y||(b=[E(n,"mouseenter",N),E(n,"mouseleave",t[11])],y=!0)},p(r,i){t=r,1&i&&w!==(w=t[20][1].name+"")&&O(o,w),1&i&&S!==(S=t[20][1].value+"")&&O(l,S),513&i&&s!==(s=Math.abs(t[9](t[20][1].value)-t[9](0))||1)&&j(n,"width",s),513&i&&c!==(c=t[9](Math.min(t[20][1].value,0)))&&j(n,"x",c),256&i&&u!==(u=t[8].bandwidth())&&j(n,"height",u),7&i&&f!==(f=t[1]==t[20][0]?t[2]:t[20][1].fill)&&j(n,"fill",f),7&i&&d!==(d=dn(t[1]==t[20][0]?t[2]:t[20][1].fill).darker(2))&&j(n,"stroke",d),1&i&&k!==(k=t[20][1].name+"")&&O(p,k),64&i&&g!==(g="translate("+t[6].left+")")&&j(h,"transform",g),257&i&&m!==(m="translate(0 "+t[8](t[20][0])+")")&&j(e,"transform",m)},d(t){t&&x(e),y=!1,i(b)}}}function fl(t){let e,n,r,o,i,a,l=t[5](t[17])+"";return{c(){e=M("g"),n=M("line"),o=M("text"),i=_(l),j(n,"y1","0"),j(n,"y2",t[7]),j(n,"stroke",r=0===t[17]?"":"#fff"),j(o,"class","anchor-middle svelte-1jz9hor"),j(o,"dy","-5"),j(e,"transform",a="translate("+t[9](t[17])+" 0)")},m(t,r){$(t,e,r),v(e,n),v(e,o),v(o,i)},p(t,o){128&o&&j(n,"y2",t[7]),512&o&&r!==(r=0===t[17]?"":"#fff")&&j(n,"stroke",r),544&o&&l!==(l=t[5](t[17])+"")&&O(i,l),512&o&&a!==(a="translate("+t[9](t[17])+" 0)")&&j(e,"transform",a)},d(t){t&&x(e)}}}function dl(e){let n,r,o,i,a,l,s,c,u,f=("percentage"===e[4]?"Percentage Shortage/Surplus":e[3])+"",d=e[0],h=[];for(let t=0;t<d.length;t+=1)h[t]=ul(cl(e,d,t));let p=e[9].ticks(5),g=[];for(let t=0;t<p.length;t+=1)g[t]=fl(sl(e,p,t));return{c(){n=M("svg"),r=M("g"),o=M("text"),i=_(f),l=M("g");for(let t=0;t<h.length;t+=1)h[t].c();s=M("g");for(let t=0;t<g.length;t+=1)g[t].c();j(o,"class","anchor-middle svelte-1jz9hor"),j(o,"transform",a="translate("+(e[6].left+(hl-e[6].left-e[6].right)/2)+"\r\n      10)"),j(s,"transform",c="translate(0 "+e[6].top+")"),j(n,"id","row-chart-svg"),j(n,"viewBox",u="0 0 "+hl+" "+e[7]),j(n,"class","svelte-1jz9hor")},m(t,e){$(t,n,e),v(n,r),v(r,o),v(o,i),v(r,l);for(let t=0;t<h.length;t+=1)h[t].m(l,null);v(l,s);for(let t=0;t<g.length;t+=1)g[t].m(s,null)},p(t,[e]){if(24&e&&f!==(f=("percentage"===t[4]?"Percentage Shortage/Surplus":t[3])+"")&&O(i,f),64&e&&a!==(a="translate("+(t[6].left+(hl-t[6].left-t[6].right)/2)+"\r\n      10)")&&j(o,"transform",a),3911&e){let n;for(d=t[0],n=0;n<d.length;n+=1){const r=cl(t,d,n);h[n]?h[n].p(r,e):(h[n]=ul(r),h[n].c(),h[n].m(l,s))}for(;n<h.length;n+=1)h[n].d(1);h.length=d.length}if(672&e){let n;for(p=t[9].ticks(5),n=0;n<p.length;n+=1){const r=sl(t,p,n);g[n]?g[n].p(r,e):(g[n]=fl(r),g[n].c(),g[n].m(s,null))}for(;n<g.length;n+=1)g[n].d(1);g.length=p.length}64&e&&c!==(c="translate(0 "+t[6].top+")")&&j(s,"transform",c),128&e&&u!==(u="0 0 "+hl+" "+t[7])&&j(n,"viewBox",u)},i:t,o:t,d(t){t&&x(n),S(h,t),S(g,t)}}}const hl=320;function pl(t,e,n){let r,o,i,a,l;const s=W();let{mapYearDataArray:c}=e,{valueExtentAllTime:u}=e,{locationType:f}=e,{hovered:d}=e,{hoveredColor:h}=e,{rateOrTotal:p}=e,{calculation:g}=e,{tickFormat:m=(t=>t.toLocaleString())}=e;function y(t){s("locationHover",t)}return t.$$set=t=>{"mapYearDataArray"in t&&n(0,c=t.mapYearDataArray),"valueExtentAllTime"in t&&n(12,u=t.valueExtentAllTime),"locationType"in t&&n(13,f=t.locationType),"hovered"in t&&n(1,d=t.hovered),"hoveredColor"in t&&n(2,h=t.hoveredColor),"rateOrTotal"in t&&n(3,p=t.rateOrTotal),"calculation"in t&&n(4,g=t.calculation),"tickFormat"in t&&n(5,m=t.tickFormat)},t.$$.update=()=>{8192&t.$$.dirty&&n(6,r={top:30,right:10,bottom:10,left:"Medicaid Region"==f?155:110}),65&t.$$.dirty&&n(7,o=20*c.length+r.top+r.bottom),4096&t.$$.dirty&&n(14,i=u.map((t,e)=>0==e&&t>0?0:t)),16448&t.$$.dirty&&n(9,a=br().domain(i).range([r.left,hl-r.right])),193&t.$$.dirty&&n(8,l=function t(){var e,n,r=Wn().unknown(void 0),o=r.domain,i=r.range,a=0,l=1,s=!1,c=0,u=0,f=.5;function d(){var t=o().length,r=l<a,d=r?l:a,h=r?a:l;e=(h-d)/Math.max(1,t-c+2*u),s&&(e=Math.floor(e)),d+=(h-d-e*(t-c))*f,n=e*(1-c),s&&(d=Math.round(d),n=Math.round(n));var p=Ve(t).map((function(t){return d+e*t}));return i(r?p.reverse():p)}return delete r.unknown,r.domain=function(t){return arguments.length?(o(t),d()):o()},r.range=function(t){return arguments.length?([a,l]=t,a=+a,l=+l,d()):[a,l]},r.rangeRound=function(t){return[a,l]=t,a=+a,l=+l,s=!0,d()},r.bandwidth=function(){return n},r.step=function(){return e},r.round=function(t){return arguments.length?(s=!!t,d()):s},r.padding=function(t){return arguments.length?(c=Math.min(1,u=+t),d()):c},r.paddingInner=function(t){return arguments.length?(c=Math.min(1,t),d()):c},r.paddingOuter=function(t){return arguments.length?(u=+t,d()):u},r.align=function(t){return arguments.length?(f=Math.max(0,Math.min(1,t)),d()):f},r.copy=function(){return t(o(),[a,l]).round(s).paddingInner(c).paddingOuter(u).align(f)},In.apply(d(),arguments)}().domain(c.map(t=>t[0])).range([r.top,o-r.bottom]).paddingInner(.1))},[c,d,h,p,g,m,r,o,l,a,y,function(t){s("locationLeave")},u,f,i,t=>y(t[0])]}class gl extends _t{constructor(t){super(),Mt(this,t,pl,dl,l,{mapYearDataArray:0,valueExtentAllTime:12,locationType:13,hovered:1,hoveredColor:2,rateOrTotal:3,calculation:4,tickFormat:5})}}function ml(t,e,n){const r=t.slice();return r[27]=e[n],r}function yl(t,e,n){const r=t.slice();return r[30]=e[n],r[32]=n,r}function vl(t,e,n){const r=t.slice();return r[33]=e[n],r[32]=n,r}function bl(t,e,n){const r=t.slice();return r[35]=e[n],r}function wl(e){let n;return{c(){n=k("div"),n.textContent='Choose a combination of selections and click "Show" to see a table of the\r\n    model\'s projections.',j(n,"class","notification")},m(t,e){$(t,n,e)},p:t,d(t){t&&x(n)}}}function $l(t){let e,n,r,o,i,a,l,s,c,u,f,d,h,p,g,m=t[4].locationType+"",y=t[1]&&xl(t),b=t[3][0][1],w=[];for(let e=0;e<b.length;e+=1)w[e]=Sl(bl(t,b,e));let M=t[6],T=[];for(let e=0;e<M.length;e+=1)T[e]=Ml(yl(t,M,e));let E=t[7]>1&&_l(t);return{c(){e=k("div"),y&&y.c(),n=N(),r=k("div"),o=k("table"),i=k("thead"),a=k("tr"),l=k("th"),s=N(),c=k("tr"),u=k("th"),f=_(m),d=N();for(let t=0;t<w.length;t+=1)w[t].c();h=N(),p=k("tbody");for(let t=0;t<T.length;t+=1)T[t].c();g=N(),E&&E.c(),j(l,"class","frozen projection-header svelte-xizxt8"),P(l,"width",t[10]),j(u,"class","frozen svelte-xizxt8"),P(u,"left",t[5]+"px"),P(u,"padding-bottom","5px"),P(u,"width",t[10]),j(o,"class","table is-narrow"),j(r,"class","table-container svelte-xizxt8"),j(r,"id","wrapper"),P(r,"margin-left",t[10]),j(e,"id","top-level-table-div")},m(t,m){$(t,e,m),y&&y.m(e,null),v(e,n),v(e,r),v(r,o),v(o,i),v(i,a),v(a,l),v(i,s),v(i,c),v(c,u),v(u,f),v(c,d);for(let t=0;t<w.length;t+=1)w[t].m(c,null);v(o,h),v(o,p);for(let t=0;t<T.length;t+=1)T[t].m(p,null);v(e,g),E&&E.m(e,null)},p(t,o){if(t[1]?y?y.p(t,o):(y=xl(t),y.c(),y.m(e,n)):y&&(y.d(1),y=null),1024&o[0]&&P(l,"width",t[10]),16&o[0]&&m!==(m=t[4].locationType+"")&&O(f,m),32&o[0]&&P(u,"left",t[5]+"px"),1024&o[0]&&P(u,"width",t[10]),8&o[0]){let e;for(b=t[3][0][1],e=0;e<b.length;e+=1){const n=bl(t,b,e);w[e]?w[e].p(n,o):(w[e]=Sl(n),w[e].c(),w[e].m(c,null))}for(;e<w.length;e+=1)w[e].d(1);w.length=b.length}if(14176&o[0]){let e;for(M=t[6],e=0;e<M.length;e+=1){const n=yl(t,M,e);T[e]?T[e].p(n,o):(T[e]=Ml(n),T[e].c(),T[e].m(p,null))}for(;e<T.length;e+=1)T[e].d(1);T.length=M.length}1024&o[0]&&P(r,"margin-left",t[10]),t[7]>1?E?E.p(t,o):(E=_l(t),E.c(),E.m(e,null)):E&&(E.d(1),E=null)},d(t){t&&x(e),y&&y.d(),S(w,t),S(T,t),E&&E.d()}}}function xl(t){let e,n,r,o,i,a,l,s,c=t[4].type+"",u=t[4].locationType.trim()+"",f=Be(t[4],[...t[0].params.filter(El).map(Al),"setting","education","fteOrHeadcount","rateOrTotal","calculation"]).join(", ")+"";return{c(){e=k("h1"),n=_(c),r=_("s by "),o=_(u),i=_(", North Carolina"),a=N(),l=k("h2"),s=_(f),j(e,"class","title is-4"),j(l,"class","subtitle is-6")},m(t,c){$(t,e,c),v(e,n),v(e,r),v(e,o),v(e,i),$(t,a,c),$(t,l,c),v(l,s)},p(t,e){16&e[0]&&c!==(c=t[4].type+"")&&O(n,c),16&e[0]&&u!==(u=t[4].locationType.trim()+"")&&O(o,u),17&e[0]&&f!==(f=Be(t[4],[...t[0].params.filter(El).map(Al),"setting","education","fteOrHeadcount","rateOrTotal","calculation"]).join(", ")+"")&&O(s,f)},d(t){t&&x(e),t&&x(a),t&&x(l)}}}function Sl(t){let e,n,r,o,i=t[35].year+"";return{c(){e=k("th"),n=_(i),r=N(),j(e,"id",o="header-"+t[35].year),j(e,"class","svelte-xizxt8")},m(t,o){$(t,e,o),v(e,n),v(e,r)},p(t,r){8&r[0]&&i!==(i=t[35].year+"")&&O(n,i),8&r[0]&&o!==(o="header-"+t[35].year)&&j(e,"id",o)},d(t){t&&x(e)}}}function kl(t){let e,n,r,o,a=t[9](t[33].value)+"";function l(){return t[22](t[33])}return{c(){e=k("td"),n=_(a),j(e,"class","number-cell svelte-xizxt8"),P(e,"background-color",t[8](t[32],t[33])),P(e,"color",kn(t[8](t[32],t[33])))},m(i,a){$(i,e,a),v(e,n),r||(o=[E(e,"mouseenter",l),E(e,"mouseleave",t[13])],r=!0)},p(r,o){t=r,576&o[0]&&a!==(a=t[9](t[33].value)+"")&&O(n,a),320&o[0]&&P(e,"background-color",t[8](t[32],t[33])),320&o[0]&&P(e,"color",kn(t[8](t[32],t[33])))},d(t){t&&x(e),r=!1,i(o)}}}function Ml(t){let e,n,r,o,i,a,l=t[30][0]+"",s=t[30][1],c=[];for(let e=0;e<s.length;e+=1)c[e]=kl(vl(t,s,e));return{c(){e=k("tr"),n=k("td"),r=_(l),i=N();for(let t=0;t<c.length;t+=1)c[t].c();a=N(),j(n,"class","frozen svelte-xizxt8"),j(n,"style",o="width:"+t[10]+";left:"+t[5]+"px;"+(0==t[32]?"padding-bottom:5px;":""))},m(t,o){$(t,e,o),v(e,n),v(n,r),v(e,i);for(let t=0;t<c.length;t+=1)c[t].m(e,null);v(e,a)},p(t,i){if(64&i[0]&&l!==(l=t[30][0]+"")&&O(r,l),1056&i[0]&&o!==(o="width:"+t[10]+";left:"+t[5]+"px;"+(0==t[32]?"padding-bottom:5px;":""))&&j(n,"style",o),13120&i[0]){let n;for(s=t[30][1],n=0;n<s.length;n+=1){const r=vl(t,s,n);c[n]?c[n].p(r,i):(c[n]=kl(r),c[n].c(),c[n].m(e,a))}for(;n<c.length;n+=1)c[n].d(1);c.length=s.length}},d(t){t&&x(e),S(c,t)}}}function _l(t){let e,n,r=Array.from({length:t[7]},Cl),o=[];for(let e=0;e<r.length;e+=1)o[e]=Nl(ml(t,r,e));return{c(){e=k("nav"),n=k("ul");for(let t=0;t<o.length;t+=1)o[t].c();j(n,"class","pagination-list"),j(e,"class","pagination"),j(e,"role","navigation"),j(e,"aria-label","pagination")},m(t,r){$(t,e,r),v(e,n);for(let t=0;t<o.length;t+=1)o[t].m(n,null)},p(t,e){if(2180&e[0]){let i;for(r=Array.from({length:t[7]},Cl),i=0;i<r.length;i+=1){const a=ml(t,r,i);o[i]?o[i].p(a,e):(o[i]=Nl(a),o[i].c(),o[i].m(n,null))}for(;i<o.length;i+=1)o[i].d(1);o.length=r.length}},d(t){t&&x(e),S(o,t)}}}function Nl(t){let e,n,r,o,i,a,l,s,c=t[27]+"";return{c(){e=k("li"),n=k("button"),r=_(c),a=N(),j(n,"class",o="pagination-link "+(t[2]+1==t[27]?"is-current":"")),j(n,"aria-label",i="Goto page "+t[27])},m(o,i){$(o,e,i),v(e,n),v(n,r),v(e,a),l||(s=E(n,"click",t[11]),l=!0)},p(t,e){128&e[0]&&c!==(c=t[27]+"")&&O(r,c),132&e[0]&&o!==(o="pagination-link "+(t[2]+1==t[27]?"is-current":""))&&j(n,"class",o),128&e[0]&&i!==(i="Goto page "+t[27])&&j(n,"aria-label",i)},d(t){t&&x(e),l=!1,s()}}}function Tl(e){let n;function r(t,e){return t[0].values?$l:wl}let o=r(e),i=o(e);return{c(){i.c(),n=T()},m(t,e){i.m(t,e),$(t,n,e)},p(t,e){o===(o=r(t))&&i?i.p(t,e):(i.d(1),i=o(t),i&&(i.c(),i.m(n.parentNode,n)))},i:t,o:t,d(t){i.d(t),t&&x(n)}}}const El=t=>t[0].includes("Scenario"),Al=t=>t[0],Cl=(t,e)=>e+1;function jl(t,e,n){let r,o,i,a,l,s,c,u,f;const d=W(),h=new Map(Ge.get("location").options.map(t=>[t.value,t.label]));let{data:p}=e,{showTitle:g=!0}=e,{currentYear:m}=e,{baseYearOrder:y}=e,{hovered:v}=e,{hoveredColor:b}=e,{colorScale:w=(t=>"#fff")}=e,{valueFormat:$=(t=>t.toLocaleFormat())}=e,x=0,S=0;function k(){const{left:t}=document.getElementById("main-container").getBoundingClientRect(),{left:e}=document.getElementById("top-level-table-div").getBoundingClientRect();n(5,x=e-t)}function M(t){d("locationHover",t)}var _;U(()=>{k(),window.onresize=function(t,e,n){var r,o,i,a,l=0;n||(n={});var s=function(){l=!1===n.leading?0:Date.now(),r=null,a=t.apply(o,i),r||(o=i=null)},c=function(){var c=Date.now();l||!1!==n.leading||(l=c);var u=e-(c-l);return o=this,i=arguments,u<=0||u>e?(r&&(clearTimeout(r),r=null),l=c,a=t.apply(o,i),r||(o=i=null)):r||!1===n.trailing||(r=setTimeout(s,u)),a};return c.cancel=function(){clearTimeout(r),l=0,r=o=i=null},c}(k,100);const t=document.getElementById("header-"+m);t&&t.scrollIntoView({block:"nearest"})}),_=()=>{window.onresize=null},q().$$.on_destroy.push(_);return t.$$set=t=>{"data"in t&&n(0,p=t.data),"showTitle"in t&&n(1,g=t.showTitle),"currentYear"in t&&n(14,m=t.currentYear),"baseYearOrder"in t&&n(15,y=t.baseYearOrder),"hovered"in t&&n(16,v=t.hovered),"hoveredColor"in t&&n(17,b=t.hoveredColor),"colorScale"in t&&n(18,w=t.colorScale),"valueFormat"in t&&n(19,$=t.valueFormat)},t.$$.update=()=>{if(1&t.$$.dirty[0]&&n(4,o=p.params?p.params.reduce((t,e)=>(t[e[0]]=Ge.get(e[0]).options.find(t=>t.value==e[1]).label,t),{}):{}),16&t.$$.dirty[0]&&n(10,r="Medicaid Region"==o.locationType?"13.5em":"8em"),1&t.$$.dirty[0]&&p&&n(2,S=0),1&t.$$.dirty[0]&&p.params&&new Map(p.params.map(t=>[t.name,t])),524289&t.$$.dirty[0]&&n(9,i=function(t){return"percentage"===p.params.find(t=>"calculation"==t[0])[1]?$(t):_n(+p.params.find(t=>"rateOrTotal"==t[0])[1])(t)}),1&t.$$.dirty[0]&&n(21,a=De(p.values,t=>t.location)),2129920&t.$$.dirty[0]&&n(3,l=y.map(t=>a.get(t)).map((function(t){return[h.get(t[0].location),t.sort((t,e)=>Te(t.year,e.year))]}))),475136&t.$$.dirty[0]&&n(8,s=(t,e)=>e.year!=m?"#ffffff":v==e.location?b:w(e.value)),8&t.$$.dirty[0]&&n(7,c=Math.ceil(l.length/10)),8&t.$$.dirty[0]&&n(20,u=De(l,(t,e)=>Math.floor(e/10))),1048580&t.$$.dirty[0]&&n(6,f=u.get(S)),16384&t.$$.dirty[0]&&m){const t=document.getElementById("header-"+m);t&&t.scrollIntoView({behavior:"smooth",block:"nearest"})}},[p,g,S,l,o,x,f,c,s,i,r,function(t){n(2,S=+t.target.innerText-1)},M,function(t){d("locationLeave")},m,y,v,b,w,$,u,a,t=>M(t.location)]}class Ol extends _t{constructor(t){super(),Mt(this,t,jl,Tl,l,{data:0,showTitle:1,currentYear:14,baseYearOrder:15,hovered:16,hoveredColor:17,colorScale:18,valueFormat:19},null,[-1,-1])}}function Ll(t,e,n){const r=t.slice();return r[34]=e[n],r}function Pl(t,e,n){const r=t.slice();return r[37]=e[n],r}function Rl(t,e,n){const r=t.slice();return r[34]=e[n],r}function Hl(e){let n;return{c(){n=k("div"),n.textContent='Choose a combination of selections and click "Show" to see a map of the\r\n      model\'s projections.',j(n,"class","notification")},m(t,e){$(t,n,e)},p:t,i:t,o:t,d(t){t&&x(n)}}}function Dl(t){let e,n,r,o,a,l,s,c,u,f,d,h,p,g,m,y,b,w,S,T,A,C,R,H,D,z,B,Y,F,I,q,U,W,V,G=t[16].type+"",X=t[16].locationType+"",Z=t[3]>=t[2]?" (Projected)":"",J=Be(t[16],["calculation","setting","education","fteOrHeadcount","rateOrTotal",...t[0].params.filter(Gl).map(Xl)]).join(", ")+"",K=t[3]>=t[2]?" (Projected)":"";g=new gl({props:{mapYearDataArray:t[7],valueExtentAllTime:t[5],locationType:t[16].locationType,rateOrTotal:t[16].rateOrTotal,hovered:t[9],hoveredColor:Ul,tickFormat:t[13],calculation:t[4]}}),g.$on("locationHover",t[28]),g.$on("locationLeave",t[19]);let Q=t[1]&&t[10]&&zl(t);return q=new Ol({props:{data:t[0],showTitle:!1,colorScale:t[6],currentYear:t[3],baseYearOrder:t[8],hovered:t[9],hoveredColor:Ul,valueFormat:t[13]}}),q.$on("locationHover",t[31]),q.$on("locationLeave",t[19]),{c(){e=k("h1"),n=_(G),r=_("s by "),o=_(X),a=_(", North Carolina, "),l=_(t[3]),s=_(Z),c=N(),u=k("h2"),f=_(J),d=N(),h=k("div"),p=k("div"),xt(g.$$.fragment),m=N(),y=k("div"),b=M("svg"),w=M("g"),Q&&Q.c(),S=N(),T=k("div"),A=k("div"),C=_("Year of Selected Projection to Map:\r\n        "),R=k("span"),H=_(t[3]),D=_(K),z=N(),B=k("input"),I=N(),xt(q.$$.fragment),j(e,"class","title is-4"),j(u,"class","subtitle is-6"),j(p,"class","column is-three-fifths"),P(p,"padding","0px 0px 0px 5px"),j(b,"viewBox","0 0 "+Wl+" "+Vl),j(b,"id","map-svg"),j(y,"class","column is-two-fifths"),P(y,"padding","0px 5px 0px 0px"),j(h,"class","columns"),j(R,"class","range-output"),j(A,"class","range-title"),j(B,"class","slider"),j(B,"name","input"),j(B,"type","range"),j(B,"min",Y=t[15][0]),j(B,"max",F=t[15][1]),j(B,"step","1"),j(T,"class","range")},m(i,x){$(i,e,x),v(e,n),v(e,r),v(e,o),v(e,a),v(e,l),v(e,s),$(i,c,x),$(i,u,x),v(u,f),$(i,d,x),$(i,h,x),v(h,p),St(g,p,null),v(h,m),v(h,y),v(y,b),v(b,w),Q&&Q.m(w,null),$(i,S,x),$(i,T,x),v(T,A),v(A,C),v(A,R),v(R,H),v(R,D),v(T,z),v(T,B),L(B,t[3]),v(T,I),St(q,T,null),U=!0,W||(V=[E(B,"change",t[30]),E(B,"input",t[30])],W=!0)},p(t,e){(!U||65536&e[0])&&G!==(G=t[16].type+"")&&O(n,G),(!U||65536&e[0])&&X!==(X=t[16].locationType+"")&&O(o,X),(!U||8&e[0])&&O(l,t[3]),(!U||12&e[0])&&Z!==(Z=t[3]>=t[2]?" (Projected)":"")&&O(s,Z),(!U||65537&e[0])&&J!==(J=Be(t[16],["calculation","setting","education","fteOrHeadcount","rateOrTotal",...t[0].params.filter(Gl).map(Xl)]).join(", ")+"")&&O(f,J);const r={};128&e[0]&&(r.mapYearDataArray=t[7]),32&e[0]&&(r.valueExtentAllTime=t[5]),65536&e[0]&&(r.locationType=t[16].locationType),65536&e[0]&&(r.rateOrTotal=t[16].rateOrTotal),512&e[0]&&(r.hovered=t[9]),8192&e[0]&&(r.tickFormat=t[13]),16&e[0]&&(r.calculation=t[4]),g.$set(r),t[1]&&t[10]?Q?Q.p(t,e):(Q=zl(t),Q.c(),Q.m(w,null)):Q&&(Q.d(1),Q=null),(!U||8&e[0])&&O(H,t[3]),(!U||12&e[0])&&K!==(K=t[3]>=t[2]?" (Projected)":"")&&O(D,K),(!U||32768&e[0]&&Y!==(Y=t[15][0]))&&j(B,"min",Y),(!U||32768&e[0]&&F!==(F=t[15][1]))&&j(B,"max",F),8&e[0]&&L(B,t[3]);const i={};1&e[0]&&(i.data=t[0]),64&e[0]&&(i.colorScale=t[6]),8&e[0]&&(i.currentYear=t[3]),256&e[0]&&(i.baseYearOrder=t[8]),512&e[0]&&(i.hovered=t[9]),8192&e[0]&&(i.valueFormat=t[13]),q.$set(i)},i(t){U||(ht(g.$$.fragment,t),ht(q.$$.fragment,t),U=!0)},o(t){pt(g.$$.fragment,t),pt(q.$$.fragment,t),U=!1},d(t){t&&x(e),t&&x(c),t&&x(u),t&&x(d),t&&x(h),kt(g),Q&&Q.d(),t&&x(S),t&&x(T),kt(q),W=!1,i(V)}}}function zl(t){let e,n=t[1],r=[];for(let e=0;e<n.length;e+=1)r[e]=Fl(Pl(t,n,e));let o=t[12].get(t[11]).geo.features,i=[];for(let e=0;e<o.length;e+=1)i[e]=Il(Ll(t,o,e));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=M("g");for(let t=0;t<i.length;t+=1)i[t].c();j(e,"class","parent-overlay")},m(t,n){for(let e=0;e<r.length;e+=1)r[e].m(t,n);$(t,e,n);for(let t=0;t<i.length;t+=1)i[t].m(e,null)},p(t,a){if(943618&a[0]){let o;for(n=t[1],o=0;o<n.length;o+=1){const i=Pl(t,n,o);r[o]?r[o].p(i,a):(r[o]=Fl(i),r[o].c(),r[o].m(e.parentNode,e))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}if(7168&a[0]){let n;for(o=t[12].get(t[11]).geo.features,n=0;n<o.length;n+=1){const r=Ll(t,o,n);i[n]?i[n].p(r,a):(i[n]=Il(r),i[n].c(),i[n].m(e,null))}for(;n<i.length;n+=1)i[n].d(1);i.length=o.length}},d(t){S(r,t),t&&x(e),S(i,t)}}}function Bl(t){let e,n,r,o,i=t[14].get(+t[34].properties.id).name+"",a=t[13](t[14].get(+t[34].properties.id).value)+"";return{c(){e=M("title"),n=_(i),r=_(": "),o=_(a)},m(t,i){$(t,e,i),v(e,n),v(e,r),v(e,o)},p(t,e){16386&e[0]&&i!==(i=t[14].get(+t[34].properties.id).name+"")&&O(n,i),24578&e[0]&&a!==(a=t[13](t[14].get(+t[34].properties.id).value)+"")&&O(o,a)},d(t){t&&x(e)}}}function Yl(t){let e,n,r,o,a,l,s=t[14].has(+t[34].properties.id),c=s&&Bl(t);function u(){return t[29](t[34])}return{c(){e=M("path"),c&&c.c(),j(e,"class","feature"),j(e,"fill",n=t[9]==+t[34].properties.id?Ul:t[14].has(+t[34].properties.id)?t[14].get(+t[34].properties.id).fill:"none"),j(e,"stroke",r="county"===t[37].name?t[17](t[34],t[9],t[14]):"none"),P(e,"pointer-events",t[14].has(+t[34].properties.id)?"all":"none"),j(e,"d",o=t[10](t[34]))},m(n,r){$(n,e,r),c&&c.m(e,null),a||(l=[E(e,"mouseenter",u),E(e,"mouseleave",t[19])],a=!0)},p(i,a){t=i,16386&a[0]&&(s=t[14].has(+t[34].properties.id)),s?c?c.p(t,a):(c=Bl(t),c.c(),c.m(e,null)):c&&(c.d(1),c=null),16898&a[0]&&n!==(n=t[9]==+t[34].properties.id?Ul:t[14].has(+t[34].properties.id)?t[14].get(+t[34].properties.id).fill:"none")&&j(e,"fill",n),16898&a[0]&&r!==(r="county"===t[37].name?t[17](t[34],t[9],t[14]):"none")&&j(e,"stroke",r),16386&a[0]&&P(e,"pointer-events",t[14].has(+t[34].properties.id)?"all":"none"),1026&a[0]&&o!==(o=t[10](t[34]))&&j(e,"d",o)},d(t){t&&x(e),c&&c.d(),a=!1,i(l)}}}function Fl(t){let e,n,r=t[37].geo.features,o=[];for(let e=0;e<r.length;e+=1)o[e]=Yl(Rl(t,r,e));return{c(){e=M("g");for(let t=0;t<o.length;t+=1)o[t].c();j(e,"class",n=t[37].name)},m(t,n){$(t,e,n);for(let t=0;t<o.length;t+=1)o[t].m(e,null)},p(t,i){if(943618&i[0]){let n;for(r=t[37].geo.features,n=0;n<r.length;n+=1){const a=Rl(t,r,n);o[n]?o[n].p(a,i):(o[n]=Yl(a),o[n].c(),o[n].m(e,null))}for(;n<o.length;n+=1)o[n].d(1);o.length=r.length}2&i[0]&&n!==(n=t[37].name)&&j(e,"class",n)},d(t){t&&x(e),S(o,t)}}}function Il(t){let e,n;return{c(){e=M("path"),j(e,"class","feature"),j(e,"fill","none"),j(e,"stroke-width","2"),j(e,"stroke","#333"),j(e,"d",n=t[10](t[34]))},m(t,n){$(t,e,n)},p(t,r){7168&r[0]&&n!==(n=t[10](t[34]))&&j(e,"d",n)},d(t){t&&x(e)}}}function ql(t){let e,n,r,o;const i=[Dl,Hl],a=[];function l(t,e){return t[0].values?0:1}return n=l(t),r=a[n]=i[n](t),{c(){e=k("div"),r.c(),j(e,"id","simple-map-container")},m(t,r){$(t,e,r),a[n].m(e,null),o=!0},p(t,o){let s=n;n=l(t),n===s?a[n].p(t,o):(ft(),pt(a[s],1,1,()=>{a[s]=null}),dt(),r=a[n],r?r.p(t,o):(r=a[n]=i[n](t),r.c()),ht(r,1),r.m(e,null))},i(t){o||(ht(r),o=!0)},o(t){pt(r),o=!1},d(t){t&&x(e),a[n].d()}}}const Ul="#898989",Wl=320,Vl=160,Gl=t=>t[0].includes("Scenario"),Xl=t=>t[0];function Zl(t,e,n){let r,o,i,a,l,s,c,u,f,d,h,p,g,m,y,v,b,w,{data:$}=e,{geoJSON:x}=e,{projectionStartYear:S}=e,k=2033,M=void 0;const _=new Map(Ge.get("location").options.map(t=>[t.value,t.label])),N=new Map([[8,"medicaid"],[5,"ahec"],[7,"metro"]]);let T,E;function A(t){n(9,M=t)}return t.$$set=t=>{"data"in t&&n(0,$=t.data),"geoJSON"in t&&n(1,x=t.geoJSON),"projectionStartYear"in t&&n(2,S=t.projectionStartYear)},t.$$.update=()=>{1&t.$$.dirty[0]&&n(16,r=$.params?$.params.reduce((t,e)=>(t[e[0]]=Ge.get(e[0]).options.find(t=>t.value==e[1]).label,t),{}):{}),1&t.$$.dirty[0]&&n(15,o=Oe($.values||[{year:2019},{year:2032}],t=>t.year)),1&t.$$.dirty[0]&&n(27,i=new Set($.values.map(t=>t.location))),134217728&t.$$.dirty[0]&&n(8,a=Ge.get("location").options.filter(t=>i.has(t.value)).map(t=>t.value)),1&t.$$.dirty[0]&&n(4,m=$.params.find(t=>"calculation"===t[0])[1]),1&t.$$.dirty[0]&&n(5,u=Oe($.values||[],t=>t.value)),32&t.$$.dirty[0]&&n(25,d=Math.max(...u.map(t=>Math.abs(t)))),33554432&t.$$.dirty[0]&&n(24,h=function t(){var e=vr(xr()(Xn));return e.copy=function(){return $r(e,t())},qn.apply(e,arguments)}(al).domain([-d,0,d])),32&t.$$.dirty[0]&&n(23,f=function t(){var e=vr(wr()(Xn));return e.copy=function(){return $r(e,t())},qn.apply(e,arguments)}(ll).domain(u)),25165872&t.$$.dirty[0]&&n(6,p=("difference"===m||"percentage"===m)&u[0]<0?h:f),73&t.$$.dirty[0]&&n(26,l=new Map($.values.filter(t=>t.year==k).map(t=>[t.location,{fill:p(t.value),fontFill:kn(p(t.value)),value:t.value,name:_.get(t.location)}]))),67109120&t.$$.dirty[0]&&n(7,s=a.map(t=>[t,l.get(t)])),128&t.$$.dirty[0]&&n(14,c=new Map(s)),1&t.$$.dirty[0]&&n(22,y=$.params.find(t=>"rateOrTotal"===t[0])[1]),4194320&t.$$.dirty[0]&&n(13,g=t=>"percentage"===m?t.toLocaleString(void 0,{style:"percent",signDisplay:"exceptZero"}):1===y?t.toLocaleString(void 0,{notation:"compact"}):t.toLocaleString()),1&t.$$.dirty[0]&&n(21,v=$.params.find(t=>"locationType"===t[0])[1]),2&t.$$.dirty[0]&&n(12,b=new Map(x.map(t=>[t.name,t]))),2097152&t.$$.dirty[0]&&n(11,w=N.get(v)),1048578&t.$$.dirty[0]&&x&&(n(20,E=rl().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7]).rotate([0,62,0]).fitSize([Wl,Vl],x[0].geo)),n(10,T=function(t,e){var n,r,o=4.5;function i(t){return t&&("function"==typeof o&&r.pointRadius(+o.apply(this,arguments)),pi(t,n(r))),r.result()}return i.area=function(t){return pi(t,n(ra)),ra.result()},i.measure=function(t){return pi(t,n(Ia)),Ia.result()},i.bounds=function(t){return pi(t,n(da)),da.result()},i.centroid=function(t){return pi(t,n(ja)),ja.result()},i.projection=function(e){return arguments.length?(n=null==e?(t=null,Ui):(t=e).stream,i):t},i.context=function(t){return arguments.length?(r=null==t?(e=null,new qa):new Oa(e=t),"function"!=typeof o&&r.pointRadius(o),i):e},i.pointRadius=function(t){return arguments.length?(o="function"==typeof t?t:(r.pointRadius(+t),+t),i):o},i.projection(t).context(e)}(E)))},[$,x,S,k,m,u,p,s,a,M,T,w,b,g,c,o,r,function(t,e,n){const r=t.properties[w+"_code"];return Mn(e==+r?Ul:n.has(+r)?n.get(+r).fill:"none")},A,function(){n(9,M=void 0)},E,v,y,f,h,d,l,i,t=>A(t.detail),t=>A(+t.properties.id),function(){var t;t=this.value,k=""===t?null:+t,n(3,k)},t=>A(t.detail)]}class Jl extends _t{constructor(t){super(),Mt(this,t,Zl,ql,l,{data:0,geoJSON:1,projectionStartYear:2},null,[-1,-1])}}function Kl(t,e,n){const r=t.slice();return r[10]=e[n],r}function Ql(t){let e,n,r,o,i,a,l,s,c,u,d;const h=t[8].default,p=function(t,e,n,r){if(t){const o=f(t,e,n,r);return t[0](o)}}(h,t,t[7],null);let g=t[3],m=[];for(let e=0;e<g.length;e+=1)m[e]=ts(Kl(t,g,e));return{c(){e=k("div"),n=k("label"),r=_(t[2]),o=N(),p&&p.c(),i=N(),a=k("div"),l=k("div"),s=k("select");for(let t=0;t<m.length;t+=1)m[t].c();j(n,"for",t[6]),j(n,"class","label"),P(n,"display","inline-flex"),j(s,"id",t[6]),j(s,"name",t[1]),s.disabled=t[5],j(l,"class","select "),j(a,"class","control"),j(e,"class","field")},m(f,h){$(f,e,h),v(e,n),v(n,r),v(e,o),p&&p.m(e,null),v(e,i),v(e,a),v(a,l),v(l,s);for(let t=0;t<m.length;t+=1)m[t].m(s,null);c=!0,u||(d=E(s,"change",t[9]),u=!0)},p(t,e){if((!c||4&e)&&O(r,t[2]),(!c||64&e)&&j(n,"for",t[6]),p&&p.p&&(!c||128&e)&&function(t,e,n,r,o,i){if(o){const a=f(e,n,r,i);t.p(a,o)}}(p,h,t,t[7],c?function(t,e,n,r){if(t[2]&&r){const o=t[2](r(n));if(void 0===e.dirty)return o;if("object"==typeof o){const t=[],n=Math.max(e.dirty.length,o.length);for(let r=0;r<n;r+=1)t[r]=e.dirty[r]|o[r];return t}return e.dirty|o}return e.dirty}(h,t[7],e,null):function(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}(t[7]),null),24&e){let n;for(g=t[3],n=0;n<g.length;n+=1){const r=Kl(t,g,n);m[n]?m[n].p(r,e):(m[n]=ts(r),m[n].c(),m[n].m(s,null))}for(;n<m.length;n+=1)m[n].d(1);m.length=g.length}(!c||64&e)&&j(s,"id",t[6]),(!c||2&e)&&j(s,"name",t[1]),(!c||32&e)&&(s.disabled=t[5])},i(t){c||(ht(p,t),c=!0)},o(t){pt(p,t),c=!1},d(t){t&&x(e),p&&p.d(t),S(m,t),u=!1,d()}}}function ts(t){let e,n,r,o,i,a=t[10].label+"";return{c(){e=k("option"),n=_(a),r=N(),e.__value=o=t[10].value,e.value=e.__value,e.selected=i=t[10].value==t[4]},m(t,o){$(t,e,o),v(e,n),v(e,r)},p(t,r){8&r&&a!==(a=t[10].label+"")&&O(n,a),8&r&&o!==(o=t[10].value)&&(e.__value=o,e.value=e.__value),24&r&&i!==(i=t[10].value==t[4])&&(e.selected=i)},d(t){t&&x(e)}}}function es(t){let e,n,r=t[0]&&Ql(t);return{c(){r&&r.c(),e=T()},m(t,o){r&&r.m(t,o),$(t,e,o),n=!0},p(t,[n]){t[0]?r?(r.p(t,n),1&n&&ht(r,1)):(r=Ql(t),r.c(),ht(r,1),r.m(e.parentNode,e)):r&&(ft(),pt(r,1,1,()=>{r=null}),dt())},i(t){n||(ht(r),n=!0)},o(t){pt(r),n=!1},d(t){r&&r.d(t),t&&x(e)}}}function ns(t,e,n){let r,{$$slots:o={},$$scope:i}=e,{display:a=!0}=e,{name:l}=e,{label:s}=e,{options:c}=e,{value:u=""}=e,{disabled:f=!1}=e;return t.$$set=t=>{"display"in t&&n(0,a=t.display),"name"in t&&n(1,l=t.name),"label"in t&&n(2,s=t.label),"options"in t&&n(3,c=t.options),"value"in t&&n(4,u=t.value),"disabled"in t&&n(5,f=t.disabled),"$$scope"in t&&n(7,i=t.$$scope)},t.$$.update=()=>{2&t.$$.dirty&&n(6,r=l.toLowerCase()+"-select")},[a,l,s,c,u,f,r,i,o,function(e){V.call(this,t,e)}]}class rs extends _t{constructor(t){super(),Mt(this,t,ns,es,l,{display:0,name:1,label:2,options:3,value:4,disabled:5})}}function os(t){let e,n,r,o,a,l,s,c,u,f,d,h,p;return{c(){e=k("article"),n=k("div"),r=k("p"),o=_(t[0]),a=N(),l=k("button"),s=N(),c=k("div"),u=_(t[1]),j(l,"class","delete"),j(l,"aria-label","close"),j(n,"class","message-header close-on-window-click"),j(c,"class","message-body close-on-window-click"),j(e,"id",t[4]),j(e,"class","message is-small is-primary close-on-window-click svelte-l93yrg"),j(e,"tabindex","0")},m(i,f){$(i,e,f),v(e,n),v(n,r),v(r,o),v(n,a),v(n,l),v(e,s),v(e,c),v(c,u),d=!0,h||(p=[E(l,"click",C(A(t[9]))),E(l,"keydown",C(t[10])),E(e,"keydown",t[6])],h=!0)},p(t,e){(!d||1&e)&&O(o,t[0]),(!d||2&e)&&O(u,t[1])},i(t){d||(nt(()=>{f||(f=mt(e,ke,{},!0)),f.run(1)}),d=!0)},o(t){f||(f=mt(e,ke,{},!1)),f.run(0),d=!1},d(t){t&&x(e),t&&f&&f.end(),h=!1,i(p)}}}function is(t){let e,n,r,o,a,l,s,c,u,f=t[3]&&os(t);return{c(){var i,s;e=k("div"),n=M("svg"),r=M("title"),o=_("Select to get more information about this option."),a=M("use"),l=N(),f&&f.c(),i="xlink:href",s="#fa-info-circle",a.setAttributeNS("http://www.w3.org/1999/xlink",i,s),j(a,"class","svelte-l93yrg"),R(a,"has-fill-white",t[2]),j(n,"tabindex","0"),j(n,"class","icon-svg has-fill-primary svelte-l93yrg"),j(n,"role","button"),j(e,"class","info-icon-wrapper  svelte-l93yrg")},m(i,d){$(i,e,d),v(e,n),v(n,r),v(r,o),v(n,a),v(e,l),f&&f.m(e,null),s=!0,c||(u=[E(window,"click",C(t[5])),E(n,"click",C(t[8])),E(n,"keydown",C(t[7]))],c=!0)},p(t,[n]){4&n&&R(a,"has-fill-white",t[2]),t[3]?f?(f.p(t,n),8&n&&ht(f,1)):(f=os(t),f.c(),ht(f,1),f.m(e,null)):f&&(ft(),pt(f,1,1,()=>{f=null}),dt())},i(t){s||(ht(f),s=!0)},o(t){pt(f),s=!1},d(t){t&&x(e),f&&f.d(),c=!1,i(u)}}}function as(t,e,n){let{title:r="Title"}=e,{info:o="Information"}=e,{invert:i=!1}=e,a=!1;const l=r.toLowerCase().replace(/^[^a-z]+|[^\w:.-]+/gi,"-")+"-info-box";return t.$$set=t=>{"title"in t&&n(0,r=t.title),"info"in t&&n(1,o=t.info),"invert"in t&&n(2,i=t.invert)},[r,o,i,a,l,function(t){!Array.from(t.target.classList).includes("close-on-window-click")&a&&n(3,a=!1)},function(t){"Escape"===t.key&&n(3,a=!1)},async function(t){"Enter"===t.key&&(n(3,a=!0),await et(),document.getElementById(l).focus()),"Escape"===t.key&&n(3,a=!1)},async function(){n(3,a=!0),await et(),document.getElementById(l).focus()},()=>n(3,a=!1),t=>{"Enter"===t.key&&n(3,a=!1)}]}class ls extends _t{constructor(t){super(),Mt(this,t,as,is,l,{title:0,info:1,invert:2})}}var ss=new Map([["type","Select either Licensed Practical Nurses (LPNs) or Registered Nurses (RNs)."],["education","This refers to the basic education for licensure. For registered nurses, you can select either those nurses who entered with an associate degree/diploma or with a BS or MS. For licensed practical nurses, this option is unavailable. You cannot select both an education subgroup and a setting subgroup for the same projection (e.g., BS & MS for Education and Hospital for Setting)."],["rateOrTotal","Select whether you want to see the nurse workforce as a total number or as a rate per 10,000 population. The latter is more useful for comparing different geographic areas."],["fteOrHeadcount","The model can display the projections for nurses as either full time equivalents (FTEs) or as headcounts. FTEs account for nurses who may be working less than full-time. 1 FTE = 40 hours/week, and no nurse has greater than 1 FTE."],["locationType","Select a geographic category or type. This selection changes the available options for location."],["location","Select a geography or location. These options change based on the selection of Location Type."],["setting","See the nurse workforce by practice setting, e.g., hospital or ambulatory care. You cannot select both an education subgroup and a setting subgroup for the same projection (e.g., BS & MS for Education and Hospital for Setting)."],["scenario","Select a scenario to see how it changes the projections."],["calculation","Select 'Supply' or 'Demand' to see those projections alone. Selecting 'Supply / Demand' will show both projections as a ratio. Selecting 'Supply - Demand' will show both the absolute difference between the two projections."],["difference","The absolute difference between the supply and demand forecasts, calculated as supply minus demand for a give year. This calculation provides an estimate of the absolute number of nurses in surplus or shortage. It is important to note the overall numbers of nurses for a given projection when interpreting these values, e.g., a shortage of 1,000 nurses is much more concerning if you are looking at an underlying supply of 10,000 vs 100,000."],["ratio","The ratio between the supply and demand forecasts. When this is less than 1, it means demand is greater than supply. The calculation is useful for understanding the relative surplus or shortage for a projection."],["supply","The supply model projects the future headcount and FTE of RNs and LPNs from 2018-2030. The basic principle of supply modeling is to take the current workforce, subtract leavers and add joiners for each year to generate a forecast for the next year."],["demand","Demand was modeled at the county-level for each setting. Different approaches for calculating forecast demand were used as a result of the variation in data measuring existing demand. The demand forecast for public and community health, nursing education, and correctional facilities was solely dependent on population change (which means a 10% growth in population would generate a 10% growth in demand). For the remaining settings, separate regression models were developed to predict demand based on model predictors (e.g. gender, age, race) specific to that setting."],["percentage","The percentage shortage or surplus of supply relative to the demand forecasts. When this percentage is negative, it means demand is greater than supply. The calculation is useful for understanding the relative surplus or shortage for a projection."]]);function cs(t){let e,n,r,o,a,l,s,c,u,f,d,h,p;return{c(){e=k("label"),n=k("input"),r=_("\r\n          All Education"),o=N(),a=k("label"),l=k("input"),s=_("\r\n          BS & MS"),c=N(),u=k("label"),f=k("input"),d=_("\r\n          ADN & Diploma"),j(n,"type","radio"),j(n,"name","education"),n.__value="0",n.value=n.__value,n.checked=!0,t[15][1].push(n),j(e,"class","radio"),j(l,"type","radio"),j(l,"name","education"),l.__value="4",l.value=l.__value,t[15][1].push(l),j(a,"class","radio"),j(f,"type","radio"),j(f,"name","education"),f.__value="5",f.value=f.__value,t[15][1].push(f),j(u,"class","radio")},m(i,g){$(i,e,g),v(e,n),n.checked=n.__value===t[5],v(e,r),$(i,o,g),$(i,a,g),v(a,l),l.checked=l.__value===t[5],v(a,s),$(i,c,g),$(i,u,g),v(u,f),f.checked=f.__value===t[5],v(u,d),h||(p=[E(n,"change",t[17]),E(l,"change",t[18]),E(f,"change",t[19])],h=!0)},p(t,e){32&e&&(n.checked=n.__value===t[5]),32&e&&(l.checked=l.__value===t[5]),32&e&&(f.checked=f.__value===t[5])},d(r){r&&x(e),t[15][1].splice(t[15][1].indexOf(n),1),r&&x(o),r&&x(a),t[15][1].splice(t[15][1].indexOf(l),1),r&&x(c),r&&x(u),t[15][1].splice(t[15][1].indexOf(f),1),h=!1,i(p)}}}function us(e){let n;return{c(){n=k("label"),n.innerHTML='<input type="radio" name="education" value="0" checked="" disabled=""/>\n          All Education',j(n,"class","radio"),j(n,"disabled","")},m(t,e){$(t,n,e)},p:t,d(t){t&&x(n)}}}function fs(t){let e,n,r,o,i,a,l,s,c;return{c(){e=k("label"),n=k("input"),o=_("\r\n          Total"),i=N(),a=k("label"),l=k("input"),c=_("\r\n          Rate per 10k population"),j(n,"type","radio"),j(n,"name","rateOrTotal"),n.value="1",n.checked=r="line"==t[1],j(e,"class","radio"),j(l,"type","radio"),j(l,"name","rateOrTotal"),l.value="0",l.checked=s="map"===t[1],j(a,"class","radio")},m(t,r){$(t,e,r),v(e,n),v(e,o),$(t,i,r),$(t,a,r),v(a,l),v(a,c)},p(t,e){2&e&&r!==(r="line"==t[1])&&(n.checked=r),2&e&&s!==(s="map"===t[1])&&(l.checked=s)},d(t){t&&x(e),t&&x(i),t&&x(a)}}}function ds(e){let n;return{c(){n=k("label"),n.innerHTML='<input type="radio" name="rateOrTotal" value="1" checked="" disabled=""/>\n          Total',j(n,"class","radio"),j(n,"disabled","")},m(t,e){$(t,n,e)},p:t,d(t){t&&x(n)}}}function hs(e){let n,r;return n=new ls({props:{title:"Location Type",info:ss.get("locationType")}}),{c(){xt(n.$$.fragment)},m(t,e){St(n,t,e),r=!0},p:t,i(t){r||(ht(n.$$.fragment,t),r=!0)},o(t){pt(n.$$.fragment,t),r=!1},d(t){kt(n,t)}}}function ps(e){let n,r;return n=new ls({props:{title:"Location",info:ss.get("location")}}),{c(){xt(n.$$.fragment)},m(t,e){St(n,t,e),r=!0},p:t,i(t){r||(ht(n.$$.fragment,t),r=!0)},o(t){pt(n.$$.fragment,t),r=!1},d(t){kt(n,t)}}}function gs(t){let e,n;return e=new rs({props:{options:Ge.get("setting").options.filter(t[20]).filter(t[21]),name:Ge.get("setting").name,label:Ge.get("setting").label,disabled:"0"!=t[5],$$slots:{default:[ms]},$$scope:{ctx:t}}}),e.$on("change",t[13]),{c(){xt(e.$$.fragment)},m(t,r){St(e,t,r),n=!0},p(t,n){const r={};18&n&&(r.options=Ge.get("setting").options.filter(t[20]).filter(t[21])),32&n&&(r.disabled="0"!=t[5]),134217728&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(ht(e.$$.fragment,t),n=!0)},o(t){pt(e.$$.fragment,t),n=!1},d(t){kt(e,t)}}}function ms(e){let n,r;return n=new ls({props:{title:"Setting",info:ss.get("setting")}}),{c(){xt(n.$$.fragment)},m(t,e){St(n,t,e),r=!0},p:t,i(t){r||(ht(n.$$.fragment,t),r=!0)},o(t){pt(n.$$.fragment,t),r=!1},d(t){kt(n,t)}}}function ys(t){let e,r;const o=[Ge.get("supplyScenario")];let i={$$slots:{default:[vs]},$$scope:{ctx:t}};for(let t=0;t<o.length;t+=1)i=n(i,o[t]);return e=new rs({props:i}),{c(){xt(e.$$.fragment)},m(t,n){St(e,t,n),r=!0},p(t,n){const r=0&n?wt(o,[$t(Ge.get("supplyScenario"))]):{};134217728&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){r||(ht(e.$$.fragment,t),r=!0)},o(t){pt(e.$$.fragment,t),r=!1},d(t){kt(e,t)}}}function vs(e){let n,r;return n=new ls({props:{title:"Supply Scenario",info:ss.get("scenario")}}),{c(){xt(n.$$.fragment)},m(t,e){St(n,t,e),r=!0},p:t,i(t){r||(ht(n.$$.fragment,t),r=!0)},o(t){pt(n.$$.fragment,t),r=!1},d(t){kt(n,t)}}}function bs(t){let e;return{c(){e=k("progress"),j(e,"class","progress is-small is-primary"),j(e,"max","100")},m(t,n){$(t,e,n)},d(t){t&&x(e)}}}function ws(t){let e,r,o,a,l,s,c,u,f,d,h,p,g,m,y,b,w,S,M,T,C,O,L,P,H,D,z,B,Y,F,I,q,U,W,V,G,X,Z,J,K,Q,tt,et,nt,rt,ot,it,at,lt;function st(t,e){return"1"==t[4]||"0"!=t[6]||"supply"!=t[0]||"table"==t[1]?us:cs}p=new ls({props:{title:"Type of Nurse",info:ss.get("type")}});let ct=st(t),ut=ct(t);function gt(t,e){return"percentage"===t[0]?ds:fs}w=new ls({props:{title:"Basic Education Degree for Licensure",info:ss.get("education")}});let mt=gt(t),yt=mt(t);O=new ls({props:{title:"Rate per 10,000 Population or Total",info:ss.get("rateOrTotal")}}),F=new ls({props:{title:"Full Time Equivalents (FTE) or Headcount",info:ss.get("fteOrHeadcount")}});const vt=[{value:t[3]},t[9]];let bt={$$slots:{default:[hs]},$$scope:{ctx:t}};for(let t=0;t<vt.length;t+=1)bt=n(bt,vt[t]);q=new rs({props:bt}),q.$on("change",t[12]);const Mt=[{display:"line"==t[1]||"table"==t[1]},t[8]];let _t={$$slots:{default:[ps]},$$scope:{ctx:t}};for(let t=0;t<Mt.length;t+=1)_t=n(_t,Mt[t]);W=new rs({props:_t});let Nt="table"!=t[1]&&gs(t),Tt=("supply"==t[0]||"difference"==t[0]||"percentage"==t[0])&&ys(t),Et=t[2]&&bs();return{c(){e=k("form"),r=k("div"),o=k("div"),a=k("label"),l=k("input"),s=_("\r\n        RN"),c=N(),u=k("label"),f=k("input"),d=_("\r\n        LPN"),h=N(),xt(p.$$.fragment),g=N(),m=k("div"),y=k("div"),ut.c(),b=N(),xt(w.$$.fragment),S=N(),M=k("div"),T=k("div"),yt.c(),C=N(),xt(O.$$.fragment),L=N(),P=k("div"),H=k("div"),D=k("label"),D.innerHTML='<input type="radio" name="fteOrHeadcount" value="0" checked=""/>\n        Headcount',z=N(),B=k("label"),B.innerHTML='<input type="radio" name="fteOrHeadcount" value="1"/>\n        FTE',Y=N(),xt(F.$$.fragment),I=N(),xt(q.$$.fragment),U=N(),xt(W.$$.fragment),V=N(),Nt&&Nt.c(),G=N(),Tt&&Tt.c(),X=N(),Z=k("div"),J=k("div"),K=k("button"),K.textContent="Show",Q=N(),tt=k("div"),et=k("button"),et.textContent="Clear",nt=N(),Et&&Et.c(),rt=N(),ot=k("p"),ot.textContent="You can add multiple projections for comparison!",j(l,"type","radio"),j(l,"name","type"),l.__value="2",l.value=l.__value,l.checked=!0,t[15][0].push(l),j(a,"class","radio"),j(f,"type","radio"),j(f,"name","type"),f.__value="1",f.value=f.__value,t[15][0].push(f),j(u,"class","radio"),j(o,"class","control"),j(r,"class","field"),j(y,"class","control"),j(m,"class","field"),j(T,"class","control"),j(M,"class","field"),j(D,"class","radio"),j(B,"class","radio"),j(H,"class","control"),j(P,"class","field"),j(K,"class","button"),j(K,"type","submit"),R(K,"is-yellowish",t[7]),j(J,"class","control"),j(et,"class","button"),j(et,"type","button"),j(tt,"class","control"),j(Z,"class","field is-grouped"),j(ot,"class","help is-primary")},m(n,i){$(n,e,i),v(e,r),v(r,o),v(o,a),v(a,l),l.checked=l.__value===t[4],v(a,s),v(o,c),v(o,u),v(u,f),f.checked=f.__value===t[4],v(u,d),v(o,h),St(p,o,null),v(e,g),v(e,m),v(m,y),ut.m(y,null),v(y,b),St(w,y,null),v(e,S),v(e,M),v(M,T),yt.m(T,null),v(T,C),St(O,T,null),v(e,L),v(e,P),v(P,H),v(H,D),v(H,z),v(H,B),v(H,Y),St(F,H,null),v(e,I),St(q,e,null),v(e,U),St(W,e,null),v(e,V),Nt&&Nt.m(e,null),v(e,G),Tt&&Tt.m(e,null),v(e,X),v(e,Z),v(Z,J),v(J,K),v(Z,Q),v(Z,tt),v(tt,et),v(Z,nt),Et&&Et.m(Z,null),v(e,rt),v(e,ot),it=!0,at||(lt=[E(l,"change",t[14]),E(f,"change",t[16]),E(et,"click",t[11]),E(e,"submit",A(t[10])),E(e,"change",t[22])],at=!0)},p(t,[n]){16&n&&(l.checked=l.__value===t[4]),16&n&&(f.checked=f.__value===t[4]),ct===(ct=st(t))&&ut?ut.p(t,n):(ut.d(1),ut=ct(t),ut&&(ut.c(),ut.m(y,b))),mt===(mt=gt(t))&&yt?yt.p(t,n):(yt.d(1),yt=mt(t),yt&&(yt.c(),yt.m(T,C)));const r=520&n?wt(vt,[8&n&&{value:t[3]},512&n&&$t(t[9])]):{};134217728&n&&(r.$$scope={dirty:n,ctx:t}),q.$set(r);const o=258&n?wt(Mt,[2&n&&{display:"line"==t[1]||"table"==t[1]},256&n&&$t(t[8])]):{};134217728&n&&(o.$$scope={dirty:n,ctx:t}),W.$set(o),"table"!=t[1]?Nt?(Nt.p(t,n),2&n&&ht(Nt,1)):(Nt=gs(t),Nt.c(),ht(Nt,1),Nt.m(e,G)):Nt&&(ft(),pt(Nt,1,1,()=>{Nt=null}),dt()),"supply"==t[0]||"difference"==t[0]||"percentage"==t[0]?Tt?(Tt.p(t,n),1&n&&ht(Tt,1)):(Tt=ys(t),Tt.c(),ht(Tt,1),Tt.m(e,X)):Tt&&(ft(),pt(Tt,1,1,()=>{Tt=null}),dt()),128&n&&R(K,"is-yellowish",t[7]),t[2]?Et||(Et=bs(),Et.c(),Et.m(Z,null)):Et&&(Et.d(1),Et=null)},i(t){it||(ht(p.$$.fragment,t),ht(w.$$.fragment,t),ht(O.$$.fragment,t),ht(F.$$.fragment,t),ht(q.$$.fragment,t),ht(W.$$.fragment,t),ht(Nt),ht(Tt),it=!0)},o(t){pt(p.$$.fragment,t),pt(w.$$.fragment,t),pt(O.$$.fragment,t),pt(F.$$.fragment,t),pt(q.$$.fragment,t),pt(W.$$.fragment,t),pt(Nt),pt(Tt),it=!1},d(n){n&&x(e),t[15][0].splice(t[15][0].indexOf(l),1),t[15][0].splice(t[15][0].indexOf(f),1),kt(p),ut.d(),kt(w),yt.d(),kt(O),kt(F),kt(q),kt(W),Nt&&Nt.d(),Tt&&Tt.d(),Et&&Et.d(),at=!1,i(lt)}}}function $s(t,e,n){let r,o;const i=W();let{chartType:a}=e,{calculation:l}=e,{isLoading:s}=e,c="2",u=0,f="0",d="0",h=!0;const p=new Map(Array.from(De(Ge.get("location").options.map(t=>({key:+t.value.toString().slice(0,1),value:t.value,label:t.label})),t=>t.key)).map(t=>[t[0],{name:Ge.get("location").name,label:Ge.get("location").label,options:t[1].map(t=>({label:t.label,value:t.value}))}]));return t.$$set=t=>{"chartType"in t&&n(1,a=t.chartType),"calculation"in t&&n(0,l=t.calculation),"isLoading"in t&&n(2,s=t.isLoading)},t.$$.update=()=>{2&t.$$.dirty&&n(9,r={name:"locationType",label:"Location Type",options:Ge.get("locationType").options.filter(t=>!("map"==a&&0==+t.value))}),8&t.$$.dirty&&n(8,o=p.get(u))},[l,a,s,u,c,f,d,h,o,r,function(t){let e=[];for(let n of t.target)!n.name||"select-one"!=n.type&&1!=n.checked||e.push({name:n.name,value:n.value,display:"select-one"==n.type?n.selectedOptions[0].innerText:n.parentElement.innerText.trim()});n(7,h=!1),i("showProjection",e)},function(){i("clearProjections")},function(t){n(3,u=+t.target.value)},function(t){n(6,d=t.target.value)},function(){c=this.__value,n(4,c)},[[],[]],function(){c=this.__value,n(4,c)},function(){f=this.__value,n(5,f)},function(){f=this.__value,n(5,f)},function(){f=this.__value,n(5,f)},t=>2==c||1==c&6!=t.value&5!=t.value,t=>!("map"===a&t.value<0),()=>n(7,h=!0)]}class xs extends _t{constructor(t){super(),Mt(this,t,$s,ws,l,{chartType:1,calculation:0,isLoading:2})}}var Ss={},ks={};function Ms(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'})).join(",")+"}")}function _s(t){var e=Object.create(null),n=[];return t.forEach((function(t){for(var r in t)r in e||n.push(e[r]=r)})),n}function Ns(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function Ts(t){var e,n=t.getUTCHours(),r=t.getUTCMinutes(),o=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":((e=t.getUTCFullYear())<0?"-"+Ns(-e,6):e>9999?"+"+Ns(e,6):Ns(e,4))+"-"+Ns(t.getUTCMonth()+1,2)+"-"+Ns(t.getUTCDate(),2)+(i?"T"+Ns(n,2)+":"+Ns(r,2)+":"+Ns(o,2)+"."+Ns(i,3)+"Z":o?"T"+Ns(n,2)+":"+Ns(r,2)+":"+Ns(o,2)+"Z":r||n?"T"+Ns(n,2)+":"+Ns(r,2)+"Z":"")}var Es=function(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function r(t,e){var r,o=[],i=t.length,a=0,l=0,s=i<=0,c=!1;function u(){if(s)return ks;if(c)return c=!1,Ss;var e,r,o=a;if(34===t.charCodeAt(o)){for(;a++<i&&34!==t.charCodeAt(a)||34===t.charCodeAt(++a););return(e=a)>=i?s=!0:10===(r=t.charCodeAt(a++))?c=!0:13===r&&(c=!0,10===t.charCodeAt(a)&&++a),t.slice(o+1,e-1).replace(/""/g,'"')}for(;a<i;){if(10===(r=t.charCodeAt(e=a++)))c=!0;else if(13===r)c=!0,10===t.charCodeAt(a)&&++a;else if(r!==n)continue;return t.slice(o,e)}return s=!0,t.slice(o,i)}for(10===t.charCodeAt(i-1)&&--i,13===t.charCodeAt(i-1)&&--i;(r=u())!==ks;){for(var f=[];r!==Ss&&r!==ks;)f.push(r),r=u();e&&null==(f=e(f,l++))||o.push(f)}return o}function o(e,n){return e.map((function(e){return n.map((function(t){return a(e[t])})).join(t)}))}function i(e){return e.map(a).join(t)}function a(t){return null==t?"":t instanceof Date?Ts(t):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var n,o,i=r(t,(function(t,r){if(n)return n(t,r-1);o=t,n=e?function(t,e){var n=Ms(t);return function(r,o){return e(n(r),o,t)}}(t,e):Ms(t)}));return i.columns=o||[],i},parseRows:r,format:function(e,n){return null==n&&(n=_s(e)),[n.map(a).join(t)].concat(o(e,n)).join("\n")},formatBody:function(t,e){return null==e&&(e=_s(t)),o(t,e).join("\n")},formatRows:function(t){return t.map(i).join("\n")},formatRow:i,formatValue:a}}(",").formatRows;function As(e){let n,r,o;return{c(){n=k("button"),n.innerHTML='<svg class="button-icon-svg has-fill-primary"><use xlink:href="#fa-file-csv"></use></svg>',j(n,"title","Download Data"),j(n,"class","button"),j(n,"aria-label","Download Data as a CSV file")},m(t,i){$(t,n,i),r||(o=E(n,"click",e[0]),r=!0)},p:t,i:t,o:t,d(t){t&&x(n),r=!1,o()}}}function Cs(t,e,n){let{data:r}=e,{chartType:o}=e,{projectionStartYear:i}=e;const a=new Map(Array.from(Ge).map(t=>[t[0],new Map(t[1].options.map(t=>[t.value,t.label]))])),l=`NOTE: Values after ${i-1} are projected based on model parameters. Values from ${i-1} and earlier are based on licensure data.\n`;function s(t){const e="map"==t?"location":"setting",n=new Map(Ge.get(e).options.map(t=>[t.value,t.label])),o=function(t,...e){return ze(t,Array.from,He,e)}(r.flatMap(t=>t.values),t=>t[e]).map((function(t){return[n.get(t[0]),...t[1].map(t=>t.value)]})).filter(t=>null!=t[0]),i=Oe(r[0].values,t=>t.year),s=Ve(i[0],i[1]+1),c=r[0].params.map(t=>`${Ge.get(t[0]).label}: ${a.get(t[0]).get(t[1])}`).join("  |  ")+"\n",u=Ge.get(e).label;return l+c+Es([[u,...s]].concat(o))}return t.$$set=t=>{"data"in t&&n(1,r=t.data),"chartType"in t&&n(2,o=t.chartType),"projectionStartYear"in t&&n(3,i=t.projectionStartYear)},[function(){let t=[];if(t="map"==o||"table"==o?s(o):function(){const t=Oe(r.flatMap(t=>Oe(t.values,t=>t.year))),e=[...r[0].params.map(t=>Ge.get(t[0]).label),...Ve(t[0],t[1]+1)],n=r.map((function(t){const e=t.values.map(t=>[t.year,t.value]),n=t.params.map(t=>[Ge.get(t[0]).label,a.get(t[0]).get(t[1])]);return new Map([...n,...e])})).map((function(t){return e.map(e=>t.get(e)||"")}));return l+Es([e,...n])}(),navigator.msSaveBlob)navigator.msSaveBlob(new Blob([t],{type:"text/csv;charset=utf-8;"}),"nurseprojection.csv");else{var e="data:attachment/csv;charset=utf-8,"+encodeURI(t),n=document.createElement("a");n.href=e,n.download="nurseprojection.csv",document.body.appendChild(n),n.click(),document.body.removeChild(n)}},r,o,i]}class js extends _t{constructor(t){super(),Mt(this,t,Cs,As,l,{data:1,chartType:2,projectionStartYear:3})}}var Os,Ls,Ps=(function(t,e){!function(){var t=e||this||window;t.default=t;var n="http://www.w3.org/2000/xmlns/",r="http://www.w3.org/2000/svg",o=/url\(["']?(.+?)["']?\)/,i={woff2:"font/woff2",woff:"font/woff",otf:"application/x-font-opentype",ttf:"application/x-font-ttf",eot:"application/vnd.ms-fontobject",sfnt:"application/font-sfnt",svg:"image/svg+xml"},a=function(t){return t instanceof HTMLElement||t instanceof SVGElement},l=function(t){if(!a(t))throw new Error("an HTMLElement or SVGElement is required; got "+t)},s=function(t){return new Promise((function(e,n){a(t)?e(t):n(new Error("an HTMLElement or SVGElement is required; got "+t))}))},c=function(t,e,n){var r=t.viewBox&&t.viewBox.baseVal&&t.viewBox.baseVal[n]||null!==e.getAttribute(n)&&!e.getAttribute(n).match(/%$/)&&parseInt(e.getAttribute(n))||t.getBoundingClientRect()[n]||parseInt(e.style[n])||parseInt(window.getComputedStyle(t).getPropertyValue(n));return null==r||isNaN(parseFloat(r))?0:r},u=function(t){for(var e=window.atob(t.split(",")[1]),n=t.split(",")[0].split(":")[1].split(";")[0],r=new ArrayBuffer(e.length),o=new Uint8Array(r),i=0;i<e.length;i++)o[i]=e.charCodeAt(i);return new Blob([r],{type:n})},f=function(t){return Promise.all(Array.from(t.querySelectorAll("image")).map((function(t){var e,n=t.getAttributeNS("http://www.w3.org/1999/xlink","href")||t.getAttribute("href");return n?((e=n)&&0===e.lastIndexOf("http",0)&&-1===e.lastIndexOf(window.location.host)&&(n+=(-1===n.indexOf("?")?"?":"&")+"t="+(new Date).valueOf()),new Promise((function(e,r){var o=document.createElement("canvas"),i=new Image;i.crossOrigin="anonymous",i.src=n,i.onerror=function(){return r(new Error("Could not load "+n))},i.onload=function(){o.width=i.width,o.height=i.height,o.getContext("2d").drawImage(i,0,0),t.setAttributeNS("http://www.w3.org/1999/xlink","href",o.toDataURL("image/png")),e(!0)}}))):Promise.resolve(null)})))},d={},h=function(t){return Promise.all(t.map((function(t){return new Promise((function(e,n){if(d[t.url])return e(d[t.url]);var r=new XMLHttpRequest;r.addEventListener("load",(function(){var n=function(t){for(var e="",n=new Uint8Array(t),r=0;r<n.byteLength;r++)e+=String.fromCharCode(n[r]);return window.btoa(e)}(r.response),i=t.text.replace(o,'url("data:'+t.format+";base64,"+n+'")')+"\n";d[t.url]=i,e(i)})),r.addEventListener("error",(function(n){console.warn("Failed to load font from: "+t.url,n),d[t.url]=null,e(null)})),r.addEventListener("abort",(function(n){console.warn("Aborted loading font from: "+t.url,n),e(null)})),r.open("GET",t.url),r.responseType="arraybuffer",r.send()}))}))).then((function(t){return t.filter((function(t){return t})).join("")}))},p=null,g=function(t,e){var n=e||{},r=n.selectorRemap,a=n.modifyStyle,l=n.modifyCss,s=n.fonts,c=n.excludeUnusedCss,u=l||function(t,e){return(r?r(t):t)+"{"+(a?a(e):e)+"}\n"},f=[],d=void 0===s,g=s||[];return(p||(p=Array.from(document.styleSheets).map((function(t){try{return{rules:t.cssRules,href:t.href}}catch(e){return console.warn("Stylesheet could not be loaded: "+t.href,e),{}}})))).forEach((function(e){var n=e.rules,r=e.href;n&&Array.from(n).forEach((function(e){if(void 0!==e.style)if(function(t,e){if(e)try{return t.querySelector(e)||t.parentNode&&t.parentNode.querySelector(e)}catch(t){console.warn('Invalid CSS selector "'+e+'"',t)}}(t,e.selectorText))f.push(u(e.selectorText,e.style.cssText));else if(d&&e.cssText.match(/^@font-face/)){var n=function(t,e){var n=t.cssText.match(o),r=n&&n[1]||"";if(r&&!r.match(/^data:/)&&"about:blank"!==r){var a,l,s=r.startsWith("../")?e+"/../"+r:r.startsWith("./")?e+"/."+r:r;return{text:t.cssText,format:(a=s,l=Object.keys(i).filter((function(t){return a.indexOf("."+t)>0})).map((function(t){return i[t]})),l?l[0]:(console.error("Unknown font format for "+a+". Fonts may not be working correctly."),"application/octet-stream")),url:s}}}(e,r);n&&g.push(n)}else c||f.push(e.cssText)}))})),h(g).then((function(t){return f.join("\n")+t}))},m=function(){if(!navigator.msSaveOrOpenBlob&&!("download"in document.createElement("a")))return{popup:window.open()}};t.prepareSvg=function(t,e,o){l(t);var i=e||{},a=i.left,s=void 0===a?0:a,u=i.top,d=void 0===u?0:u,h=i.width,p=i.height,m=i.scale,y=void 0===m?1:m,v=i.responsive,b=void 0!==v&&v,w=i.excludeCss,$=void 0!==w&&w;return f(t).then((function(){var i=t.cloneNode(!0);i.style.backgroundColor=(e||{}).backgroundColor||t.style.backgroundColor;var a=function(t,e,n,r){if("svg"===t.tagName)return{width:n||c(t,e,"width"),height:r||c(t,e,"height")};if(t.getBBox){var o=t.getBBox(),i=o.x,a=o.y;return{width:i+o.width,height:a+o.height}}}(t,i,h,p),l=a.width,u=a.height;if("svg"!==t.tagName){if(!t.getBBox)return void console.error("Attempted to render non-SVG element",t);null!=i.getAttribute("transform")&&i.setAttribute("transform",i.getAttribute("transform").replace(/translate\(.*?\)/,""));var f=document.createElementNS("http://www.w3.org/2000/svg","svg");f.appendChild(i),i=f}if(i.setAttribute("version","1.1"),i.setAttribute("viewBox",[s,d,l,u].join(" ")),i.getAttribute("xmlns")||i.setAttributeNS(n,"xmlns",r),i.getAttribute("xmlns:xlink")||i.setAttributeNS(n,"xmlns:xlink","http://www.w3.org/1999/xlink"),b?(i.removeAttribute("width"),i.removeAttribute("height"),i.setAttribute("preserveAspectRatio","xMinYMin meet")):(i.setAttribute("width",l*y),i.setAttribute("height",u*y)),Array.from(i.querySelectorAll("foreignObject > *")).forEach((function(t){t.setAttributeNS(n,"xmlns","svg"===t.tagName?r:"http://www.w3.org/1999/xhtml")})),!$)return g(t,e).then((function(t){var e=document.createElement("style");e.setAttribute("type","text/css"),e.innerHTML="<![CDATA[\n"+t+"\n]]>";var n=document.createElement("defs");n.appendChild(e),i.insertBefore(n,i.firstChild);var r=document.createElement("div");r.appendChild(i);var a=r.innerHTML.replace(/NS\d+:href/gi,'xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href');if("function"!=typeof o)return{src:a,width:l,height:u};o(a,l,u)}));var m=document.createElement("div");m.appendChild(i);var v=m.innerHTML;if("function"!=typeof o)return{src:v,width:l,height:u};o(v,l,u)}))},t.svgAsDataUri=function(e,n,r){return l(e),t.prepareSvg(e,n).then((function(t){var e=t.src,n=t.width,o=t.height,i="data:image/svg+xml;base64,"+window.btoa(decodeURIComponent(encodeURIComponent('<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd" [<!ENTITY nbsp "&#160;">]>'+e).replace(/%([0-9A-F]{2})/g,(function(t,e){var n=String.fromCharCode("0x"+e);return"%"===n?"%25":n}))));return"function"==typeof r&&r(i,n,o),i}))},t.svgAsPngUri=function(e,n,r){l(e);var o=n||{},i=o.encoderType,a=void 0===i?"image/png":i,s=o.encoderOptions,c=void 0===s?.8:s,u=o.canvg,f=function(t){var e=t.src,n=t.width,o=t.height,i=document.createElement("canvas"),l=i.getContext("2d"),s=window.devicePixelRatio||1;i.width=n*s,i.height=o*s,i.style.width=i.width+"px",i.style.height=i.height+"px",l.setTransform(s,0,0,s,0,0),u?u(i,e):l.drawImage(e,0,0);var f=void 0;try{f=i.toDataURL(a,c)}catch(t){if("undefined"!=typeof SecurityError&&t instanceof SecurityError||"SecurityError"===t.name)return void console.error("Rendered SVG images cannot be downloaded in this browser.");throw t}return"function"==typeof r&&r(f,i.width,i.height),Promise.resolve(f)};return u?t.prepareSvg(e,n).then(f):t.svgAsDataUri(e,n).then((function(t){return new Promise((function(e,n){var r=new Image;r.onload=function(){return e(f({src:r,width:r.width,height:r.height}))},r.onerror=function(){n("There was an error loading the data URI as an image on the following SVG\n"+window.atob(t.slice(26))+"Open the following link to see browser's diagnosis\n"+t)},r.src=t}))}))},t.download=function(t,e,n){if(navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(u(e),t);else{var r=document.createElement("a");if("download"in r){r.download=t,r.style.display="none",document.body.appendChild(r);try{var o=u(e),i=URL.createObjectURL(o);r.href=i,r.onclick=function(){return requestAnimationFrame((function(){return URL.revokeObjectURL(i)}))}}catch(t){console.error(t),console.warn("Error while getting object URL. Falling back to string URL."),r.href=e}r.click(),document.body.removeChild(r)}else n&&n.popup&&(n.popup.document.title=t,n.popup.location.replace(e))}},t.saveSvg=function(e,n,r){var o=m();return s(e).then((function(e){return t.svgAsDataUri(e,r||{})})).then((function(e){return t.download(n,e,o)}))},t.saveSvgAsPng=function(e,n,r){var o=m();return s(e).then((function(e){return t.svgAsPngUri(e,r||{})})).then((function(e){return t.download(n,e,o)}))}}()}(Ls={path:Os,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&Ls.path)}},Ls.exports),Ls.exports);function Rs(e){let n,r,o;return{c(){n=k("button"),n.innerHTML='<svg class="button-icon-svg has-fill-primary"><use xlink:href="#fa-image"></use></svg>',j(n,"title","Save Image"),j(n,"class","button"),j(n,"aria-label","Download Image of Current Chart")},m(t,i){$(t,n,i),r||(o=E(n,"click",e[0]),r=!0)},p:t,i:t,o:t,d(t){t&&x(n),r=!1,o()}}}function Hs(t,e,n){let{chartType:r}=e;return t.$$set=t=>{"chartType"in t&&n(1,r=t.chartType)},[function(){"line"==r?function(){const t=document.getElementById("line-chart-div"),e=t.querySelector(".title").innerText,n=t.querySelector(".subtitle").innerText,r=document.getElementById("line-chart-table"),o={cells:Array.from(r.querySelector("thead").querySelectorAll("th"),(function(t){const e=Tn({text:t.innerText,fill:"#6C7480",maxCharsPerLine:14});return{text:t.innerText,isBold:!0,svgText:e}})).slice(1),type:"header",color:"none"},i=Array.from(r.querySelector("tbody").querySelectorAll("tr"),(function(t){const e=Array.from(t.children,(function(t,e){if(0==e)return t.style.backgroundColor;const n=Tn({text:t.innerText,fill:"#6C7480",maxCharsPerLine:14});return{text:t.innerText,isBold:t.classList.value.indexOf("has-text-weight-bold")>=0,svgText:n}}));return{cells:e.slice(1),color:e[0],type:"body"}})),a=[o,...i],l=document.createElementNS("http://www.w3.org/2000/svg","g");l.setAttributeNS(null,"transform","translate(20, 620)"),l.setAttributeNS(null,"fill","#6C7480");const s=17*Ue(i,t=>Ue(t.cells,t=>t.svgText.childElementCount)),c=17*Ue(o.cells,t=>t.svgText.childElementCount),u=920/a[0].cells.length-15;a.forEach((function(t,e){const n=document.createElementNS("http://www.w3.org/2000/svg","g");n.setAttributeNS(null,"transform",`translate(0, ${0==e?0:c+s*(e-1)})`);const r=document.createElementNS("http://www.w3.org/2000/svg","rect");r.setAttributeNS(null,"width",15),r.setAttributeNS(null,"height",s),r.setAttributeNS(null,"fill",t.color),r.setAttributeNS(null,"transform","translate(-18, -12)"),n.append(r),t.cells.forEach((function(t,e){t.svgText.setAttributeNS(null,"font-size","12px"),t.svgText.setAttributeNS(null,"transform",`translate(${e*u},0)`),t.isBold&&t.svgText.setAttributeNS(null,"font-weight",600),n.appendChild(t.svgText)}));const o=document.createElementNS("http://www.w3.org/2000/svg","line");o.setAttributeNS(null,"x2",u*t.cells.length),o.setAttributeNS(null,"transform",`translate(0, ${0==e?c-12:s-12})`),o.setAttributeNS(null,"stroke","#6C7480"),0==e&&o.setAttributeNS(null,"stroke-width",2),n.appendChild(o),l.appendChild(n)}));const f=580+a.length*s+80,d=document.getElementById("line-chart-svg").cloneNode(!0);d.setAttribute("viewBox","0 0 960 "+f),d.style.fontFamily="Helvetica, Arial, sans-serif",d.querySelector(".chart-container").setAttribute("transform","translate(20, 100)");const h=document.createElementNS("http://www.w3.org/2000/svg","text");h.setAttributeNS(null,"font-size","30px"),h.setAttributeNS(null,"transform","translate(40,50)"),h.innerHTML=e;const p=document.createElementNS("http://www.w3.org/2000/svg","text");p.setAttributeNS(null,"font-size","20px"),p.setAttributeNS(null,"transform","translate(40,80)"),p.innerHTML=n;const g=document.createElementNS("http://www.w3.org/2000/svg","text");g.setAttributeNS(null,"font-size","12px"),g.setAttributeNS(null,"transform",`translate(40,${f-20})`),g.innerHTML="See more at "+window.location.href,d.appendChild(h),d.appendChild(p),d.appendChild(l),d.appendChild(g),Ps.saveSvgAsPng(d,"nurse_line_chart.png",{backgroundColor:"#fff",scale:2})}():"map"==r&&function(){const t=document.getElementById("simple-map-container"),e=t.querySelector(".title").innerText,n=t.querySelector(".subtitle").innerText,r=document.getElementById("map-svg").cloneNode(!0),o=document.getElementById("row-chart-svg").firstChild.cloneNode(!0),i=o.querySelectorAll("rect").length,a=Math.max(450,200+50*i);r.setAttribute("viewBox","0 0 1100 "+a),r.style.fontFamily="Helvetica, Arial, sans-serif",r.firstChild.setAttributeNS(null,"transform","translate(630,200) scale(1.4)"),o.setAttributeNS(null,"transform","translate(0, 140) scale(2)"),o.setAttributeNS(null,"font-size","10px"),r.appendChild(o);const l=document.createElementNS("http://www.w3.org/2000/svg","text");l.setAttributeNS(null,"font-size","42px"),l.setAttributeNS(null,"transform","translate(20,60)"),l.innerHTML=e;const s=Tn({text:n,x:20,y:90,fontSize:20,maxCharsPerLine:100}),c=document.createElementNS("http://www.w3.org/2000/svg","text");c.setAttributeNS(null,"font-size","12px"),c.setAttributeNS(null,"transform",`translate(40,${a-20})`),c.innerHTML="See more at "+window.location.href,r.appendChild(l),r.appendChild(s),r.appendChild(c),Ps.saveSvgAsPng(r,"nurse_projection_map.png",{backgroundColor:"#fff"})}()},r]}class Ds extends _t{constructor(t){super(),Mt(this,t,Hs,Rs,l,{chartType:1})}}function zs(e){let n,r,o,i,a;return{c(){n=k("h2"),r=_("Select a chart type and projection options, or launch our tutorial to\r\n      learn more!\r\n      "),o=k("button"),o.textContent="Launch User Guide",j(o,"class","button is-primary is-outlined is-center is-rounded"),j(o,"id","btn"),j(n,"class","subtitle is-size-5 has-text-grey-dark")},m(t,l){$(t,n,l),v(n,r),v(n,o),i||(a=E(o,"click",e[2]),i=!0)},p:t,d(t){t&&x(n),i=!1,a()}}}function Bs(e){let n,r,o,i,a,l;return{c(){n=k("h2"),n.textContent="You can create a table.",r=N(),o=k("p"),o.innerHTML='<span class="has-text-weight-semibold">You can also view projections in a table.</span>\n      The colors represent the change relative to the baseline (the first year, in\n      this case, 2008).\n      <span style="color:red;">Red</span>\n      indicates a decrease from the baseline.\n      <span style="color:blue;">Blue</span>\n      indicates an increase from the baseline. The table can be downloaded as a CSV\n      file.',i=N(),a=k("img"),j(a,"class","image svelte-1fy8ljy"),j(a,"alt","How to use the table."),c(a.src,l="public/images/tutorial/06_table.png")||j(a,"src","public/images/tutorial/06_table.png")},m(t,e){$(t,n,e),$(t,r,e),$(t,o,e),$(t,i,e),$(t,a,e)},p:t,d(t){t&&x(n),t&&x(r),t&&x(o),t&&x(i),t&&x(a)}}}function Ys(e){let n,r,o,i,a,l;return{c(){n=k("h2"),n.textContent="You can create a map.",r=N(),o=k("p"),o.innerHTML='<span class="has-text-weight-semibold">You can also view projections as a map.</span>\n      Use the slider below the map to change the year of data. The row chart displays\n      the projected values for the selected year. The colors in the map also indicate\n      the projected value. You can see the projected values in the table at the bottom.\n      Hovering over any chart/map/table element highlights the same geography in\n      the other elements.',i=N(),a=k("img"),j(a,"class","image svelte-1fy8ljy"),j(a,"alt","How to use the map."),c(a.src,l="public/images/tutorial/map_instructions.png")||j(a,"src","public/images/tutorial/map_instructions.png")},m(t,e){$(t,n,e),$(t,r,e),$(t,o,e),$(t,i,e),$(t,a,e)},p:t,d(t){t&&x(n),t&&x(r),t&&x(o),t&&x(i),t&&x(a)}}}function Fs(t){let e,n,r,o,i,a,l,s;function c(t,e){return"difference"===t[1]?Ws:"percentage"===t[1]?Us:"supply"===t[1]?qs:"demand"===t[1]?Is:void 0}let u=c(t),f=u&&u(t);return{c(){e=k("h2"),e.textContent="You can create a line chart.",n=N(),r=k("p"),r.innerHTML='<span class="has-text-weight-semibold">If you are using the line chart option,</span>\n      you can display multiple lines at once to compare. Just change your options\n      and select\n      <span class="has-text-weight-semibold">Show</span>\n      again. To remove a line, hit the\n      <span class="has-text-weight-semibold">X</span>\n      button in the top left of its corresponding box. Once you have displayed the\n      projections* in which you are interested, you can download the image (as a\n      .png) or the data (as a .csv file).',o=N(),f&&f.c(),i=N(),a=k("hr"),l=N(),s=k("p"),s.innerHTML='<span class="has-text-weight-semibold">Please note:</span>\n      the model wonât allow you to display the projections for specific education\n      categories combined with specific settings at the same time. For instance,\n      the projection for RN, with BS for education, and hospital for setting is not\n      available. This is because the numbers are small.'},m(t,c){$(t,e,c),$(t,n,c),$(t,r,c),$(t,o,c),f&&f.m(t,c),$(t,i,c),$(t,a,c),$(t,l,c),$(t,s,c)},p(t,e){u!==(u=c(t))&&(f&&f.d(1),f=u&&u(t),f&&(f.c(),f.m(i.parentNode,i)))},d(t){t&&x(e),t&&x(n),t&&x(r),t&&x(o),f&&f.d(t),t&&x(i),t&&x(a),t&&x(l),t&&x(s)}}}function Is(t){let e,n;return{c(){e=k("img"),j(e,"class","image svelte-1fy8ljy"),j(e,"alt","How to use the line chart the shows the demand projections."),c(e.src,n="public/images/tutorial/demand_instruction.png")||j(e,"src","public/images/tutorial/demand_instruction.png")},m(t,n){$(t,e,n)},d(t){t&&x(e)}}}function qs(t){let e,n;return{c(){e=k("img"),j(e,"class","image svelte-1fy8ljy"),j(e,"alt","How to use the line chart the shows supply projections and uncertainty for those projections."),c(e.src,n="public/images/tutorial/supply_instruction.png")||j(e,"src","public/images/tutorial/supply_instruction.png")},m(t,n){$(t,e,n)},d(t){t&&x(e)}}}function Us(t){let e,n;return{c(){e=k("img"),j(e,"class","image svelte-1fy8ljy"),j(e,"alt","How to use the line chart the shows the percentage difference in supply and demand."),c(e.src,n="public/images/tutorial/percentage_supply_demand_instruction.png")||j(e,"src","public/images/tutorial/percentage_supply_demand_instruction.png")},m(t,n){$(t,e,n)},d(t){t&&x(e)}}}function Ws(t){let e,n;return{c(){e=k("img"),j(e,"class","image svelte-1fy8ljy"),j(e,"alt","How to use the line chart the shows the numerical difference in supply and demand."),c(e.src,n="public/images/tutorial/supply-demand-instruction.png")||j(e,"src","public/images/tutorial/supply-demand-instruction.png")},m(t,n){$(t,e,n)},d(t){t&&x(e)}}}function Vs(e){let n;function r(t,e){return"line"==t[0]?Fs:"map"==t[0]?Ys:"table"==t[0]?Bs:zs}let o=r(e),i=o(e);return{c(){n=k("div"),i.c(),j(n,"class","content has-background-light svelte-1fy8ljy")},m(t,e){$(t,n,e),i.m(n,null)},p(t,[e]){o===(o=r(t))&&i?i.p(t,e):(i.d(1),i=o(t),i&&(i.c(),i.m(n,null)))},i:t,o:t,d(t){t&&x(n),i.d()}}}function Gs(t,e,n){const r=W();let{chartType:o}=e,{calculation:i}=e;return t.$$set=t=>{"chartType"in t&&n(0,o=t.chartType),"calculation"in t&&n(1,i=t.calculation)},[o,i,function(){r("launchTutorial")}]}class Xs extends _t{constructor(t){super(),Mt(this,t,Gs,Vs,l,{chartType:0,calculation:1})}}function Zs(t,e,n){const r=t.slice();return r[6]=e[n].value,r[7]=e[n].label,r[9]=n,r}function Js(t){let e,n,r,o,a,l,s,c,u,f=t[7]+"";return{c(){e=k("button"),n=_(f),j(e,"id",r=t[6]),j(e,"role","radio"),j(e,"data-index",o=t[9]),j(e,"aria-checked",a=t[2]==t[6]),j(e,"tabindex",l=t[2]===t[6]?0:-1),j(e,"class",s=t[2]===t[6]?"button is-selected is-primary":"button")},m(r,o){$(r,e,o),v(e,n),c||(u=[E(e,"click",t[3]),E(e,"keydown",t[4])],c=!0)},p(t,o){2&o&&f!==(f=t[7]+"")&&O(n,f),2&o&&r!==(r=t[6])&&j(e,"id",r),6&o&&a!==(a=t[2]==t[6])&&j(e,"aria-checked",a),6&o&&l!==(l=t[2]===t[6]?0:-1)&&j(e,"tabindex",l),6&o&&s!==(s=t[2]===t[6]?"button is-selected is-primary":"button")&&j(e,"class",s)},d(t){t&&x(e),c=!1,i(u)}}}function Ks(e){let n,r=e[1],o=[];for(let t=0;t<r.length;t+=1)o[t]=Js(Zs(e,r,t));return{c(){n=k("div");for(let t=0;t<o.length;t+=1)o[t].c();j(n,"class","buttons has-addons"),j(n,"role","radiogroup"),j(n,"aria-label",e[0])},m(t,e){$(t,n,e);for(let t=0;t<o.length;t+=1)o[t].m(n,null)},p(t,[e]){if(30&e){let i;for(r=t[1],i=0;i<r.length;i+=1){const a=Zs(t,r,i);o[i]?o[i].p(a,e):(o[i]=Js(a),o[i].c(),o[i].m(n,null))}for(;i<o.length;i+=1)o[i].d(1);o.length=r.length}1&e&&j(n,"aria-label",t[0])},i:t,o:t,d(t){t&&x(n),S(o,t)}}}function Qs(t,e,n){const r=W();let{groupLabel:o="Button Radio Group"}=e,{options:i}=e,{chartType:a}=e;return t.$$set=t=>{"groupLabel"in t&&n(0,o=t.groupLabel),"options"in t&&n(1,i=t.options),"chartType"in t&&n(2,a=t.chartType)},[o,i,a,function(t){a!=t.target.id&&r("changeChartType",t.target.id)},function(t){if("ArrowLeft"===t.key||"ArrowRight"===t.key){let e=+t.target.getAttribute("data-index")+("ArrowLeft"===t.key?-1:1);e>=i.length?e=0:e<0&&(e=i.length-1),document.getElementById(i[e].value).focus(),r("changeChartType",i[e].value)}}]}class tc extends _t{constructor(t){super(),Mt(this,t,Qs,Ks,l,{groupLabel:0,options:1,chartType:2})}}function ec(e){let n;return{c(){n=k("div"),n.innerHTML='<article class="content column is-two-thirds-tablet is-two-thirds-desktop is-two-thirds-widescreen is-half-fullhd"><h2 id="how-to-use" class="title">How to Use the NC Nursecast Visualization</h2> \n        <ol><li class="notification"><p>By clicking on these boxes in the visualization, you can\n                    compare supply and demand directly and see shortages or\n                    surpluses as a percentage or numerical difference. Or you\n                    can view supply or demand separately.</p> \n                <img class="image" alt="Select one of the boxes to compare supply and demand or show them separately." src="public/images/tutorial/tutorial_00.png"/></li> \n            <li class="notification"><p>You can view the projections as either a line chart,\n                    comparing multiple projections over time across settings,\n                    geographies, and other parameters. Or you can view the\n                    projections in a map, comparing across a set of geographies\n                    (like AHEC regions.)</p> \n                <img class="image" alt="Select line for line chart or map for a map of North Carolina broken into a selected geography type." src="public/images/tutorial/tutorial_01.png"/></li> \n            <li class="notification"><p>Use the radio buttons or dropdowns to select parameters for\n                    the projection you want to view. Select a <svg class="icon-svg has-fill-primary" width="20" height="20" role="img"><title>Example of information icon button.</title><use xlink:href="#fa-info-circle"></use></svg>\n                    to learn more about each option. Select\n                    <span class="has-text-weight-semibold">Show</span> to display\n                    the line chart or map for your selections. Note that some combinations\n                    of selections are not possible.</p> \n                <img class="image" alt="Example options form for choosing specific projections." src="public/images/tutorial/tutorial_02.png"/></li></ol></article>',j(n,"class","columns is-centered")},m(t,e){$(t,n,e)},p:t,i:t,o:t,d(t){t&&x(n)}}}class nc extends _t{constructor(t){super(),Mt(this,t,null,ec,l,{})}}function rc(t,e,n){const r=t.slice();return r[6]=e[n].name,r[7]=e[n].title,r[8]=e[n].subtitle,r[9]=e[n].info,r[11]=n,r}function oc(t){let e,n,r,o,a,l,s,c,u,f,d,h,p,g,m,y,b,w,S,M,T,A=t[7]+"",C=t[8]+"";function L(){return t[5](t[6])}return h=new ls({props:{title:t[7],info:t[9],invert:t[6]===t[0]}}),{c(){e=k("div"),n=k("div"),r=k("p"),o=_(A),l=N(),s=k("p"),c=_(C),f=N(),d=k("div"),xt(h.$$.fragment),p=N(),j(r,"class","is-size-3"),j(r,"id",a=t[6]+"-card-radio-title"),j(s,"class","is-size-4"),j(s,"id",u=t[6]+"-card-radio-subtitle"),j(n,"class","card-content"),j(d,"class","is-pulled-right"),j(e,"class","card column svelte-5etsnl"),j(e,"id",g=t[6]),j(e,"role","radio"),j(e,"data-index",m=t[11]),j(e,"aria-checked",y=t[6]===t[0]),j(e,"tabindex",b=t[6]===t[0]?0:-1),j(e,"aria-labelledby",w=`${t[6]}-card-radio-title ${t[6]}-card-radio-subtitle`),R(e,"has-background-primary",t[6]===t[0]),R(e,"has-text-white",t[6]===t[0])},m(i,a){$(i,e,a),v(e,n),v(n,r),v(r,o),v(n,l),v(n,s),v(s,c),v(e,f),v(e,d),St(h,d,null),v(e,p),S=!0,M||(T=[E(e,"click",L),E(e,"keydown",t[4])],M=!0)},p(n,i){t=n,(!S||2&i)&&A!==(A=t[7]+"")&&O(o,A),(!S||2&i&&a!==(a=t[6]+"-card-radio-title"))&&j(r,"id",a),(!S||2&i)&&C!==(C=t[8]+"")&&O(c,C),(!S||2&i&&u!==(u=t[6]+"-card-radio-subtitle"))&&j(s,"id",u);const l={};2&i&&(l.title=t[7]),2&i&&(l.info=t[9]),3&i&&(l.invert=t[6]===t[0]),h.$set(l),(!S||2&i&&g!==(g=t[6]))&&j(e,"id",g),(!S||3&i&&y!==(y=t[6]===t[0]))&&j(e,"aria-checked",y),(!S||3&i&&b!==(b=t[6]===t[0]?0:-1))&&j(e,"tabindex",b),(!S||2&i&&w!==(w=`${t[6]}-card-radio-title ${t[6]}-card-radio-subtitle`))&&j(e,"aria-labelledby",w),3&i&&R(e,"has-background-primary",t[6]===t[0]),3&i&&R(e,"has-text-white",t[6]===t[0])},i(t){S||(ht(h.$$.fragment,t),S=!0)},o(t){pt(h.$$.fragment,t),S=!1},d(t){t&&x(e),kt(h),M=!1,i(T)}}}function ic(t){let e,n,r=t[1],o=[];for(let e=0;e<r.length;e+=1)o[e]=oc(rc(t,r,e));const i=t=>pt(o[t],1,1,()=>{o[t]=null});return{c(){e=k("div");for(let t=0;t<o.length;t+=1)o[t].c();j(e,"class","columns"),j(e,"role","radiogroup"),j(e,"aria-label",t[2]),P(e,"margin-bottom","2rem")},m(t,r){$(t,e,r);for(let t=0;t<o.length;t+=1)o[t].m(e,null);n=!0},p(t,[a]){if(27&a){let n;for(r=t[1],n=0;n<r.length;n+=1){const i=rc(t,r,n);o[n]?(o[n].p(i,a),ht(o[n],1)):(o[n]=oc(i),o[n].c(),ht(o[n],1),o[n].m(e,null))}for(ft(),n=r.length;n<o.length;n+=1)i(n);dt()}(!n||4&a)&&j(e,"aria-label",t[2])},i(t){if(!n){for(let t=0;t<r.length;t+=1)ht(o[t]);n=!0}},o(t){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)pt(o[t]);n=!1},d(t){t&&x(e),S(o,t)}}}function ac(t,e,n){const r=W();let{calculation:o}=e,{options:i}=e,{groupLabel:a}=e;return t.$$set=t=>{"calculation"in t&&n(0,o=t.calculation),"options"in t&&n(1,i=t.options),"groupLabel"in t&&n(2,a=t.groupLabel)},[o,i,a,r,function(t){if("ArrowLeft"===t.key||"ArrowRight"===t.key){let e=+t.target.getAttribute("data-index")+("ArrowLeft"===t.key?-1:1);e>=i.length?e=0:e<0&&(e=i.length-1),document.getElementById(i[e].name).focus(),r("calculationClicked",i[e].name)}},t=>r("calculationClicked",t)]}class lc extends _t{constructor(t){super(),Mt(this,t,ac,ic,l,{calculation:0,options:1,groupLabel:2})}}const sc=new Map([["difference","Will there be a shortage or surplus?"],["percentage","What is the relative shortage or surplus?"],["supply","How many nurses are projected in the future?"],["demand","What will be the demand for services?"]]);var cc=Ge.get("calculation").options.map((function({value:t,label:e}){const n=t,r=e,o=ss.get(t);return{name:n,title:r,subtitle:sc.get(t),info:o}}));function uc(t){let e,n;return e=new Xs({props:{chartType:t[2],calculation:t[3]}}),{c(){xt(e.$$.fragment)},m(t,r){St(e,t,r),n=!0},p(t,n){const r={};4&n&&(r.chartType=t[2]),8&n&&(r.calculation=t[3]),e.$set(r)},i(t){n||(ht(e.$$.fragment,t),n=!0)},o(t){pt(e.$$.fragment,t),n=!1},d(t){kt(e,t)}}}function fc(t){let e,n,r,o,i,a,l,s,c,u,f,d;i=new Ds({props:{chartType:t[2]}}),l=new js({props:{data:t[0].get(t[3]).get(t[2]),chartType:t[2],projectionStartYear:vc}});const h=[pc,hc,dc],p=[];function g(t,e){return"line"==t[2]?0:"map"==t[2]?1:2}return c=g(t),u=p[c]=h[c](t),{c(){e=k("div"),n=k("div"),r=N(),o=k("div"),xt(i.$$.fragment),a=N(),xt(l.$$.fragment),s=N(),u.c(),f=T(),j(n,"class","column is-hidden-mobile is-paddingless"),j(o,"class","column is-narrow is-paddingless"),j(e,"class","columns is-marginless")},m(t,u){$(t,e,u),v(e,n),v(e,r),v(e,o),St(i,o,null),v(o,a),St(l,o,null),$(t,s,u),p[c].m(t,u),$(t,f,u),d=!0},p(t,e){const n={};4&e&&(n.chartType=t[2]),i.$set(n);const r={};13&e&&(r.data=t[0].get(t[3]).get(t[2])),4&e&&(r.chartType=t[2]),l.$set(r);let o=c;c=g(t),c===o?p[c].p(t,e):(ft(),pt(p[o],1,1,()=>{p[o]=null}),dt(),u=p[c],u?u.p(t,e):(u=p[c]=h[c](t),u.c()),ht(u,1),u.m(f.parentNode,f))},i(t){d||(ht(i.$$.fragment,t),ht(l.$$.fragment,t),ht(u),d=!0)},o(t){pt(i.$$.fragment,t),pt(l.$$.fragment,t),pt(u),d=!1},d(t){t&&x(e),kt(i),kt(l),t&&x(s),p[c].d(t),t&&x(f)}}}function dc(e){let n;return{c(){n=k("div"),n.textContent="An error has occurred.",j(n,"class","notification")},m(t,e){$(t,n,e)},p:t,i:t,o:t,d(t){t&&x(n)}}}function hc(t){let e,n;return e=new Jl({props:{data:t[0].get(t[3]).get(t[2])[0],geoJSON:t[1],projectionStartYear:vc}}),{c(){xt(e.$$.fragment)},m(t,r){St(e,t,r),n=!0},p(t,n){const r={};13&n&&(r.data=t[0].get(t[3]).get(t[2])[0]),2&n&&(r.geoJSON=t[1]),e.$set(r)},i(t){n||(ht(e.$$.fragment,t),n=!0)},o(t){pt(e.$$.fragment,t),n=!1},d(t){kt(e,t)}}}function pc(t){let e,n,r,o;const i=[mc,gc],a=[];function l(t,e){return"difference"==t[3]?0:1}return e=l(t),n=a[e]=i[e](t),{c(){n.c(),r=T()},m(t,n){a[e].m(t,n),$(t,r,n),o=!0},p(t,o){let s=e;e=l(t),e===s?a[e].p(t,o):(ft(),pt(a[s],1,1,()=>{a[s]=null}),dt(),n=a[e],n?n.p(t,o):(n=a[e]=i[e](t),n.c()),ht(n,1),n.m(r.parentNode,r))},i(t){o||(ht(n),o=!0)},o(t){pt(n),o=!1},d(t){a[e].d(t),t&&x(r)}}}function gc(t){let e,n;return e=new mo({props:{data:t[0].get(t[3]).get(t[2]),projectionStartYear:vc,calculation:t[3]}}),e.$on("deleteProjection",t[6]),{c(){xt(e.$$.fragment)},m(t,r){St(e,t,r),n=!0},p(t,n){const r={};13&n&&(r.data=t[0].get(t[3]).get(t[2])),8&n&&(r.calculation=t[3]),e.$set(r)},i(t){n||(ht(e.$$.fragment,t),n=!0)},o(t){pt(e.$$.fragment,t),n=!1},d(t){kt(e,t)}}}function mc(t){let e,n;return e=new Fo({props:{data:t[0].get(t[3]).get(t[2]),projectionStartYear:vc}}),e.$on("deleteProjection",t[6]),{c(){xt(e.$$.fragment)},m(t,r){St(e,t,r),n=!0},p(t,n){const r={};13&n&&(r.data=t[0].get(t[3]).get(t[2])),e.$set(r)},i(t){n||(ht(e.$$.fragment,t),n=!0)},o(t){pt(e.$$.fragment,t),n=!1},d(t){kt(e,t)}}}function yc(t){let e,n,r,o,i,a,l,s,c,u,f,d,h,p,g,m,y,b,w,S,M,_;r=new lc({props:{calculation:t[3],groupLabel:"Radio for Selecting a Calculation Type",options:cc}}),r.$on("calculationClicked",t[8]),l=new tc({props:{groupLabel:"Line chart or Map",chartType:t[2],options:[{value:"line",label:"Line Chart"},{value:"map",label:"Map"}]}}),l.$on("changeChartType",t[9]),f=new xs({props:{isLoading:t[4],calculation:t[3],chartType:t[2]}}),f.$on("showProjection",t[5]),f.$on("clearProjections",t[7]);const T=[fc,uc],E=[];function A(t,e){return(null==p||13&e)&&(p=!!(t[0].get(t[3]).get(t[2]).length>0)),p?0:1}return g=A(t,-1),m=E[g]=T[g](t),M=new nc({}),{c(){e=k("section"),n=k("div"),xt(r.$$.fragment),o=N(),i=k("div"),a=k("div"),xt(l.$$.fragment),s=N(),c=k("hr"),u=N(),xt(f.$$.fragment),d=N(),h=k("div"),m.c(),y=N(),b=k("hr"),w=N(),S=k("section"),xt(M.$$.fragment),j(a,"class","column is-4"),j(h,"class","column is-8 box"),j(i,"class","columns"),j(n,"class","container"),j(n,"id","main-container"),j(e,"class","section"),j(S,"class","section")},m(t,p){$(t,e,p),v(e,n),St(r,n,null),v(n,o),v(n,i),v(i,a),St(l,a,null),v(a,s),v(a,c),v(a,u),St(f,a,null),v(i,d),v(i,h),E[g].m(h,null),$(t,y,p),$(t,b,p),$(t,w,p),$(t,S,p),St(M,S,null),_=!0},p(t,[e]){const n={};8&e&&(n.calculation=t[3]),r.$set(n);const o={};4&e&&(o.chartType=t[2]),l.$set(o);const i={};16&e&&(i.isLoading=t[4]),8&e&&(i.calculation=t[3]),4&e&&(i.chartType=t[2]),f.$set(i);let a=g;g=A(t,e),g===a?E[g].p(t,e):(ft(),pt(E[a],1,1,()=>{E[a]=null}),dt(),m=E[g],m?m.p(t,e):(m=E[g]=T[g](t),m.c()),ht(m,1),m.m(h,null))},i(t){_||(ht(r.$$.fragment,t),ht(l.$$.fragment,t),ht(f.$$.fragment,t),ht(m),ht(M.$$.fragment,t),_=!0)},o(t){pt(r.$$.fragment,t),pt(l.$$.fragment,t),pt(f.$$.fragment,t),pt(m),pt(M.$$.fragment,t),_=!1},d(t){t&&x(e),kt(r),kt(l),kt(f),E[g].d(),t&&x(y),t&&x(b),t&&x(w),t&&x(S),kt(M)}}}let vc=2019;function bc(t,e,n){let r,o=new Map(["supply","demand","percentage","difference"].map(t=>[t,new Map(["line","map"].map(t=>[t,[]]))])),i="line",a="difference",l=!1;return U(()=>{Nn("/model/public/maps/ncLayers.json").then(t=>{n(1,r=t)}).catch(t=>{console.error(t)})}),t.$$.update=()=>{1&t.$$.dirty&&console.log(o)},[o,r,i,a,l,function({detail:t}){n(4,l=!0),async function(t,e,r){Nn(function(t,e="https://nurseproject-dept-healthworkforce.cloudapps.unc.edu/data/"){return`${e}?${t.map(t=>`${t.name}=${t.value}`).join("&")}`}(r)).then((function(r){if("line"==t){const n=o.get(e).get(t);o.get(e).set(t,[...n,...r])}else o.get(e).set(t,r);n(0,o)})).catch(t=>{console.error(t)}).finally(()=>{n(4,l=!1)})}(i,a,[{name:"calculation",value:a},...t])},function(t){const e=o.get(a).get(i);o.get(a).set(i,e.filter(e=>e.id!=+t.detail)),n(0,o)},function(){o.get(a).set(i,[]),n(0,o)},function({detail:t}){n(3,a=t)},function({detail:t}){n(2,i=t)}]}return new class extends _t{constructor(t){super(),Mt(this,t,bc,yc,l,{})}}({target:document.getElementById("app"),props:{}})}();
//# sourceMappingURL=bundle.js.map
